import{a as T}from"./chunk-6KIBPBIL.js";import{$a as S,Bb as F,Cb as R,E as g,Ga as a,Ib as I,Kb as U,Oa as h,Qb as G,Sb as V,X as l,_ as x,aa as C,c as f,fa as m,ha as c,jc as A,mb as y,nb as P,oa as r,pa as o,qa as p,qb as M,sb as w,tb as u,ub as O,va as b,vb as k,wa as _,zb as E}from"./chunk-FG5NIKUL.js";var N=()=>["/auth/sign-in"],D=()=>["/change"];function z(i,e){i&1&&(r(0,"div"),a(1,"El correo es obligatorio."),o())}function B(i,e){i&1&&(r(0,"div"),a(1,"Debe ser un correo v\xE1lido."),o())}function q(i,e){if(i&1&&(r(0,"div",16),m(1,z,2,0,"div",17)(2,B,2,0,"div",17),o()),i&2){let n,t,s=_();l(),c("ngIf",(n=s.form.get("email"))==null||n.errors==null?null:n.errors.required),l(),c("ngIf",(t=s.form.get("email"))==null||t.errors==null?null:t.errors.email)}}function L(i,e){i&1&&(r(0,"div"),a(1,"La contrase\xF1a es obligatoria."),o())}function H(i,e){if(i&1&&(r(0,"div",16),m(1,L,2,0,"div",17),o()),i&2){let n,t=_();l(),c("ngIf",(n=t.form.get("password"))==null||n.errors==null?null:n.errors.required)}}var v=class i{constructor(e){this.router=e}_formBuilder=g(I);_authService=g(A);auth=V();captchaResuelto=!1;recaptchaVerifier;form=this._formBuilder.group({email:this._formBuilder.control("",[u.required,u.email]),nombre:this._formBuilder.control("",[u.required]),password:this._formBuilder.control("",[u.required,T])});ngOnInit(){this.initRecaptcha()}initRecaptcha(){this.recaptchaVerifier&&this.recaptchaVerifier.clear(),this.recaptchaVerifier=new G(this.auth,"recaptcha-container",{size:"normal",callback:e=>{console.log("reCAPTCHA resuelto:",e),this.captchaResuelto=!0},"expired-callback":()=>{console.warn("reCAPTCHA expirado"),this.captchaResuelto=!1}}),this.recaptchaVerifier.render().then(e=>{console.log("reCAPTCHA renderizado con ID:",e)})}submit(){return f(this,null,function*(){if(!this.form.invalid){if(!this.captchaResuelto){alert("Por favor, resuelve el reCAPTCHA antes de continuar.");return}try{let{email:e,password:n,nombre:t}=this.form.value;if(!e||!n||!t)return;if(!e.trim()||!n.trim()||!t.trim()){alert("Por favor, completa todos los campos.");return}yield this._authService.signUp({email:e,password:n,nombre:t}),this.router.navigate(["/home"])}catch{alert("error")}}})}conGoogle(){return f(this,null,function*(){try{let e=yield this._authService.signInWithGoogle();console.log("Usuario autenticado con Google:",e.user),this.router.navigate(["/home"])}catch(e){console.error("Error en autenticaci\xF3n con Google:",e)}})}static \u0275fac=function(n){return new(n||i)(x(y))};static \u0275cmp=C({type:i,selectors:[["app-sign-up"]],decls:29,vars:8,consts:[[1,"registro-container"],[1,"google-btn",3,"click"],[1,"bx","bxl-google"],["id","recaptcha-container",2,"margin-top","16px"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email"],["class","error",4,"ngIf"],["for","nombre"],["type","text","id","nombre","formControlName","nombre"],["for","password"],["type","password","id","password","formControlName","password"],["type","submit",1,"submit-btn",3,"disabled"],[1,"links"],[3,"routerLink"],[1,"error"],[4,"ngIf"]],template:function(n,t){if(n&1&&(r(0,"div",0)(1,"h1"),a(2,"REG\xCDSTRATE"),o(),r(3,"button",1),b("click",function(){return t.conGoogle()}),p(4,"i",2),a(5,` Registrarse con Google
`),o(),p(6,"div",3),r(7,"form",4),b("ngSubmit",function(){return t.submit()}),r(8,"div",5)(9,"label",6),a(10,"Correo electr\xF3nico:"),o(),p(11,"input",7),m(12,q,3,2,"div",8),o(),r(13,"div",5)(14,"label",9),a(15,"Nombre:"),o(),p(16,"input",10),o(),r(17,"div",5)(18,"label",11),a(19,"Contrase\xF1a:"),o(),p(20,"input",12),m(21,H,2,1,"div",8),o(),r(22,"button",13),a(23,"Registrarse"),o(),r(24,"div",14)(25,"a",15),a(26,"\xBFYa tienes cuenta? Inicia sesi\xF3n"),o(),r(27,"a",15),a(28,"Cambiar contrase\xF1a"),o()()()()),n&2){let s,d;l(7),c("formGroup",t.form),l(5),c("ngIf",((s=t.form.get("email"))==null?null:s.invalid)&&((s=t.form.get("email"))==null?null:s.touched)),l(9),c("ngIf",((d=t.form.get("password"))==null?null:d.invalid)&&((d=t.form.get("password"))==null?null:d.touched)),l(),c("disabled",t.form.invalid),l(3),c("routerLink",h(6,N)),l(2),c("routerLink",h(7,D))}},dependencies:[U,E,w,O,k,F,R,M,P,S],styles:[".registro-container[_ngcontent-%COMP%]{max-width:400px;margin:50px auto;padding:30px;background-color:#1e1e1e;box-shadow:0 4px 12px #ff6f0066;border-radius:10px;font-family:Segoe UI,sans-serif;color:#ffb74d}h1[_ngcontent-%COMP%]{text-align:center;color:#ffa726;margin-bottom:20px}.google-btn[_ngcontent-%COMP%]{background-color:#2c2c2c;color:#ffb74d;border:1px solid #ff6f00;font-size:16px;font-weight:500;padding:10px 20px;border-radius:4px;display:flex;align-items:center;gap:10px;cursor:pointer;transition:background-color .3s ease,color .3s ease}.google-btn[_ngcontent-%COMP%]   i.bx[_ngcontent-%COMP%]{font-size:20px;color:#ff6f00}.google-btn[_ngcontent-%COMP%]:hover{background-color:#ff6f00;color:#1e1e1e}.google-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#1e1e1e}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;color:#ffb74d}input[type=email][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:8px 10px;border:1px solid #ff6f00;border-radius:6px;font-size:14px;background-color:#2c2c2c;color:#fff;transition:border-color .3s ease}input[_ngcontent-%COMP%]:focus{border-color:#ffa726;outline:none}.error[_ngcontent-%COMP%]{color:#ff5722;font-size:13px;margin-top:5px}.submit-btn[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#ff6f00;color:#fff;border:none;border-radius:6px;cursor:pointer;font-weight:700;transition:background-color .3s ease}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#ffa726}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#8d6e63;cursor:not-allowed}.links[_ngcontent-%COMP%]{margin-top:15px;text-align:center;display:flex;justify-content:space-between;font-size:13px;color:#ffb74d}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ff6f00;text-decoration:none}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline;color:#ffa726}"]})};export{v as default};
