<div class="container my-5">
  <div class="titulo-container">
    <h1 class="text-center">Nuestros Productos</h1>
    <p class="subtitulo">Explora la mejor selección de suplementos y accesorios para tu entrenamiento</p>
  </div>
  <hr class="divider-orange" />

  <!-- Botones de navegación -->
  <div class="container text-center mb-4">
    <div class="d-flex flex-wrap justify-content-center gap-3">
      <button class="btn btn-outline-warning d-flex align-items-center gap-2" (click)="scrollTo('proteinas')">
        <i class="bx bx-dumbbell fs-5"></i> Proteínas
      </button>
      <button class="btn btn-outline-warning d-flex align-items-center gap-2" (click)="scrollTo('creatinas')">
        <i class="bx bx-capsule fs-5"></i> Creatinas
      </button>
      <button class="btn btn-outline-warning d-flex align-items-center gap-2" (click)="scrollTo('preentrenos')">
        <i class="bx bx-bolt-circle fs-5"></i> Pre-entrenos
      </button>
      <button class="btn btn-outline-warning d-flex align-items-center gap-2" (click)="scrollTo('accesorios')">
        <i class="bx bx-package fs-5"></i> Accesorios
      </button>
      <button class="btn btn-outline-warning d-flex align-items-center gap-2" (click)="scrollTo('ropa')">
        <i class="bx bx-closet fs-5"></i> Ropa
      </button>
    </div>
  </div>

  <!-- Proteínas -->
  <section id="proteinas" class="mb-5">
    <h2 class="mb-3 pb-2">Proteínas</h2>
    <div class="row">
      @for (producto of proteinas; track producto.id) {
        <div class="col-md-3 mb-4">
          <div class="card h-100 shadow-sm">
            <img [src]="producto.imagen" class="card-img-top img-producto" alt="{{producto.nombre}}" />
            <div class="card-body d-flex flex-column">
              <h5 class="card-title">{{producto.nombre}}</h5>
              <p class="card-text">{{producto.descripcion}}</p>
              <p class="card-text fw-bold">$ {{producto.precio | number:'1.2-2'}}</p>
              <button class="btn mt-auto" (click)="agregarAlCarrito(producto)">Agregar al carrito</button>
            </div>
          </div>
        </div>
      }
    </div>
  </section>

  <!-- Creatinas -->
  <section id="creatinas" class="mb-5">
    <h2 class="mb-3 pb-2">Creatinas</h2>
    <div class="row">
      @for (producto of creatinas; track producto.id) {
        <div class="col-md-3 mb-4">
          <div class="card h-100 shadow-sm">
            <img [src]="producto.imagen" class="card-img-top img-producto" alt="{{producto.nombre}}" />
            <div class="card-body d-flex flex-column">
              <h5 class="card-title">{{producto.nombre}}</h5>
              <p class="card-text">{{producto.descripcion}}</p>
              <p class="card-text fw-bold">$ {{producto.precio | number:'1.2-2'}}</p>
              <button class="btn mt-auto" (click)="agregarAlCarrito(producto)">Agregar al carrito</button>
            </div>
          </div>
        </div>
      }
    </div>
  </section>

  <!-- Pre-entrenos -->
  <section id="preentrenos" class="mb-5">
    <h2 class="mb-3 pb-2">Pre-entrenos</h2>
    <div class="row">
      @for (producto of preentrenos; track producto.id) {
        <div class="col-md-3 mb-4">
          <div class="card h-100 shadow-sm">
            <img [src]="producto.imagen" class="card-img-top img-producto" alt="{{producto.nombre}}" />
            <div class="card-body d-flex flex-column">
              <h5 class="card-title">{{producto.nombre}}</h5>
              <p class="card-text">{{producto.descripcion}}</p>
              <p class="card-text fw-bold">$ {{producto.precio | number:'1.2-2'}}</p>
              <button class="btn mt-auto" (click)="agregarAlCarrito(producto)">Agregar al carrito</button>
            </div>
          </div>
        </div>
      }
    </div>
  </section>

  <!-- Accesorios -->
  <section id="accesorios" class="mb-5">
    <h2 class="mb-3 pb-2">Accesorios</h2>
    <div class="row">
      @for (producto of accesorios; track producto.id) {
        <div class="col-md-3 mb-4">
          <div class="card h-100 shadow-sm">
            <img [src]="producto.imagen" class="card-img-top img-producto" alt="{{producto.nombre}}" />
            <div class="card-body d-flex flex-column">
              <h5 class="card-title">{{producto.nombre}}</h5>
              <p class="card-text">{{producto.descripcion}}</p>
              <p class="card-text fw-bold">$ {{producto.precio | number:'1.2-2'}}</p>
              <button class="btn mt-auto" (click)="agregarAlCarrito(producto)">Agregar al carrito</button>
            </div>
          </div>
        </div>
      }
    </div>
  </section>

  <!-- Ropa -->
  <section id="ropa" class="mb-5">
    <h2 class="mb-3 pb-2">Ropa</h2>
    <div class="row">
      @for (producto of ropa; track producto.id) {
        <div class="col-md-3 mb-4">
          <div class="card h-100 shadow-sm">
            <img [src]="producto.imagen" class="card-img-top img-producto" alt="{{producto.nombre}}" />
            <div class="card-body d-flex flex-column">
              <h5 class="card-title">{{producto.nombre}}</h5>
              <p class="card-text">{{producto.descripcion}}</p>
              <p class="card-text fw-bold">$ {{producto.precio | number:'1.2-2'}}</p>
              <button class="btn mt-auto" (click)="agregarAlCarrito(producto)">Agregar al carrito</button>
            </div>
          </div>
        </div>
      }
    </div>
  </section>

  <hr />

  <!-- Carrito -->
  <h3>Carrito de compras</h3>
  @if (carrito.length > 0) {
    <ul class="list-group mb-3">
      @for (item of carrito; track $index) {
        <li class="list-group-item d-flex justify-content-between align-items-center">
          {{ item.nombre }} - ${{ item.precio | number:'1.2-2' }}
          <button class="btn btn-sm btn-danger" (click)="eliminarDelCarrito($index)">Eliminar</button>
        </li>
      }
    </ul>
    <div class="d-flex justify-content-between align-items-center">
      <h4>Total: $ {{ total | number:'1.2-2' }}</h4>
      <div id="paypal-button-container"></div>
    </div>
  } @else {
    <p>No hay productos en el carrito.</p>
  }
</div>
