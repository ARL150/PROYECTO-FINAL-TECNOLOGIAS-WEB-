<div class="container my-5">
<div class="titulo-container">
  <h1 class="text-center">Nuestros Productos</h1>
  <p class="subtitulo">Explora la mejor selección de suplementos y accesorios para tu entrenamiento</p>
</div>
<hr class="divider-orange">

  <!-- Sección Proteínas -->
  <section id="proteinas" class="mb-5">
    <h2 class="mb-3 pb-2">Proteínas</h2>
    <div class="row">
      <div class="col-md-3 mb-4" *ngFor="let producto of proteinas ">
        <div class="card h-100 shadow-sm">
          <img [src]="producto.imagen" class="card-img-top" alt="{{producto.nombre}}">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">{{producto.nombre}}</h5>
            <p class="card-text">{{producto.descripcion}}</p>
            <p class="card-text fw-bold">$ {{producto.precio | number:'1.2-2'}}</p>
            <button class="btn mt-auto" (click)="agregarAlCarrito(producto)">Agregar al carrito</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Sección Creatinas -->
  <section id="creatinas" class="mb-5">
    <h2 class="mb-3 pb-2">Creatinas</h2>
    <div class="row">
      <div class="col-md-3 mb-4" *ngFor="let producto of creatinas ">
        <div class="card h-100 shadow-sm">
          <img [src]="producto.imagen" class="card-img-top" alt="{{producto.nombre}}">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">{{producto.nombre}}</h5>
            <p class="card-text">{{producto.descripcion}}</p>
            <p class="card-text fw-bold">$ {{producto.precio | number:'1.2-2'}}</p>
            <button class="btn mt-auto" (click)="agregarAlCarrito(producto)">Agregar al carrito</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Sección Pre-entrenos -->
  <section id="preentrenos" class="mb-5">
    <h2 class="mb-3 pb-2">Pre-entrenos</h2>
    <div class="row">
      <div class="col-md-3 mb-4" *ngFor="let producto of preentrenos ">
        <div class="card h-100 shadow-sm">
          <img [src]="producto.imagen" class="card-img-top" alt="{{producto.nombre}}">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">{{producto.nombre}}</h5>
            <p class="card-text">{{producto.descripcion}}</p>
            <p class="card-text fw-bold">$ {{producto.precio | number:'1.2-2'}}</p>
            <button class="btn mt-auto" (click)="agregarAlCarrito(producto)">Agregar al carrito</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Sección Accesorios -->
  <section id="accesorios" class="mb-5">
    <h2 class="mb-3 pb-2">Accesorios</h2>
    <div class="row">
      <div class="col-md-3 mb-4" *ngFor="let producto of accesorios ">
        <div class="card h-100 shadow-sm">
          <img [src]="producto.imagen" class="card-img-top" alt="{{producto.nombre}}">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">{{producto.nombre}}</h5>
            <p class="card-text">{{producto.descripcion}}</p>
            <p class="card-text fw-bold">$ {{producto.precio | number:'1.2-2'}}</p>
            <button class="btn mt-auto" (click)="agregarAlCarrito(producto)">Agregar al carrito</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Sección Ropa -->
  <section id="ropa" class="mb-5">
    <h2 class="mb-3 pb-2">Ropa</h2>
    <div class="row">
      <div class="col-md-3 mb-4" *ngFor="let producto of ropa">
        <div class="card h-100 shadow-sm">
          <img [src]="producto.imagen" class="card-img-top" alt="{{producto.nombre}}">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">{{producto.nombre}}</h5>
            <p class="card-text">{{producto.descripcion}}</p>
            <p class="card-text fw-bold">$ {{producto.precio | number:'1.2-2'}}</p>
            <button class="btn mt-auto" (click)="agregarAlCarrito(producto)">Agregar al carrito</button>
          </div>
        </div>
      </div>
    </div>
  </section>
  <hr>

  <!-- Carrito de compras -->
  <h3>Carrito de compras</h3>
  <ul class="list-group mb-3" *ngIf="carrito.length > 0; else vacio">
    <li class="list-group-item d-flex justify-content-between align-items-center" *ngFor="let item of carrito; let i = index">
      {{ item.nombre }} - ${{ item.precio | number:'1.2-2' }}
      <button class="btn btn-sm btn-danger" (click)="eliminarDelCarrito(i)">Eliminar</button>
    </li>
  </ul>
  <ng-template #vacio>
    <p>No hay productos en el carrito.</p>
  </ng-template>

  <div *ngIf="carrito.length > 0" class="d-flex justify-content-between align-items-center">
    <h4>Total: $ {{ total | number:'1.2-2' }}</h4>
    
    <div id="paypal-button-container"></div>
  </div>
</div>
