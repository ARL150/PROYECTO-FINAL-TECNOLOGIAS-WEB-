import{$a as x,Ab as B,Cb as D,Db as O,E as C,Ga as f,Jb as T,Lb as z,Oa as y,Rb as j,Tb as H,X as a,_ as v,aa as b,c as U,db as M,fa as m,ha as s,ia as h,kc as R,nb as A,oa as e,ob as E,pa as r,qa as c,rb as S,tb as k,ub as u,va as _,vb as P,wa as F,wb as I}from"./chunk-7FHYZTQC.js";var W=()=>["/auth/sign-up"],J=()=>["/change"];function K(i,n){i&1&&(e(0,"div"),f(1,"El correo es obligatorio."),r())}function V(i,n){i&1&&(e(0,"div"),f(1,"Debe ser un correo v\xE1lido."),r())}function G(i,n){if(i&1&&(e(0,"div",20),m(1,K,2,0,"div",21)(2,V,2,0,"div",21),r()),i&2){let o,t,l=F();a(),s("ngIf",(o=l.form.get("email"))==null||o.errors==null?null:o.errors.required),a(),s("ngIf",(t=l.form.get("email"))==null||t.errors==null?null:t.errors.email)}}function N(i,n){i&1&&(e(0,"div"),f(1,"La contrase\xF1a es obligatoria."),r())}function L(i,n){if(i&1&&(e(0,"div",20),m(1,N,2,0,"div",21),r()),i&2){let o,t=F();a(),s("ngIf",(o=t.form.get("password"))==null||o.errors==null?null:o.errors.required)}}var w=class i{constructor(n){this.router=n}_formBuilder=C(T);_authService=C(R);auth=H();form=this._formBuilder.group({email:this._formBuilder.control("",[u.required,u.email]),password:this._formBuilder.control("",u.required)});captchaResuelto=!1;recaptchaVerifier;ngOnInit(){this.initRecaptcha()}initRecaptcha(){this.recaptchaVerifier&&this.recaptchaVerifier.clear(),this.recaptchaVerifier=new j(this.auth,"recaptcha-container",{size:"normal",callback:n=>{console.log("reCAPTCHA resuelto:",n),this.captchaResuelto=!0},"expired-callback":()=>{console.warn("reCAPTCHA expirado"),this.captchaResuelto=!1}}),this.recaptchaVerifier.render().then(n=>{console.log("reCAPTCHA renderizado con ID:",n)})}submit(){return U(this,null,function*(){if(this.form.invalid)return;let{email:n,password:o}=this.form.value;if(!n.trim()||!o.trim()){alert("Por favor, completa todos los campos.");return}if(!this.captchaResuelto){alert("Por favor, completa el reCAPTCHA.");return}try{yield this._authService.signIn({email:n,password:o}),this.router.navigate(["/home"])}catch(t){console.error(t),this.recaptchaVerifier.clear(),this.initRecaptcha(),this.captchaResuelto=!1,yield this._authService.incrementarIntentosPorEmail(n)}this.form.reset()})}conGoogle(){return U(this,null,function*(){try{let n=yield this._authService.signInWithGoogle();console.log("Usuario autenticado con Google:",n.user),this.router.navigate(["/home"])}catch(n){console.error("Error en autenticaci\xF3n con Google:",n)}})}static \u0275fac=function(o){return new(o||i)(v(A))};static \u0275cmp=b({type:i,selectors:[["app-sign-in"]],decls:30,vars:12,consts:[[1,"registro-container"],[1,"social-networks"],[1,"google-btn",3,"click"],[1,"bx","bxl-google"],[1,"bx","bxl-twitch","icon"],[1,"bx","bxl-twitter","icon"],[1,"bx","bxl-instagram","icon"],[1,"bx","bxl-tiktok","icon"],["novalidate","",1,"login-form",3,"ngSubmit","formGroup"],[1,"container-input"],[1,"bx","bx-envelope"],["type","email","placeholder","Correo electr\xF3nico","formControlName","email"],["class","error",4,"ngIf"],[1,"bx","bx-lock"],["type","password","placeholder","Contrase\xF1a","formControlName","password"],[1,"links"],[3,"routerLink"],[1,"change-link",3,"routerLink"],["id","recaptcha-container"],["type","submit",1,"button",3,"disabled"],[1,"error"],[4,"ngIf"]],template:function(o,t){if(o&1&&(e(0,"body")(1,"div",0)(2,"h2"),f(3,"Iniciar Sesi\xF3n"),r(),e(4,"div",1)(5,"button",2),_("click",function(){return t.conGoogle()}),c(6,"i",3),r(),c(7,"i",4)(8,"i",5)(9,"i",6)(10,"i",7),r(),e(11,"form",8),_("ngSubmit",function(){return t.submit()}),e(12,"span"),f(13,"Use su correo y contrase\xF1a"),r(),e(14,"div",9),c(15,"i",10)(16,"input",11),r(),m(17,G,3,2,"div",12),e(18,"div",9),c(19,"i",13)(20,"input",14),r(),m(21,L,2,1,"div",12),e(22,"div",15)(23,"a",16),f(24,"No tienes cuenta, crea una"),r(),e(25,"a",17),f(26,"\xBFCambiar tu clave?"),r()(),c(27,"div",18),e(28,"button",19),f(29,"Iniciar sesi\xF3n"),r()()()()),o&2){let l,p,g,d;a(11),s("formGroup",t.form),a(5),h("invalid",((l=t.form.get("email"))==null?null:l.invalid)&&((l=t.form.get("email"))==null?null:l.touched)),a(),s("ngIf",((p=t.form.get("email"))==null?null:p.invalid)&&((p=t.form.get("email"))==null?null:p.touched)),a(3),h("invalid",((g=t.form.get("password"))==null?null:g.invalid)&&((g=t.form.get("password"))==null?null:g.touched)),a(),s("ngIf",((d=t.form.get("password"))==null?null:d.invalid)&&((d=t.form.get("password"))==null?null:d.touched)),a(2),s("routerLink",y(10,W)),a(2),s("routerLink",y(11,J)),a(3),s("disabled",t.form.invalid)}},dependencies:[z,B,k,P,I,D,O,S,E,M,x],styles:['@font-face{font-family:Montserrat;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459WRhyzbi.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Montserrat;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Montserrat;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459WZhyzbi.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Montserrat;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459Wdhyzbi.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Montserrat;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459Wlhyw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Montserrat;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459WRhyzbi.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Montserrat;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Montserrat;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459WZhyzbi.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Montserrat;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459Wdhyzbi.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Montserrat;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459Wlhyw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Montserrat;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459WRhyzbi.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Montserrat;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Montserrat;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459WZhyzbi.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Montserrat;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459Wdhyzbi.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Montserrat;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459Wlhyw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Montserrat,sans-serif}body[_ngcontent-%COMP%]{background-color:#000;display:flex;justify-content:center;align-items:start;padding-top:60px;height:100vh;font-family:Montserrat,sans-serif}.registro-container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 30px;width:400px;border-radius:15px;box-shadow:0 0 12px #00000026;display:flex;flex-direction:column;gap:16px}.registro-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px;color:#333}.social-networks[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-bottom:10px}.google-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;background-color:#fff;border:1px solid #ccc;padding:8px 12px;border-radius:5px;font-weight:500;cursor:pointer;font-size:14px}.google-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#4285f4;font-size:18px}.icon[_ngcontent-%COMP%]{font-size:20px;color:#444;cursor:pointer;transition:transform .2s}.icon[_ngcontent-%COMP%]:hover{transform:scale(1.2);color:#ff6f00}.container-input[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#eee;padding:10px 15px;border-radius:6px;margin-bottom:5px}.container-input[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;margin-right:8px;color:#666}.container-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;background:transparent;outline:none;width:100%;font-size:14px}.button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#ff6f00;border:none;border-radius:5px;color:#fff;font-weight:600;cursor:pointer;transition:background-color .3s}.button[_ngcontent-%COMP%]:hover{background-color:#e65c00}.error[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:-5px;margin-bottom:5px;padding-left:4px}.invalid[_ngcontent-%COMP%]{border-bottom:2px solid red}.links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:12px;margin-top:10px}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#444;text-decoration:none;transition:color .2s}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ff6f00}.social-networks[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:25px;justify-content:center}.social-networks[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .social-networks[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]{border:1px solid #C9CCCB;border-radius:6px;padding:10px;font-size:20px;cursor:pointer;transition:all .3s ease;background-color:#fff;color:#333}.social-networks[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:hover, .social-networks[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:hover{background-color:#ff6f00;color:#fff;border-color:#ff6f00}.google-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px;color:#000;transition:color .3s ease}.google-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#fff}']})};export{w as default};
