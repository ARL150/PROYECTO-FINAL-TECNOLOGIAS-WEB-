var QO=Object.create;var Vg=Object.defineProperty,YO=Object.defineProperties,ZO=Object.getOwnPropertyDescriptor,JO=Object.getOwnPropertyDescriptors,XO=Object.getOwnPropertyNames,JT=Object.getOwnPropertySymbols,eb=Object.getPrototypeOf,tb=Object.prototype.hasOwnProperty,e1=Object.prototype.propertyIsEnumerable,t1=Reflect.get;var XT=(n,e,t)=>e in n?Vg(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,O=(n,e)=>{for(var t in e||={})tb.call(e,t)&&XT(n,t,e[t]);if(JT)for(var t of JT(e))e1.call(e,t)&&XT(n,t,e[t]);return n},le=(n,e)=>YO(n,JO(e));var CW=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var n1=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of XO(e))!tb.call(n,i)&&i!==t&&Vg(n,i,{get:()=>e[i],enumerable:!(r=ZO(e,i))||r.enumerable});return n};var SW=(n,e,t)=>(t=n!=null?QO(eb(n)):{},n1(e||!n||!n.__esModule?Vg(t,"default",{value:n,enumerable:!0}):t,n));var Br=(n,e,t)=>t1(eb(n),t,e);var v=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(l){i(l)}},s=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function $g(n,e){return Object.is(n,e)}var Qe=null,yl=!1,Hg=1,en=Symbol("SIGNAL");function ae(n){let e=Qe;return Qe=n,e}function zg(){return Qe}var Qa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ya(n){if(yl)throw new Error("");if(Qe===null)return;Qe.consumerOnSignalRead(n);let e=Qe.nextProducerIndex++;if(Il(Qe),e<Qe.producerNode.length&&Qe.producerNode[e]!==n&&Ka(Qe)){let t=Qe.producerNode[e];El(t,Qe.producerIndexOfThis[e])}Qe.producerNode[e]!==n&&(Qe.producerNode[e]=n,Qe.producerIndexOfThis[e]=Ka(Qe)?rb(n,Qe,e):0),Qe.producerLastReadVersion[e]=n.version}function nb(){Hg++}function qg(n){if(!(Ka(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Hg)){if(!n.producerMustRecompute(n)&&!Qg(n)){Bg(n);return}n.producerRecomputeValue(n),Bg(n)}}function Gg(n){if(n.liveConsumerNode===void 0)return;let e=yl;yl=!0;try{for(let t of n.liveConsumerNode)t.dirty||r1(t)}finally{yl=e}}function Wg(){return Qe?.consumerAllowSignalWrites!==!1}function r1(n){n.dirty=!0,Gg(n),n.consumerMarkedDirty?.(n)}function Bg(n){n.dirty=!1,n.lastCleanEpoch=Hg}function _l(n){return n&&(n.nextProducerIndex=0),ae(n)}function Kg(n,e){if(ae(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ka(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)El(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Qg(n){Il(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(qg(t),r!==t.version))return!0}return!1}function Yg(n){if(Il(n),Ka(n))for(let e=0;e<n.producerNode.length;e++)El(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function rb(n,e,t){if(ib(n),n.liveConsumerNode.length===0&&ob(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=rb(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function El(n,e){if(ib(n),n.liveConsumerNode.length===1&&ob(n))for(let r=0;r<n.producerNode.length;r++)El(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Il(i),i.producerIndexOfThis[r]=e}}function Ka(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Il(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function ib(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function ob(n){return n.producerNode!==void 0}function Zg(n,e){let t=Object.create(i1);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(qg(t),Ya(t),t.value===vl)throw t.error;return t.value};return r[en]=t,r}var jg=Symbol("UNSET"),Ug=Symbol("COMPUTING"),vl=Symbol("ERRORED"),i1=le(O({},Qa),{value:jg,dirty:!0,error:null,equal:$g,kind:"computed",producerMustRecompute(n){return n.value===jg||n.value===Ug},producerRecomputeValue(n){if(n.value===Ug)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Ug;let t=_l(n),r,i=!1;try{r=n.computation(),ae(null),i=e!==jg&&e!==vl&&r!==vl&&n.equal(e,r)}catch(o){r=vl,n.error=o}finally{Kg(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function o1(){throw new Error}var sb=o1;function ab(n){sb(n)}function Jg(n){sb=n}var s1=null;function Xg(n,e){let t=Object.create(wl);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(Ya(t),t.value);return r[en]=t,r}function Za(n,e){Wg()||ab(n),n.equal(n.value,e)||(n.value=e,a1(n))}function em(n,e){Wg()||ab(n),Za(n,e(n.value))}var wl=le(O({},Qa),{equal:$g,value:void 0,kind:"signal"});function a1(n){n.version++,nb(),Gg(n),s1?.()}function tm(n){let e=ae(null);try{return n()}finally{ae(e)}}var nm;function Ja(){return nm}function cr(n){let e=nm;return nm=n,e}var Dl=Symbol("NotFound");function X(n){return typeof n=="function"}function Ho(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Tl=Ho(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Pi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Fe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(X(r))try{r()}catch(o){e=o instanceof Tl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{cb(o)}catch(s){e=e??[],s instanceof Tl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Tl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)cb(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Pi(t,e)}remove(e){let{_finalizers:t}=this;t&&Pi(t,e),e instanceof n&&e._removeParent(this)}};Fe.EMPTY=(()=>{let n=new Fe;return n.closed=!0,n})();var rm=Fe.EMPTY;function bl(n){return n instanceof Fe||n&&"closed"in n&&X(n.remove)&&X(n.add)&&X(n.unsubscribe)}function cb(n){X(n)?n():n.unsubscribe()}var ln={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var zo={setTimeout(n,e,...t){let{delegate:r}=zo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=zo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Cl(n){zo.setTimeout(()=>{let{onUnhandledError:e}=ln;if(e)e(n);else throw n})}function Xa(){}var ub=im("C",void 0,void 0);function lb(n){return im("E",void 0,n)}function db(n){return im("N",n,void 0)}function im(n,e,t){return{kind:n,value:e,error:t}}var xi=null;function qo(n){if(ln.useDeprecatedSynchronousErrorHandling){let e=!xi;if(e&&(xi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=xi;if(xi=null,t)throw r}}else n()}function hb(n){ln.useDeprecatedSynchronousErrorHandling&&xi&&(xi.errorThrown=!0,xi.error=n)}var ki=class extends Fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,bl(e)&&e.add(this)):this.destination=f1}static create(e,t,r){return new ur(e,t,r)}next(e){this.isStopped?sm(db(e),this):this._next(e)}error(e){this.isStopped?sm(lb(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?sm(ub,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},d1=Function.prototype.bind;function om(n,e){return d1.call(n,e)}var am=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Sl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Sl(r)}else Sl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Sl(t)}}},ur=class extends ki{constructor(e,t,r){super();let i;if(X(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&ln.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&om(e.next,o),error:e.error&&om(e.error,o),complete:e.complete&&om(e.complete,o)}):i=e}this.destination=new am(i)}};function Sl(n){ln.useDeprecatedSynchronousErrorHandling?hb(n):Cl(n)}function h1(n){throw n}function sm(n,e){let{onStoppedNotification:t}=ln;t&&zo.setTimeout(()=>t(n,e))}var f1={closed:!0,next:Xa,error:h1,complete:Xa};var Go=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ht(n){return n}function Al(...n){return cm(n)}function cm(n){return n.length===0?Ht:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var re=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=g1(t)?t:new ur(t,r,i);return qo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=fb(r),new r((i,o)=>{let s=new ur({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Go](){return this}pipe(...t){return cm(t)(this)}toPromise(t){return t=fb(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function fb(n){var e;return(e=n??ln.Promise)!==null&&e!==void 0?e:Promise}function p1(n){return n&&X(n.next)&&X(n.error)&&X(n.complete)}function g1(n){return n&&n instanceof ki||p1(n)&&bl(n)}function um(n){return X(n?.lift)}function ce(n){return e=>{if(um(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function oe(n,e,t,r,i){return new lm(n,e,t,r,i)}var lm=class extends ki{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Wo(){return ce((n,e)=>{let t=null;n._refCount++;let r=oe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Ko=class extends re{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,um(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fe;let t=this.getSubject();e.add(this.source.subscribe(oe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fe.EMPTY)}return e}refCount(){return Wo()(this)}};var pb=Ho(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ne=(()=>{class n extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Rl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new pb}next(t){qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?rm:(this.currentObservers=null,o.push(t),new Fe(()=>{this.currentObservers=null,Pi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new re;return t.source=this,t}}return n.create=(e,t)=>new Rl(e,t),n})(),Rl=class extends Ne{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:rm}};var He=class extends Ne{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var dm={now(){return(dm.delegate||Date).now()},delegate:void 0};var Nl=class extends Fe{constructor(e,t){super()}schedule(e,t=0){return this}};var ec={setInterval(n,e,...t){let{delegate:r}=ec;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ec;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Qo=class extends Nl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ec.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ec.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Pi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Yo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Yo.now=dm.now;var Zo=class extends Yo{constructor(e,t=Yo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var $r=new Zo(Qo),hm=$r;var Ml=class extends Qo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Pl=class extends Zo{};var fm=new Pl(Ml);var St=new re(n=>n.complete());function xl(n){return n&&X(n.schedule)}function gb(n){return n[n.length-1]}function kl(n){return X(gb(n))?n.pop():void 0}function Hr(n){return xl(gb(n))?n.pop():void 0}function Ol(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function yb(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function c(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function mb(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oi(n){return this instanceof Oi?(this.v=n,this):new Oi(n)}function vb(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(w){return Promise.resolve(w).then(m,p)}}function a(m,w){r[m]&&(i[m]=function(A){return new Promise(function(R,k){o.push([m,A,R,k])>1||c(m,A)})},w&&(i[m]=w(i[m])))}function c(m,w){try{l(r[m](w))}catch(A){g(o[0][3],A)}}function l(m){m.value instanceof Oi?Promise.resolve(m.value.v).then(h,p):g(o[0][2],m)}function h(m){c("next",m)}function p(m){c("throw",m)}function g(m,w){m(w),o.shift(),o.length&&c(o[0][0],o[0][1])}}function _b(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof mb=="function"?mb(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Fl=n=>n&&typeof n.length=="number"&&typeof n!="function";function Ll(n){return X(n?.then)}function Vl(n){return X(n[Go])}function jl(n){return Symbol.asyncIterator&&X(n?.[Symbol.asyncIterator])}function Ul(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function m1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Bl=m1();function $l(n){return X(n?.[Bl])}function Hl(n){return vb(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Oi(t.read());if(i)return yield Oi(void 0);yield yield Oi(r)}}finally{t.releaseLock()}})}function zl(n){return X(n?.getReader)}function Se(n){if(n instanceof re)return n;if(n!=null){if(Vl(n))return y1(n);if(Fl(n))return v1(n);if(Ll(n))return _1(n);if(jl(n))return Eb(n);if($l(n))return E1(n);if(zl(n))return I1(n)}throw Ul(n)}function y1(n){return new re(e=>{let t=n[Go]();if(X(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function v1(n){return new re(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function _1(n){return new re(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Cl)})}function E1(n){return new re(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Eb(n){return new re(e=>{w1(n,e).catch(t=>e.error(t))})}function I1(n){return Eb(Hl(n))}function w1(n,e){var t,r,i,o;return yb(this,void 0,void 0,function*(){try{for(t=_b(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function At(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function zr(n,e=0){return ce((t,r)=>{t.subscribe(oe(r,i=>At(r,n,()=>r.next(i),e),()=>At(r,n,()=>r.complete(),e),i=>At(r,n,()=>r.error(i),e)))})}function qr(n,e=0){return ce((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Ib(n,e){return Se(n).pipe(qr(e),zr(e))}function wb(n,e){return Se(n).pipe(qr(e),zr(e))}function Db(n,e){return new re(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Tb(n,e){return new re(t=>{let r;return At(t,e,()=>{r=n[Bl](),At(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>X(r?.return)&&r.return()})}function ql(n,e){if(!n)throw new Error("Iterable cannot be null");return new re(t=>{At(t,e,()=>{let r=n[Symbol.asyncIterator]();At(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function bb(n,e){return ql(Hl(n),e)}function Cb(n,e){if(n!=null){if(Vl(n))return Ib(n,e);if(Fl(n))return Db(n,e);if(Ll(n))return wb(n,e);if(jl(n))return ql(n,e);if($l(n))return Tb(n,e);if(zl(n))return bb(n,e)}throw Ul(n)}function we(n,e){return e?Cb(n,e):Se(n)}function W(...n){let e=Hr(n);return we(n,e)}function Jo(n,e){let t=X(n)?n:()=>n,r=i=>i.error(t());return new re(e?i=>e.schedule(r,0,i):r)}function pm(n){return!!n&&(n instanceof re||X(n.lift)&&X(n.subscribe))}var lr=Ho(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Sb(n){return n instanceof Date&&!isNaN(n)}function ee(n,e){return ce((t,r)=>{let i=0;t.subscribe(oe(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:D1}=Array;function T1(n,e){return D1(e)?n(...e):n(e)}function Gl(n){return ee(e=>T1(n,e))}var{isArray:b1}=Array,{getPrototypeOf:C1,prototype:S1,keys:A1}=Object;function Wl(n){if(n.length===1){let e=n[0];if(b1(e))return{args:e,keys:null};if(R1(e)){let t=A1(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function R1(n){return n&&typeof n=="object"&&C1(n)===S1}function Kl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function tc(...n){let e=Hr(n),t=kl(n),{args:r,keys:i}=Wl(n);if(r.length===0)return we([],e);let o=new re(N1(r,e,i?s=>Kl(i,s):Ht));return t?o.pipe(Gl(t)):o}function N1(n,e,t=Ht){return r=>{Ab(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Ab(e,()=>{let l=we(n[c],e),h=!1;l.subscribe(oe(r,p=>{o[c]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Ab(n,e,t){n?At(t,n,e):e()}function Rb(n,e,t,r,i,o,s,a){let c=[],l=0,h=0,p=!1,g=()=>{p&&!c.length&&!l&&e.complete()},m=A=>l<r?w(A):c.push(A),w=A=>{o&&e.next(A),l++;let R=!1;Se(t(A,h++)).subscribe(oe(e,k=>{i?.(k),o?m(k):e.next(k)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;c.length&&l<r;){let k=c.shift();s?At(e,s,()=>w(k)):w(k)}g()}catch(k){e.error(k)}}))};return n.subscribe(oe(e,m,()=>{p=!0,g()})),()=>{a?.()}}function je(n,e,t=1/0){return X(e)?je((r,i)=>ee((o,s)=>e(r,o,i,s))(Se(n(r,i))),t):(typeof e=="number"&&(t=e),ce((r,i)=>Rb(r,i,n,t)))}function Gr(n=1/0){return je(Ht,n)}function Nb(){return Gr(1)}function Xo(...n){return Nb()(we(n,Hr(n)))}function Ql(n){return new re(e=>{Se(n()).subscribe(e)})}function gm(...n){let e=kl(n),{args:t,keys:r}=Wl(n),i=new re(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let h=0;h<s;h++){let p=!1;Se(t[h]).subscribe(oe(o,g=>{p||(p=!0,l--),a[h]=g},()=>c--,void 0,()=>{(!c||!p)&&(l||o.next(r?Kl(r,a):a),o.complete())}))}});return e?i.pipe(Gl(e)):i}function Mb(n=0,e,t=hm){let r=-1;return e!=null&&(xl(e)?t=e:r=e),new re(i=>{let o=Sb(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Xe(n,e){return ce((t,r)=>{let i=0;t.subscribe(oe(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Pb(n){return ce((e,t)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let l=i;i=null,t.next(l)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(oe(t,l=>{r=!0,i=l,o||Se(n(l)).subscribe(o=oe(t,a,c))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}function M1(n,e=$r){return Pb(()=>Mb(n,e))}function dr(n){return ce((e,t)=>{let r=null,i=!1,o;r=e.subscribe(oe(t,void 0,void 0,s=>{o=Se(n(s,dr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function xb(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(oe(s,h=>{let p=l++;c=a?n(c,h,p):(a=!0,h),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Nn(n,e){return X(e)?je(n,e,1):je(n,1)}function P1(n,e=$r){return ce((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+n,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}a()}t.subscribe(oe(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function Wr(n){return ce((e,t)=>{let r=!1;e.subscribe(oe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function hr(n){return n<=0?()=>St:ce((e,t)=>{let r=0;e.subscribe(oe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Yl(n=x1){return ce((e,t)=>{let r=!1;e.subscribe(oe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function x1(){return new lr}function Kr(n){return ce((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function fr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Xe((i,o)=>n(i,o,r)):Ht,hr(1),t?Wr(e):Yl(()=>new lr))}function es(n){return n<=0?()=>St:ce((e,t)=>{let r=[];e.subscribe(oe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function mm(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Xe((i,o)=>n(i,o,r)):Ht,es(1),t?Wr(e):Yl(()=>new lr))}function Zl(n,e){return ce(xb(n,e,arguments.length>=2,!0))}function k1(n={}){let{connector:e=()=>new Ne,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,l=0,h=!1,p=!1,g=()=>{a?.unsubscribe(),a=void 0},m=()=>{g(),s=c=void 0,h=p=!1},w=()=>{let A=s;m(),A?.unsubscribe()};return ce((A,R)=>{l++,!p&&!h&&g();let k=c=c??e();R.add(()=>{l--,l===0&&!p&&!h&&(a=ym(w,i))}),k.subscribe(R),!s&&l>0&&(s=new ur({next:H=>k.next(H),error:H=>{p=!0,g(),a=ym(m,t,H),k.error(H)},complete:()=>{h=!0,g(),a=ym(m,r),k.complete()}}),Se(A).subscribe(s))})(o)}}function ym(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new ur({next:()=>{r.unsubscribe(),n()}});return Se(e(...t)).subscribe(r)}function O1(n){return Xe((e,t)=>n<=t)}function Jl(...n){let e=Hr(n);return ce((t,r)=>{(e?Xo(n,t,e):Xo(n,t)).subscribe(r)})}function Rt(n,e){return ce((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(oe(r,c=>{i?.unsubscribe();let l=0,h=o++;Se(n(c,h)).subscribe(i=oe(r,p=>r.next(e?e(c,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function vm(n){return ce((e,t)=>{Se(n).subscribe(oe(t,()=>t.complete(),Xa)),!t.closed&&e.subscribe(t)})}function st(n,e,t){let r=X(n)||e||t?{next:n,error:e,complete:t}:n;return r?ce((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(oe(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ht}var CC="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",L=class extends Error{code;constructor(e,t){super(Gy(e,t)),this.code=e}};function F1(n){return`NG0${Math.abs(n)}`}function Gy(n,e){return`${F1(n)}${e?": "+e:""}`}var SC=Symbol("InputSignalNode#UNSET"),L1=le(O({},wl),{transformFn:void 0,applyValueToInputSignal(n,e){Za(n,e)}});function AC(n,e){let t=Object.create(L1);t.value=n,t.transformFn=e?.transform;function r(){if(Ya(t),t.value===SC){let i=null;throw new L(-950,i)}return t.value}return r[en]=t,r}function hc(n){return{toString:n}.toString()}var Xl="__parameters__";function V1(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function RC(n,e,t){return hc(()=>{let r=V1(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,h){let p=c.hasOwnProperty(Xl)?c[Xl]:Object.defineProperty(c,Xl,{value:[]})[Xl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var at=globalThis;function be(n){for(let e in n)if(n[e]===be)return e;throw Error("Could not find renamed property on target object.")}function j1(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Pt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Pt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function km(n,e){return n?e?`${n} ${e}`:n:e||""}var U1=be({__forward_ref__:be});function xt(n){return n.__forward_ref__=xt,n.toString=function(){return Pt(this())},n}function Tt(n){return NC(n)?n():n}function NC(n){return typeof n=="function"&&n.hasOwnProperty(U1)&&n.__forward_ref__===xt}function j(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function kt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Fd(n){return kb(n,PC)||kb(n,xC)}function MC(n){return Fd(n)!==null}function kb(n,e){return n.hasOwnProperty(e)?n[e]:null}function B1(n){let e=n&&(n[PC]||n[xC]);return e||null}function Ob(n){return n&&(n.hasOwnProperty(Fb)||n.hasOwnProperty($1))?n[Fb]:null}var PC=be({\u0275prov:be}),Fb=be({\u0275inj:be}),xC=be({ngInjectableDef:be}),$1=be({ngInjectorDef:be}),V=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=j({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function kC(n){return n&&!!n.\u0275providers}var H1=be({\u0275cmp:be}),z1=be({\u0275dir:be}),q1=be({\u0275pipe:be}),G1=be({\u0275mod:be}),ld=be({\u0275fac:be}),oc=be({__NG_ELEMENT_ID__:be}),Lb=be({__NG_ENV_ID__:be});function as(n){return typeof n=="string"?n:n==null?"":String(n)}function W1(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():as(n)}function OC(n,e){throw new L(-200,n)}function Wy(n,e){throw new L(-201,!1)}var se=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(se||{}),Om;function FC(){return Om}function Nt(n){let e=Om;return Om=n,e}function LC(n,e,t){let r=Fd(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&se.Optional)return null;if(e!==void 0)return e;Wy(n,"Injector")}var K1={},Li=K1,Fm="__NG_DI_FLAG__",dd=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?Dl:Li,r)}},hd="ngTempTokenPath",Q1="ngTokenPath",Y1=/\n/gm,Z1="\u0275",Vb="__source";function J1(n,e=se.Default){if(Ja()===void 0)throw new L(-203,!1);if(Ja()===null)return LC(n,void 0,e);{let t=Ja(),r;return t instanceof dd?r=t.injector:r=t,r.get(n,e&se.Optional?null:void 0,e)}}function G(n,e=se.Default){return(FC()||J1)(Tt(n),e)}function M(n,e=se.Default){return G(n,Ld(e))}function Ld(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Lm(n){let e=[];for(let t=0;t<n.length;t++){let r=Tt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new L(900,!1);let i,o=se.Default;for(let s=0;s<r.length;s++){let a=r[s],c=X1(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(G(i,o))}else e.push(G(r))}return e}function VC(n,e){return n[Fm]=e,n.prototype[Fm]=e,n}function X1(n){return n[Fm]}function eF(n,e,t,r){let i=n[hd];throw e[Vb]&&i.unshift(e[Vb]),n.message=tF(`
`+n.message,i,t,r),n[Q1]=i,n[hd]=null,n}function tF(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==Z1?n.slice(2):n;let i=Pt(e);if(Array.isArray(e))i=e.map(Pt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Pt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Y1,`
  `)}`}var bt=VC(RC("Optional"),8);var jC=VC(RC("SkipSelf"),4);function ji(n,e){let t=n.hasOwnProperty(ld);return t?n[ld]:null}function nF(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function rF(n){return n.flat(Number.POSITIVE_INFINITY)}function Ky(n,e){n.forEach(t=>Array.isArray(t)?Ky(t,e):e(t))}function UC(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function fd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function iF(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function oF(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Qy(n,e,t){let r=fc(n,e);return r>=0?n[r|1]=t:(r=~r,oF(n,r,e,t)),r}function _m(n,e){let t=fc(n,e);if(t>=0)return n[t|1]}function fc(n,e){return sF(n,e,1)}function sF(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Ui={},Mt=[],cs=new V(""),BC=new V("",-1),$C=new V(""),pd=class{get(e,t=Li){if(t===Li){let r=new Error(`NullInjectorError: No provider for ${Pt(e)}!`);throw r.name="NullInjectorError",r}return t}};function HC(n,e){let t=n[G1]||null;if(!t&&e===!0)throw new Error(`Type ${Pt(n)} does not have '\u0275mod' property.`);return t}function Bi(n){return n[H1]||null}function aF(n){return n[z1]||null}function cF(n){return n[q1]||null}function qt(n){return{\u0275providers:n}}function uF(...n){return{\u0275providers:zC(!0,n),\u0275fromNgModule:!0}}function zC(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Ky(e,s=>{let a=s;Vm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&qC(i,o),t}function qC(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Yy(i,o=>{e(o,r)})}}function Vm(n,e,t,r){if(n=Tt(n),!n)return!1;let i=null,o=Ob(n),s=!o&&Bi(n);if(!o&&!s){let c=n.ngModule;if(o=Ob(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Vm(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Ky(o.imports,h=>{Vm(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&qC(l,e)}if(!a){let l=ji(i)||(()=>new i);e({provide:i,useFactory:l,deps:Mt},i),e({provide:$C,useValue:i,multi:!0},i),e({provide:cs,useValue:()=>G(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;Yy(c,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Yy(n,e){for(let t of n)kC(t)&&(t=t.\u0275providers),Array.isArray(t)?Yy(t,e):e(t)}var lF=be({provide:String,useValue:be});function GC(n){return n!==null&&typeof n=="object"&&lF in n}function dF(n){return!!(n&&n.useExisting)}function hF(n){return!!(n&&n.useFactory)}function us(n){return typeof n=="function"}function fF(n){return!!n.useClass}var Vd=new V(""),id={},jb={},Em;function Zy(){return Em===void 0&&(Em=new pd),Em}var et=class{},sc=class extends et{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Um(e,s=>this.processProvider(s)),this.records.set(BC,ts(void 0,this)),i.has("environment")&&this.records.set(et,ts(void 0,this));let o=this.records.get(Vd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get($C,Mt,se.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?Dl:Li,r)}destroy(){rc(this),this._destroyed=!0;let e=ae(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ae(e)}}onDestroy(e){return rc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){rc(this);let t=cr(this),r=Nt(void 0),i;try{return e()}finally{cr(t),Nt(r)}}get(e,t=Li,r=se.Default){if(rc(this),e.hasOwnProperty(Lb))return e[Lb](this);r=Ld(r);let i,o=cr(this),s=Nt(void 0);try{if(!(r&se.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=vF(e)&&Fd(e);l&&this.injectableDefInScope(l)?c=ts(jm(e),id):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,r)}let a=r&se.Self?Zy():this.parent;return t=r&se.Optional&&t===Li?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[hd]=a[hd]||[]).unshift(Pt(e)),o)throw a;return eF(a,e,"R3InjectorError",this.source)}else throw a}finally{Nt(s),cr(o)}}resolveInjectorInitializers(){let e=ae(null),t=cr(this),r=Nt(void 0),i;try{let o=this.get(cs,Mt,se.Self);for(let s of o)s()}finally{cr(t),Nt(r),ae(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Pt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Tt(e);let t=us(e)?e:Tt(e&&e.provide),r=gF(e);if(!us(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ts(void 0,id,!0),i.factory=()=>Lm(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ae(null);try{return t.value===jb?OC(Pt(e)):t.value===id&&(t.value=jb,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&yF(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ae(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Tt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function jm(n){let e=Fd(n),t=e!==null?e.factory:ji(n);if(t!==null)return t;if(n instanceof V)throw new L(204,!1);if(n instanceof Function)return pF(n);throw new L(204,!1)}function pF(n){if(n.length>0)throw new L(204,!1);let t=B1(n);return t!==null?()=>t.factory(n):()=>new n}function gF(n){if(GC(n))return ts(void 0,n.useValue);{let e=WC(n);return ts(e,id)}}function WC(n,e,t){let r;if(us(n)){let i=Tt(n);return ji(i)||jm(i)}else if(GC(n))r=()=>Tt(n.useValue);else if(hF(n))r=()=>n.useFactory(...Lm(n.deps||[]));else if(dF(n))r=(i,o)=>G(Tt(n.useExisting),o!==void 0&&o&se.Optional?se.Optional:void 0);else{let i=Tt(n&&(n.useClass||n.provide));if(mF(n))r=()=>new i(...Lm(n.deps));else return ji(i)||jm(i)}return r}function rc(n){if(n.destroyed)throw new L(205,!1)}function ts(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function mF(n){return!!n.deps}function yF(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function vF(n){return typeof n=="function"||typeof n=="object"&&n instanceof V}function Um(n,e){for(let t of n)Array.isArray(t)?Um(t,e):t&&kC(t)?Um(t.\u0275providers,e):e(t)}function tt(n,e){let t;n instanceof sc?(rc(n),t=n):t=new dd(n);let r,i=cr(t),o=Nt(void 0);try{return e()}finally{cr(i),Nt(o)}}function Jy(){return FC()!==void 0||Ja()!=null}function Xy(n){if(!Jy())throw new L(-203,!1)}function _F(n){return typeof n=="function"}var vr=0,te=1,Y=2,pt=3,fn=4,Ot=5,ls=6,gd=7,Ye=8,ds=9,pr=10,Pe=11,ac=12,Ub=13,Es=14,zt=15,$i=16,ns=17,gr=18,jd=19,KC=20,Qr=21,Im=22,md=23,tn=24,os=25,Ze=26,QC=1;var Hi=7,yd=8,hs=9,ft=10;function Yr(n){return Array.isArray(n)&&typeof n[QC]=="object"}function _r(n){return Array.isArray(n)&&n[QC]===!0}function ev(n){return(n.flags&4)!==0}function Is(n){return n.componentOffset>-1}function Ud(n){return(n.flags&1)===1}function Pn(n){return!!n.template}function vd(n){return(n[Y]&512)!==0}function ws(n){return(n[Y]&256)===256}var Bm=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function YC(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var nn=(()=>{let n=()=>ZC;return n.ngInherit=!0,n})();function ZC(n){return n.type.prototype.ngOnChanges&&(n.setInput=IF),EF}function EF(){let n=XC(this),e=n?.current;if(e){let t=n.previous;if(t===Ui)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function IF(n,e,t,r,i){let o=this.declaredInputs[r],s=XC(n)||wF(n,{previous:Ui,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Bm(l&&l.currentValue,t,c===Ui),YC(n,e,i,t)}var JC="__ngSimpleChanges__";function XC(n){return n[JC]||null}function wF(n,e){return n[JC]=e}var Bb=null;var De=function(n,e=null,t){Bb?.(n,e,t)},DF="svg",TF="math";function xn(n){for(;Array.isArray(n);)n=n[vr];return n}function eS(n,e){return xn(e[n])}function Vn(n,e){return xn(e[n.index])}function tv(n,e){return n.data[e]}function nv(n,e){return n[e]}function bF(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function kn(n,e){let t=e[n];return Yr(t)?t:t[vr]}function CF(n){return(n[Y]&4)===4}function rv(n){return(n[Y]&128)===128}function SF(n){return _r(n[pt])}function Zr(n,e){return e==null?null:n[e]}function tS(n){n[ns]=0}function nS(n){n[Y]&1024||(n[Y]|=1024,rv(n)&&pc(n))}function AF(n,e){for(;n>0;)e=e[Es],n--;return e}function Bd(n){return!!(n[Y]&9216||n[tn]?.dirty)}function $m(n){n[pr].changeDetectionScheduler?.notify(8),n[Y]&64&&(n[Y]|=1024),Bd(n)&&pc(n)}function pc(n){n[pr].changeDetectionScheduler?.notify(0);let e=zi(n);for(;e!==null&&!(e[Y]&8192||(e[Y]|=8192,!rv(e)));)e=zi(e)}function rS(n,e){if(ws(n))throw new L(911,!1);n[Qr]===null&&(n[Qr]=[]),n[Qr].push(e)}function RF(n,e){if(n[Qr]===null)return;let t=n[Qr].indexOf(e);t!==-1&&n[Qr].splice(t,1)}function zi(n){let e=n[pt];return _r(e)?e[pt]:e}function iv(n){return n[gd]??=[]}function ov(n){return n.cleanup??=[]}function NF(n,e,t,r){let i=iv(e);i.push(t),n.firstCreatePass&&ov(n).push(r,i.length-1)}var ue={lFrame:lS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Hm=!1;function MF(){return ue.lFrame.elementDepthCount}function PF(){ue.lFrame.elementDepthCount++}function xF(){ue.lFrame.elementDepthCount--}function sv(){return ue.bindingsEnabled}function iS(){return ue.skipHydrationRootTNode!==null}function kF(n){return ue.skipHydrationRootTNode===n}function OF(){ue.skipHydrationRootTNode=null}function Z(){return ue.lFrame.lView}function xe(){return ue.lFrame.tView}function AZ(n){return ue.lFrame.contextLView=n,n[Ye]}function RZ(n){return ue.lFrame.contextLView=null,n}function gt(){let n=oS();for(;n!==null&&n.type===64;)n=n.parent;return n}function oS(){return ue.lFrame.currentTNode}function FF(){let n=ue.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Yi(n,e){let t=ue.lFrame;t.currentTNode=n,t.isParent=e}function av(){return ue.lFrame.isParent}function cv(){ue.lFrame.isParent=!1}function LF(){return ue.lFrame.contextLView}function sS(){return Hm}function $b(n){let e=Hm;return Hm=n,e}function $d(){let n=ue.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function VF(){return ue.lFrame.bindingIndex}function jF(n){return ue.lFrame.bindingIndex=n}function Ds(){return ue.lFrame.bindingIndex++}function uv(n){let e=ue.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function UF(){return ue.lFrame.inI18n}function BF(n,e){let t=ue.lFrame;t.bindingIndex=t.bindingRootIndex=n,zm(e)}function $F(){return ue.lFrame.currentDirectiveIndex}function zm(n){ue.lFrame.currentDirectiveIndex=n}function HF(n){let e=ue.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function aS(){return ue.lFrame.currentQueryIndex}function lv(n){ue.lFrame.currentQueryIndex=n}function zF(n){let e=n[te];return e.type===2?e.declTNode:e.type===1?n[Ot]:null}function cS(n,e,t){if(t&se.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&se.Host);)if(i=zF(o),i===null||(o=o[Es],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ue.lFrame=uS();return r.currentTNode=e,r.lView=n,!0}function dv(n){let e=uS(),t=n[te];ue.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function uS(){let n=ue.lFrame,e=n===null?null:n.child;return e===null?lS(n):e}function lS(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function dS(){let n=ue.lFrame;return ue.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var hS=dS;function hv(){let n=dS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function qF(n){return(ue.lFrame.contextLView=AF(n,ue.lFrame.contextLView))[Ye]}function Er(){return ue.lFrame.selectedIndex}function qi(n){ue.lFrame.selectedIndex=n}function Hd(){let n=ue.lFrame;return tv(n.tView,n.selectedIndex)}function GF(){return ue.lFrame.currentNamespace}var fS=!0;function zd(){return fS}function qd(n){fS=n}function WF(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=ZC(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function fv(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function od(n,e,t){pS(n,e,3,t)}function sd(n,e,t,r){(n[Y]&3)===t&&pS(n,e,t,r)}function wm(n,e){let t=n[Y];(t&3)===e&&(t&=16383,t+=1,n[Y]=t)}function pS(n,e,t,r){let i=r!==void 0?n[ns]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[ns]+=65536),(a<o||o==-1)&&(KF(n,t,e,c),n[ns]=(n[ns]&4294901760)+c+2),c++}function Hb(n,e){De(4,n,e);let t=ae(null);try{e.call(n)}finally{ae(t),De(5,n,e)}}function KF(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Y]>>14<n[ns]>>16&&(n[Y]&3)===e&&(n[Y]+=16384,Hb(a,o)):Hb(a,o)}var ss=-1,Gi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function QF(n){return(n.flags&8)!==0}function YF(n){return(n.flags&16)!==0}function ZF(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];JF(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function gS(n){return n===3||n===4||n===6}function JF(n){return n.charCodeAt(0)===64}function fs(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?zb(n,t,i,null,e[++r]):zb(n,t,i,null,null))}}return n}function zb(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function mS(n){return n!==ss}function _d(n){return n&32767}function XF(n){return n>>16}function Ed(n,e){let t=XF(n),r=e;for(;t>0;)r=r[Es],t--;return r}var qm=!0;function Id(n){let e=qm;return qm=n,e}var eL=256,yS=eL-1,vS=5,tL=0,Mn={};function nL(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(oc)&&(r=t[oc]),r==null&&(r=t[oc]=tL++);let i=r&yS,o=1<<i;e.data[n+(i>>vS)]|=o}function wd(n,e){let t=_S(n,e);if(t!==-1)return t;let r=e[te];r.firstCreatePass&&(n.injectorIndex=e.length,Dm(r.data,n),Dm(e,null),Dm(r.blueprint,null));let i=pv(n,e),o=n.injectorIndex;if(mS(i)){let s=_d(i),a=Ed(i,e),c=a[te].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Dm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function _S(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function pv(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=TS(i),r===null)return ss;if(t++,i=i[Es],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ss}function Gm(n,e,t){nL(n,e,t)}function rL(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(gS(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function ES(n,e,t){if(t&se.Optional||n!==void 0)return n;Wy(e,"NodeInjector")}function IS(n,e,t,r){if(t&se.Optional&&r===void 0&&(r=null),(t&(se.Self|se.Host))===0){let i=n[ds],o=Nt(void 0);try{return i?i.get(e,r,t&se.Optional):LC(e,r,t&se.Optional)}finally{Nt(o)}}return ES(r,e,t)}function wS(n,e,t,r=se.Default,i){if(n!==null){if(e[Y]&2048&&!(r&se.Self)){let s=aL(n,e,t,r,Mn);if(s!==Mn)return s}let o=DS(n,e,t,r,Mn);if(o!==Mn)return o}return IS(e,t,r,i)}function DS(n,e,t,r,i){let o=oL(t);if(typeof o=="function"){if(!cS(e,n,r))return r&se.Host?ES(i,t,r):IS(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&se.Optional))Wy(t);else return s}finally{hS()}}else if(typeof o=="number"){let s=null,a=_S(n,e),c=ss,l=r&se.Host?e[zt][Ot]:null;for((a===-1||r&se.SkipSelf)&&(c=a===-1?pv(n,e):e[a+8],c===ss||!Gb(r,!1)?a=-1:(s=e[te],a=_d(c),e=Ed(c,e)));a!==-1;){let h=e[te];if(qb(o,a,h.data)){let p=iL(a,e,t,s,r,l);if(p!==Mn)return p}c=e[a+8],c!==ss&&Gb(r,e[te].data[a+8]===l)&&qb(o,a,e)?(s=h,a=_d(c),e=Ed(c,e)):a=-1}}return i}function iL(n,e,t,r,i,o){let s=e[te],a=s.data[n+8],c=r==null?Is(a)&&qm:r!=s&&(a.type&3)!==0,l=i&se.Host&&o===a,h=ad(a,s,t,c,l);return h!==null?cc(e,s,h,a,i):Mn}function ad(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let m=p;m<g;m++){let w=s[m];if(m<c&&t===w||m>=c&&w.type===t)return m}if(i){let m=s[c];if(m&&Pn(m)&&m.type===t)return c}return null}function cc(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Gi){let a=o;a.resolving&&OC(W1(s[t]));let c=Id(a.canSeeViewProviders);a.resolving=!0;let l,h=a.injectImpl?Nt(a.injectImpl):null,p=cS(n,r,se.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&WF(t,s[t],e)}finally{h!==null&&Nt(h),Id(c),a.resolving=!1,hS()}}return o}function oL(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(oc)?n[oc]:void 0;return typeof e=="number"?e>=0?e&yS:sL:e}function qb(n,e,t){let r=1<<n;return!!(t[e+(n>>vS)]&r)}function Gb(n,e){return!(n&se.Self)&&!(n&se.Host&&e)}var Vi=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return wS(this._tNode,this._lView,e,Ld(r),t)}};function sL(){return new Vi(gt(),Z())}function jn(n){return hc(()=>{let e=n.prototype.constructor,t=e[ld]||Wm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[ld]||Wm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Wm(n){return NC(n)?()=>{let e=Wm(Tt(n));return e&&e()}:ji(n)}function aL(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Y]&2048&&!vd(s);){let a=DS(o,s,t,r|se.Self,Mn);if(a!==Mn)return a;let c=o.parent;if(!c){let l=s[KC];if(l){let h=l.get(t,Mn,r);if(h!==Mn)return h}c=TS(s),s=s[Es]}o=c}return i}function TS(n){let e=n[te],t=e.type;return t===2?e.declTNode:t===1?n[Ot]:null}function Gd(n){return rL(gt(),n)}function Wb(n,e=null,t=null,r){let i=bS(n,e,t,r);return i.resolveInjectorInitializers(),i}function bS(n,e=null,t=null,r,i=new Set){let o=[t||Mt,uF(n)];return r=r||(typeof n=="object"?void 0:Pt(n)),new sc(o,e||Zy(),r||null,i)}var Ue=class n{static THROW_IF_NOT_FOUND=Li;static NULL=new pd;static create(e,t){if(Array.isArray(e))return Wb({name:""},t,e,"");{let r=e.name??"";return Wb({name:r},e.parent,e.providers,r)}}static \u0275prov=j({token:n,providedIn:"any",factory:()=>G(BC)});static __NG_ELEMENT_ID__=-1};var Kb=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Gd(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},cL=new V("");cL.__NG_ELEMENT_ID__=n=>{let e=gt();if(e===null)throw new L(204,!1);if(e.type&2)return e.value;if(n&se.Optional)return null;throw new L(204,!1)};var CS=!1,Xr=(()=>{class n{static __NG_ELEMENT_ID__=uL;static __NG_ENV_ID__=t=>t}return n})(),Km=class extends Xr{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return ws(t)?(e(),()=>{}):(rS(t,e),()=>RF(t,e))}};function uL(){return new Km(Z())}var Wi=class{},Wd=new V("",{providedIn:"root",factory:()=>!1});var SS=new V(""),AS=new V(""),Un=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new He(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),Kd=(()=>{class n{internalPendingTasks=M(Un);scheduler=M(Wi);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return v(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),Qm=class extends Ne{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Jy()&&(this.destroyRef=M(Xr,{optional:!0})??void 0,this.pendingTasks=M(Un,{optional:!0})??void 0)}emit(e){let t=ae(null);try{super.next(e)}finally{ae(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Fe&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Me=Qm;function Dd(...n){}function RS(n){let e,t;function r(){n=Dd;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Qb(n){return queueMicrotask(()=>n()),()=>{n=Dd}}var gv="isAngularZone",Td=gv+"_ID",lL=0,he=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Me(!1);onMicrotaskEmpty=new Me(!1);onStable=new Me(!1);onError=new Me(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=CS}=e;if(typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,fL(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(gv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new L(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,dL,Dd,Dd);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},dL={};function mv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function hL(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){RS(()=>{n.callbackScheduled=!1,Ym(n),n.isCheckStableRunning=!0,mv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Ym(n)}function fL(n){let e=()=>{hL(n)},t=lL++;n._inner=n._inner.fork({name:"angular",properties:{[gv]:!0,[Td]:t,[Td+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(pL(c))return r.invokeTask(o,s,a,c);try{return Yb(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Zb(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Yb(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!gL(c)&&e(),Zb(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Ym(n),mv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Ym(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Yb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Zb(n){n._nesting--,mv(n)}var Zm=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Me;onMicrotaskEmpty=new Me;onStable=new Me;onError=new Me;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function pL(n){return NS(n,"__ignore_ng_zone__")}function gL(n){return NS(n,"__scheduler_tick__")}function NS(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var On=class{_console=console;handleError(e){this._console.error("ERROR",e)}},mL=new V("",{providedIn:"root",factory:()=>{let n=M(he),e=M(On);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function Jb(n,e){return AC(n,e)}function yL(n){return AC(SC,n)}var MS=(Jb.required=yL,Jb);function vL(){return Ts(gt(),Z())}function Ts(n,e){return new mt(Vn(n,e))}var mt=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=vL}return n})();function _L(n){return n instanceof mt?n.nativeElement:n}function EL(n){return typeof n=="function"&&n[en]!==void 0}function Zi(n,e){let t=Xg(n,e?.equal),r=t[en];return t.set=i=>Za(r,i),t.update=i=>em(r,i),t.asReadonly=IL.bind(t),t}function IL(){let n=this[en];if(n.readonlyFn===void 0){let e=()=>this();e[en]=n,n.readonlyFn=e}return n.readonlyFn}function PS(n){return EL(n)&&typeof n.set=="function"}function wL(){return this._results[Symbol.iterator]()}var Jm=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ne}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=rF(e);(this._changesDetected=!nF(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=wL};function xS(n){return(n.flags&128)===128}var kS=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(kS||{}),OS=new Map,DL=0;function TL(){return DL++}function bL(n){OS.set(n[jd],n)}function Xm(n){OS.delete(n[jd])}var Xb="__ngContext__";function bs(n,e){Yr(e)?(n[Xb]=e[jd],bL(e)):n[Xb]=e}function FS(n){return VS(n[ac])}function LS(n){return VS(n[fn])}function VS(n){for(;n!==null&&!_r(n);)n=n[fn];return n}var ey;function jS(n){ey=n}function CL(){if(ey!==void 0)return ey;if(typeof document<"u")return document;throw new L(210,!1)}var yv=new V("",{providedIn:"root",factory:()=>SL}),SL="ng",vv=new V(""),ei=new V("",{providedIn:"platform",factory:()=>"unknown"});var _v=new V("",{providedIn:"root",factory:()=>CL().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var AL="h",RL="b";var US=!1,NL=new V("",{providedIn:"root",factory:()=>US});var Ev=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Ev||{}),Cs=new V(""),eC=new Set;function ti(n){eC.has(n)||(eC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var BS=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=ML}return n})();function ML(){return new BS(Z(),gt())}var rs=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(rs||{}),$S=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),PL=[rs.EarlyRead,rs.Write,rs.MixedReadWrite,rs.Read],xL=(()=>{class n{ngZone=M(he);scheduler=M(Wi);errorHandler=M(On,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){M(Cs,{optional:!0})}execute(){let t=this.sequences.size>0;t&&De(16),this.executing=!0;for(let r of PL)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&De(17)}register(t){let{view:r}=t;r!==void 0?((r[os]??=[]).push(t),pc(r),r[Y]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Ev.AFTER_NEXT_RENDER,t):t()}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),ty=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[os];e&&(this.view[os]=e.filter(t=>t!==this))}};function Iv(n,e){!e?.injector&&Xy(Iv);let t=e?.injector??M(Ue);return ti("NgAfterNextRender"),OL(n,t,e,!0)}function kL(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function OL(n,e,t,r){let i=e.get($S);i.impl??=e.get(xL);let o=e.get(Cs,null,{optional:!0}),s=t?.phase??rs.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(Xr):null,c=e.get(BS,null,{optional:!0}),l=new ty(i.impl,kL(n,s),c?.view,r,a,o?.snapshot(null));return i.impl.register(l),l}var FL=(n,e,t,r)=>{};function LL(n,e,t,r){FL(n,e,t,r)}var VL=()=>null;function HS(n,e,t=!1){return VL(n,e,t)}function zS(n,e){let t=n.contentQueries;if(t!==null){let r=ae(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];lv(o),a.contentQueries(2,e[s],s)}}}finally{ae(r)}}}function ny(n,e,t){lv(0);let r=ae(null);try{e(n,t)}finally{ae(r)}}function wv(n,e,t){if(ev(e)){let r=ae(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{ae(r)}}}var Fn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Fn||{}),ed;function qS(){if(ed===void 0&&(ed=null,at.trustedTypes))try{ed=at.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ed}function Qd(n){return qS()?.createHTML(n)||n}function jL(n){return qS()?.createScriptURL(n)||n}var td;function UL(){if(td===void 0&&(td=null,at.trustedTypes))try{td=at.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return td}function tC(n){return UL()?.createScriptURL(n)||n}var mr=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${CC})`}},ry=class extends mr{getTypeName(){return"HTML"}},iy=class extends mr{getTypeName(){return"Style"}},oy=class extends mr{getTypeName(){return"Script"}},sy=class extends mr{getTypeName(){return"URL"}},ay=class extends mr{getTypeName(){return"ResourceURL"}};function gn(n){return n instanceof mr?n.changingThisBreaksApplicationSecurity:n}function ni(n,e){let t=BL(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${CC})`)}return t===e}function BL(n){return n instanceof mr&&n.getTypeName()||null}function GS(n){return new ry(n)}function WS(n){return new iy(n)}function KS(n){return new oy(n)}function QS(n){return new sy(n)}function YS(n){return new ay(n)}function $L(n){let e=new uy(n);return HL()?new cy(e):e}var cy=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Qd(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},uy=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Qd(e),t}};function HL(){try{return!!new window.DOMParser().parseFromString(Qd(""),"text/html")}catch{return!1}}var zL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Yd(n){return n=String(n),n.match(zL)?n:"unsafe:"+n}function Ir(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function gc(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var ZS=Ir("area,br,col,hr,img,wbr"),JS=Ir("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),XS=Ir("rp,rt"),qL=gc(XS,JS),GL=gc(JS,Ir("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),WL=gc(XS,Ir("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nC=gc(ZS,GL,WL,qL),e0=Ir("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),KL=Ir("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),QL=Ir("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),YL=gc(e0,KL,QL),ZL=Ir("script,style,template"),ly=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=eV(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=XL(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=rC(e).toLowerCase();if(!nC.hasOwnProperty(t))return this.sanitizedSomething=!0,!ZL.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!YL.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;e0[a]&&(c=Yd(c)),this.buf.push(" ",s,'="',iC(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=rC(e).toLowerCase();nC.hasOwnProperty(t)&&!ZS.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(iC(e))}};function JL(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function XL(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw t0(e);return e}function eV(n){let e=n.firstChild;if(e&&JL(n,e))throw t0(e);return e}function rC(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function t0(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var tV=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nV=/([^\#-~ |!])/g;function iC(n){return n.replace(/&/g,"&amp;").replace(tV,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(nV,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var nd;function n0(n,e){let t=null;try{nd=nd||$L(n);let r=e?String(e):"";t=nd.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=nd.getInertBodyElement(r)}while(r!==o);let a=new ly().sanitizeChildren(oC(t)||t);return Qd(a)}finally{if(t){let r=oC(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function oC(n){return"content"in n&&rV(n)?n.content:null}function rV(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Bn=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Bn||{});function iV(n){let e=i0();return e?e.sanitize(Bn.URL,n)||"":ni(n,"URL")?gn(n):Yd(as(n))}function oV(n){let e=i0();if(e)return tC(e.sanitize(Bn.RESOURCE_URL,n)||"");if(ni(n,"ResourceURL"))return tC(gn(n));throw new L(904,!1)}function NZ(n){return jL(n[0])}function sV(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?oV:iV}function r0(n,e,t){return sV(e,t)(n)}function i0(){let n=Z();return n&&n[pr].sanitizer}var aV=/^>|^->|<!--|-->|--!>|<!-$/g,cV=/(<|>)/g,uV="\u200B$1\u200B";function lV(n){return n.replace(aV,e=>e.replace(cV,uV))}function o0(n){return n instanceof Function?n():n}function dV(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var s0="ng-template";function hV(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&dV(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Dv(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Dv(n){return n.type===4&&n.value!==s0}function fV(n,e,t){let r=n.type===4&&!t?s0:n.value;return e===r}function pV(n,e,t){let r=4,i=n.attrs,o=i!==null?yV(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!dn(r)&&!dn(c))return!1;if(s&&dn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!fV(n,c,t)||c===""&&e.length===1){if(dn(r))return!1;s=!0}}else if(r&8){if(i===null||!hV(n,i,c,t)){if(dn(r))return!1;s=!0}}else{let l=e[++a],h=gV(c,i,Dv(n),t);if(h===-1){if(dn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(dn(r))return!1;s=!0}}}}return dn(r)||s}function dn(n){return(n&1)===0}function gV(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return vV(e,n)}function a0(n,e,t=!1){for(let r=0;r<e.length;r++)if(pV(n,e[r],t))return!0;return!1}function mV(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function yV(n){for(let e=0;e<n.length;e++){let t=n[e];if(gS(t))return e}return n.length}function vV(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function _V(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function sC(n,e){return n?":not("+e.trim()+")":e}function EV(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!dn(s)&&(e+=sC(o,i),i=""),r=s,o=o||!dn(r);t++}return i!==""&&(e+=sC(o,i)),e}function IV(n){return n.map(EV).join(",")}function wV(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!dn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Ft={};function DV(n,e){return n.createText(e)}function TV(n,e,t){n.setValue(e,t)}function bV(n,e){return n.createComment(lV(e))}function c0(n,e,t){return n.createElement(e,t)}function bd(n,e,t,r,i){n.insertBefore(e,t,r,i)}function u0(n,e,t){n.appendChild(e,t)}function aC(n,e,t,r,i){r!==null?bd(n,e,t,r,i):u0(n,e,t)}function CV(n,e,t){n.removeChild(null,e,t)}function SV(n,e,t){n.setAttribute(e,"style",t)}function AV(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function l0(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&ZF(n,e,r),i!==null&&AV(n,e,i),o!==null&&SV(n,e,o)}function Tv(n,e,t,r,i,o,s,a,c,l,h){let p=Ze+r,g=p+i,m=RV(p,g),w=typeof l=="function"?l():l;return m[te]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:w,incompleteFirstPass:!1,ssrId:h}}function RV(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ft);return t}function NV(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Tv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function bv(n,e,t,r,i,o,s,a,c,l,h){let p=e.blueprint.slice();return p[vr]=i,p[Y]=r|4|128|8|64|1024,(l!==null||n&&n[Y]&2048)&&(p[Y]|=2048),tS(p),p[pt]=p[Es]=n,p[Ye]=t,p[pr]=s||n&&n[pr],p[Pe]=a||n&&n[Pe],p[ds]=c||n&&n[ds]||null,p[Ot]=o,p[jd]=TL(),p[ls]=h,p[KC]=l,p[zt]=e.type==2?n[zt]:p,p}function MV(n,e,t){let r=Vn(e,n),i=NV(t),o=n[pr].rendererFactory,s=Cv(n,bv(n,i,null,d0(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function d0(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function h0(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Cv(n,e){return n[ac]?n[Ub][fn]=e:n[ac]=e,n[Ub]=e,e}function MZ(n=1){f0(xe(),Z(),Er()+n,!1)}function f0(n,e,t,r){if(!r)if((e[Y]&3)===3){let o=n.preOrderCheckHooks;o!==null&&od(e,o,t)}else{let o=n.preOrderHooks;o!==null&&sd(e,o,0,t)}qi(t)}var Zd=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Zd||{});function dy(n,e,t,r){let i=ae(null);try{let[o,s,a]=n.inputs[t],c=null;(s&Zd.SignalBased)!==0&&(c=e[o][en]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):YC(e,c,o,r)}finally{ae(i)}}function p0(n,e,t,r,i){let o=Er(),s=r&2;try{qi(-1),s&&e.length>Ze&&f0(n,e,Ze,!1),De(s?2:0,i),t(r,i)}finally{qi(o),De(s?3:1,i)}}function Jd(n,e,t){LV(n,e,t),(t.flags&64)===64&&VV(n,e,t)}function Sv(n,e,t=Vn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function PV(n,e,t,r){let o=r.get(NL,US)||t===Fn.ShadowDom,s=n.selectRootElement(e,o);return xV(s),s}function xV(n){kV(n)}var kV=()=>null;function OV(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Av(n,e,t,r,i,o,s,a){if(!a&&Nv(e,n,t,r,i)){Is(e)&&FV(t,e.index);return}if(e.type&3){let c=Vn(e,t);r=OV(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)}else e.type&12}function FV(n,e){let t=kn(e,n);t[Y]&16||(t[Y]|=64)}function LV(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Is(t)&&MV(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||wd(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=cc(e,n,s,t);if(bs(c,e),o!==null&&$V(e,s-r,c,a,t,o),Pn(a)){let l=kn(t.index,e);l[Ye]=cc(e,n,s,t)}}}function VV(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=$F();try{qi(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];zm(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&jV(c,l)}}finally{qi(-1),zm(s)}}function jV(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Rv(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];a0(e,o.selectors,!1)&&(r??=[],Pn(o)?r.unshift(o):r.push(o))}return r}function UV(n,e,t,r,i,o){let s=Vn(n,e);BV(e[Pe],s,o,n.value,t,r,i)}function BV(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?as(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function $V(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];dy(r,t,c,l)}}function HV(n,e){let t=n[ds],r=t?t.get(On,null):null;r&&r.handleError(e)}function Nv(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],h=s[c+1],p=e.data[l];dy(p,t[l],h,i),a=!0}if(o)for(let c of o){let l=t[c],h=e.data[c];dy(h,l,r,i),a=!0}return a}function zV(n,e){let t=kn(e,n),r=t[te];qV(r,t);let i=t[vr];i!==null&&t[ls]===null&&(t[ls]=HS(i,t[ds])),De(18),Mv(r,t,t[Ye]),De(19,t[Ye])}function qV(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Mv(n,e,t){dv(e);try{let r=n.viewQuery;r!==null&&ny(1,r,t);let i=n.template;i!==null&&p0(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[gr]?.finishViewCreation(n),n.staticContentQueries&&zS(n,e),n.staticViewQueries&&ny(2,n.viewQuery,t);let o=n.components;o!==null&&GV(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Y]&=-5,hv()}}function GV(n,e){for(let t=0;t<e.length;t++)zV(n,e[t])}function mc(n,e,t,r){let i=ae(null);try{let o=e.tView,a=n[Y]&4096?4096:16,c=bv(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[$i]=l;let h=n[gr];return h!==null&&(c[gr]=h.createEmbeddedView(o)),Mv(o,c,t),c}finally{ae(i)}}function ps(n,e){return!e||e.firstChild===null||xS(n)}var WV;function Pv(n,e){return WV(n,e)}var Ln=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ln||{});function xv(n){return(n.flags&32)===32}function is(n,e,t,r,i){if(r!=null){let o,s=!1;_r(r)?o=r:Yr(r)&&(s=!0,r=r[vr]);let a=xn(r);n===0&&t!==null?i==null?u0(e,t,a):bd(e,t,a,i||null,!0):n===1&&t!==null?bd(e,t,a,i||null,!0):n===2?CV(e,a,s):n===3&&e.destroyNode(a),o!=null&&rj(e,n,o,t,i)}}function KV(n,e){g0(n,e),e[vr]=null,e[Ot]=null}function QV(n,e,t,r,i,o){r[vr]=i,r[Ot]=e,th(n,r,t,1,i,o)}function g0(n,e){e[pr].changeDetectionScheduler?.notify(9),th(n,e,e[Pe],2,null,null)}function YV(n){let e=n[ac];if(!e)return Tm(n[te],n);for(;e;){let t=null;if(Yr(e))t=e[ac];else{let r=e[ft];r&&(t=r)}if(!t){for(;e&&!e[fn]&&e!==n;)Yr(e)&&Tm(e[te],e),e=e[pt];e===null&&(e=n),Yr(e)&&Tm(e[te],e),t=e&&e[fn]}e=t}}function kv(n,e){let t=n[hs],r=t.indexOf(e);t.splice(r,1)}function Xd(n,e){if(ws(e))return;let t=e[Pe];t.destroyNode&&th(n,e,t,3,null,null),YV(e)}function Tm(n,e){if(ws(e))return;let t=ae(null);try{e[Y]&=-129,e[Y]|=256,e[tn]&&Yg(e[tn]),JV(n,e),ZV(n,e),e[te].type===1&&e[Pe].destroy();let r=e[$i];if(r!==null&&_r(e[pt])){r!==e[pt]&&kv(r,e);let i=e[gr];i!==null&&i.detachView(n)}Xm(e)}finally{ae(t)}}function ZV(n,e){let t=n.cleanup,r=e[gd];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[gd]=null);let i=e[Qr];if(i!==null){e[Qr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[md];if(o!==null){e[md]=null;for(let s of o)s.destroy()}}function JV(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Gi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];De(4,a,c);try{c.call(a)}finally{De(5,a,c)}}else{De(4,i,o);try{o.call(i)}finally{De(5,i,o)}}}}}function m0(n,e,t){return XV(n,e.parent,t)}function XV(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[vr];if(Is(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Fn.None||i===Fn.Emulated)return null}return Vn(r,t)}function y0(n,e,t){return tj(n,e,t)}function ej(n,e,t){return n.type&40?Vn(n,t):null}var tj=ej,cC;function eh(n,e,t,r){let i=m0(n,r,e),o=e[Pe],s=r.parent||e[Ot],a=y0(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)aC(o,i,t[c],a,!1);else aC(o,i,t,a,!1);cC!==void 0&&cC(o,r,e,t,i)}function ic(n,e){if(e!==null){let t=e.type;if(t&3)return Vn(e,n);if(t&4)return hy(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return ic(n,r);{let i=n[e.index];return _r(i)?hy(-1,i):xn(i)}}else{if(t&128)return ic(n,e.next);if(t&32)return Pv(e,n)()||xn(n[e.index]);{let r=v0(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=zi(n[zt]);return ic(i,r)}else return ic(n,e.next)}}}return null}function v0(n,e){if(e!==null){let r=n[zt][Ot],i=e.projection;return r.projection[i]}return null}function hy(n,e){let t=ft+n+1;if(t<e.length){let r=e[t],i=r[te].firstChild;if(i!==null)return ic(r,i)}return e[Hi]}function Ov(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&bs(xn(a),r),t.flags|=2),!xv(t))if(c&8)Ov(n,e,t.child,r,i,o,!1),is(e,n,i,a,o);else if(c&32){let l=Pv(t,r),h;for(;h=l();)is(e,n,i,h,o);is(e,n,i,a,o)}else c&16?_0(n,e,r,t,i,o):is(e,n,i,a,o);t=s?t.projectionNext:t.next}}function th(n,e,t,r,i,o){Ov(t,r,n.firstChild,e,i,o,!1)}function nj(n,e,t){let r=e[Pe],i=m0(n,t,e),o=t.parent||e[Ot],s=y0(o,t,e);_0(r,0,e,t,i,s)}function _0(n,e,t,r,i,o){let s=t[zt],c=s[Ot].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let h=c[l];is(e,n,i,h,o)}else{let l=c,h=s[pt];xS(r)&&(l.flags|=128),Ov(n,e,l,h,i,o,!0)}}function rj(n,e,t,r,i){let o=t[Hi],s=xn(t);o!==s&&is(e,n,r,o,i);for(let a=ft;a<t.length;a++){let c=t[a];th(c[te],c,n,e,r,o)}}function ij(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Ln.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ln.Important),n.setStyle(t,r,i,o))}}function Cd(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(xn(o)),_r(o)&&oj(o,r);let s=t.type;if(s&8)Cd(n,e,t.child,r);else if(s&32){let a=Pv(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=v0(e,t);if(Array.isArray(a))r.push(...a);else{let c=zi(e[zt]);Cd(c[te],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function oj(n,e){for(let t=ft;t<n.length;t++){let r=n[t],i=r[te].firstChild;i!==null&&Cd(r[te],r,i,e)}n[Hi]!==n[vr]&&e.push(n[Hi])}function E0(n){if(n[os]!==null){for(let e of n[os])e.impl.addSequence(e);n[os].length=0}}var I0=[];function sj(n){return n[tn]??aj(n)}function aj(n){let e=I0.pop()??Object.create(uj);return e.lView=n,e}function cj(n){n.lView[tn]!==n&&(n.lView=null,I0.push(n))}var uj=le(O({},Qa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{pc(n.lView)},consumerOnSignalRead(){this.lView[tn]=this}});function lj(n){let e=n[tn]??Object.create(dj);return e.lView=n,e}var dj=le(O({},Qa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=zi(n.lView);for(;e&&!w0(e[te]);)e=zi(e);e&&nS(e)},consumerOnSignalRead(){this.lView[tn]=this}});function w0(n){return n.type!==2}function D0(n){if(n[md]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[md])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[Y]&8192)}}var hj=100;function T0(n,e=!0,t=0){let i=n[pr].rendererFactory,o=!1;o||i.begin?.();try{fj(n,t)}catch(s){throw e&&HV(n,s),s}finally{o||i.end?.()}}function fj(n,e){let t=sS();try{$b(!0),fy(n,e);let r=0;for(;Bd(n);){if(r===hj)throw new L(103,!1);r++,fy(n,1)}}finally{$b(t)}}function pj(n,e,t,r){if(ws(e))return;let i=e[Y],o=!1,s=!1;dv(e);let a=!0,c=null,l=null;o||(w0(n)?(l=sj(e),c=_l(l)):zg()===null?(a=!1,l=lj(e),c=_l(l)):e[tn]&&(Yg(e[tn]),e[tn]=null));try{tS(e),jF(n.bindingStartIndex),t!==null&&p0(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let m=n.preOrderCheckHooks;m!==null&&od(e,m,null)}else{let m=n.preOrderHooks;m!==null&&sd(e,m,0,null),wm(e,0)}if(s||gj(e),D0(e),b0(e,0),n.contentQueries!==null&&zS(n,e),!o)if(h){let m=n.contentCheckHooks;m!==null&&od(e,m)}else{let m=n.contentHooks;m!==null&&sd(e,m,1),wm(e,1)}yj(n,e);let p=n.components;p!==null&&S0(e,p,0);let g=n.viewQuery;if(g!==null&&ny(2,g,r),!o)if(h){let m=n.viewCheckHooks;m!==null&&od(e,m)}else{let m=n.viewHooks;m!==null&&sd(e,m,2),wm(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Im]){for(let m of e[Im])m();e[Im]=null}o||(E0(e),e[Y]&=-73)}catch(h){throw o||pc(e),h}finally{l!==null&&(Kg(l,c),a&&cj(l)),hv()}}function b0(n,e){for(let t=FS(n);t!==null;t=LS(t))for(let r=ft;r<t.length;r++){let i=t[r];C0(i,e)}}function gj(n){for(let e=FS(n);e!==null;e=LS(e)){if(!(e[Y]&2))continue;let t=e[hs];for(let r=0;r<t.length;r++){let i=t[r];nS(i)}}}function mj(n,e,t){De(18);let r=kn(e,n);C0(r,t),De(19,r[Ye])}function C0(n,e){rv(n)&&fy(n,e)}function fy(n,e){let r=n[te],i=n[Y],o=n[tn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Qg(o)),s||=!1,o&&(o.dirty=!1),n[Y]&=-9217,s)pj(r,n,r.template,n[Ye]);else if(i&8192){D0(n),b0(n,1);let a=r.components;a!==null&&S0(n,a,1),E0(n)}}function S0(n,e,t){for(let r=0;r<e.length;r++)mj(n,e[r],t)}function yj(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)qi(~i);else{let o=i,s=t[++r],a=t[++r];BF(s,o);let c=e[o];De(24,c),a(2,c),De(25,c)}}}finally{qi(-1)}}function Fv(n,e){let t=sS()?64:1088;for(n[pr].changeDetectionScheduler?.notify(e);n;){n[Y]|=t;let r=zi(n);if(vd(n)&&!r)return n;n=r}return null}function A0(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function R0(n,e){let t=ft+e;if(t<n.length)return n[t]}function yc(n,e,t,r=!0){let i=e[te];if(vj(i,e,n,t),r){let s=hy(t,n),a=e[Pe],c=a.parentNode(n[Hi]);c!==null&&QV(i,n[Ot],a,e,c,s)}let o=e[ls];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function N0(n,e){let t=uc(n,e);return t!==void 0&&Xd(t[te],t),t}function uc(n,e){if(n.length<=ft)return;let t=ft+e,r=n[t];if(r){let i=r[$i];i!==null&&i!==n&&kv(i,r),e>0&&(n[t-1][fn]=r[fn]);let o=fd(n,ft+e);KV(r[te],r);let s=o[gr];s!==null&&s.detachView(o[te]),r[pt]=null,r[fn]=null,r[Y]&=-129}return r}function vj(n,e,t,r){let i=ft+r,o=t.length;r>0&&(t[i-1][fn]=e),r<o-ft?(e[fn]=t[i],UC(t,ft+r,e)):(t.push(e),e[fn]=null),e[pt]=t;let s=e[$i];s!==null&&t!==s&&M0(s,e);let a=e[gr];a!==null&&a.insertView(n),$m(e),e[Y]|=128}function M0(n,e){let t=n[hs],r=e[pt];if(Yr(r))n[Y]|=2;else{let i=r[pt][zt];e[zt]!==i&&(n[Y]|=2)}t===null?n[hs]=[e]:t.push(e)}var lc=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[te];return Cd(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[Ye]}set context(e){this._lView[Ye]=e}get destroyed(){return ws(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[pt];if(_r(e)){let t=e[yd],r=t?t.indexOf(this):-1;r>-1&&(uc(e,r),fd(t,r))}this._attachedToViewContainer=!1}Xd(this._lView[te],this._lView)}onDestroy(e){rS(this._lView,e)}markForCheck(){Fv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Y]&=-129}reattach(){$m(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,T0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=vd(this._lView),t=this._lView[$i];t!==null&&!e&&kv(t,this._lView),g0(this._lView[te],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e;let t=vd(this._lView),r=this._lView[$i];r!==null&&!t&&M0(r,this._lView),$m(this._lView)}};var Ki=(()=>{class n{static __NG_ELEMENT_ID__=Ij}return n})(),_j=Ki,Ej=class extends _j{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=mc(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new lc(i)}};function Ij(){return nh(gt(),Z())}function nh(n,e){return n.type&4?new Ej(e,n,Ts(n,e)):null}function vc(n,e,t,r,i){let o=n.data[e];if(o===null)o=wj(n,e,t,r,i),UF()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=FF();o.injectorIndex=s===null?-1:s.injectorIndex}return Yi(o,!0),o}function wj(n,e,t,r,i){let o=oS(),s=av(),a=s?o:o&&o.parent,c=n.data[e]=Tj(n,a,t,e,r,i);return Dj(n,c,o,s),c}function Dj(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function Tj(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return iS()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var kZ=new RegExp(`^(\\d+)*(${RL}|${AL})*(.*)`);var bj=()=>null;function gs(n,e){return bj(n,e)}var Cj=class{},P0=class{},py=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Pt(e)}.`)}},rh=class{static NULL=new py},ms=class{},rn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>Sj()}return n})();function Sj(){let n=Z(),e=gt(),t=kn(e.index,n);return(Yr(t)?t:n)[Pe]}var Aj=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>null})}return n})();var bm={},gy=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Ld(r);let i=this.injector.get(e,bm,r);return i!==bm||t===bm?i:this.parentInjector.get(e,t,r)}};function my(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=km(i,a);else if(o==2){let c=a,l=e[++s];r=km(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function q(n,e=se.Default){let t=Z();if(t===null)return G(n,e);let r=gt();return wS(r,t,Tt(n),e)}function x0(){let n="invalid";throw new Error(n)}function Lv(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,c=null,l=null,h=Nj(s);h===null?a=s:[a,c,l]=h,xj(n,e,t,a,o,c,l)}o!==null&&r!==null&&Rj(t,r,o)}function Rj(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new L(-301,!1);r.push(e[i],o)}}function Nj(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&Pn(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,Mj(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function Mj(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function Pj(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function xj(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let g=0;g<a;g++){let m=r[g];!c&&Pn(m)&&(c=!0,Pj(n,t,g)),Gm(wd(t,e),n,m.type)}jj(t,n.data.length,a);for(let g=0;g<a;g++){let m=r[g];m.providersResolver&&m.providersResolver(m)}let l=!1,h=!1,p=h0(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let m=r[g];if(t.mergedAttrs=fs(t.mergedAttrs,m.hostAttrs),Oj(n,t,e,p,m),Vj(p,m,i),s!==null&&s.has(m)){let[A,R]=s.get(m);t.directiveToIndex.set(m.type,[p,A+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,p);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let w=m.type.prototype;!l&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(w.ngOnChanges||w.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}kj(n,t,o)}function kj(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))uC(0,e,i,r),uC(1,e,i,r),dC(e,r,!1);else{let o=t.get(i);lC(0,e,o,r),lC(1,e,o,r),dC(e,r,!0)}}}function uC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),k0(e,o)}}function lC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),k0(e,s)}}function k0(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function dC(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Dv(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let l=i[c];for(let h of l)if(h===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function Oj(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=ji(i.type,!0)),s=new Gi(o,Pn(i),q);n.blueprint[r]=s,t[r]=s,Fj(n,e,r,h0(n,t,i.hostVars,Ft),i)}function Fj(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;Lj(s)!=a&&s.push(a),s.push(t,r,o)}}function Lj(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Vj(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Pn(e)&&(t[""]=n)}}function jj(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function O0(n,e,t,r,i,o,s,a){let c=e.consts,l=Zr(c,s),h=vc(e,n,2,r,l);return o&&Lv(e,t,h,Zr(c,a),i),h.mergedAttrs=fs(h.mergedAttrs,h.attrs),h.attrs!==null&&my(h,h.attrs,!1),h.mergedAttrs!==null&&my(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function F0(n,e){fv(n,e),ev(e)&&n.queries.elementEnd(e)}var Sd=class extends rh{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Bi(e);return new ys(t,this.ngModule)}};function Uj(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Zd.SignalBased)!==0};return i&&(o.transform=i),o})}function Bj(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function $j(n,e,t){let r=e instanceof et?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new gy(t,r):t}function Hj(n){let e=n.get(ms,null);if(e===null)throw new L(407,!1);let t=n.get(Aj,null),r=n.get(Wi,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function zj(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return c0(e,t,t==="svg"?DF:t==="math"?TF:null)}var ys=class extends P0{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Uj(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Bj(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=IV(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){De(22);let o=ae(null);try{let s=this.componentDef,a=r?["ng-version","19.2.14"]:wV(this.componentDef.selectors[0]),c=Tv(0,null,null,1,0,null,null,null,null,[a],null),l=$j(s,i||this.ngModule,e),h=Hj(l),p=h.rendererFactory.createRenderer(null,s),g=r?PV(p,r,s.encapsulation,l):zj(s,p),m=bv(null,c,null,512|d0(s),null,null,h,p,l,null,HS(g,l,!0));m[Ze]=g,dv(m);let w=null;try{let A=O0(Ze,c,m,"#host",()=>[this.componentDef],!0,0);g&&(l0(p,g,A),bs(g,m)),Jd(c,m,A),wv(c,A,m),F0(c,A),t!==void 0&&qj(A,this.ngContentSelectors,t),w=kn(A.index,m),m[Ye]=w[Ye],Mv(c,m,null)}catch(A){throw w!==null&&Xm(w),Xm(m),A}finally{De(23),hv()}return new yy(this.componentType,m)}finally{ae(o)}}},yy=class extends Cj{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=tv(t[te],Ze),this.location=Ts(this._tNode,t),this.instance=kn(this._tNode.index,t)[Ye],this.hostView=this.changeDetectorRef=new lc(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Nv(r,i[te],i,e,t);this.previousInputValues.set(e,t);let s=kn(r.index,i);Fv(s,1)}get injector(){return new Vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function qj(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ri=(()=>{class n{static __NG_ELEMENT_ID__=Gj}return n})();function Gj(){let n=gt();return V0(n,Z())}var Wj=ri,L0=class extends Wj{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ts(this._hostTNode,this._hostLView)}get injector(){return new Vi(this._hostTNode,this._hostLView)}get parentInjector(){let e=pv(this._hostTNode,this._hostLView);if(mS(e)){let t=Ed(e,this._hostLView),r=_d(e),i=t[te].data[r+8];return new Vi(i,t)}else return new Vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=hC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=gs(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,ps(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!_F(e),a;if(s)a=t;else{let w=t||{};a=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let c=s?e:new ys(Bi(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let A=(s?l:this.parentInjector).get(et,null);A&&(o=A)}let h=Bi(c.componentType??{}),p=gs(this._lContainer,h?.id??null),g=p?.firstChild??null,m=c.create(l,i,g,o);return this.insertImpl(m.hostView,a,ps(this._hostTNode,p)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(SF(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[pt],l=new L0(c,c[Ot],c[pt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return yc(s,i,o,r),e.attachToViewContainerRef(),UC(Cm(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=hC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=uc(this._lContainer,t);r&&(fd(Cm(this._lContainer),t),Xd(r[te],r))}detach(e){let t=this._adjustIndex(e,-1),r=uc(this._lContainer,t);return r&&fd(Cm(this._lContainer),t)!=null?new lc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function hC(n){return n[yd]}function Cm(n){return n[yd]||(n[yd]=[])}function V0(n,e){let t,r=e[n.index];return _r(r)?t=r:(t=A0(r,e,null,n),e[n.index]=t,Cv(e,t)),Qj(t,e,n,r),new L0(t,n,e)}function Kj(n,e){let t=n[Pe],r=t.createComment(""),i=Vn(e,n),o=t.parentNode(i);return bd(t,o,r,t.nextSibling(i),!1),r}var Qj=Jj,Yj=()=>!1;function Zj(n,e,t){return Yj(n,e,t)}function Jj(n,e,t,r){if(n[Hi])return;let i;t.type&8?i=xn(r):i=Kj(e,t),n[Hi]=i}var vy=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},_y=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Vv(e,t).matches!==null&&this.queries[t].setDirty()}},Ad=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=s2(e):this.predicate=e}},Ey=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Iy=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,Xj(t,o)),this.matchTNodeWithReadOption(e,t,ad(t,e,o,!1,!1))}else r===Ki?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ad(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===mt||i===ri||i===Ki&&t.type&4)this.addMatch(t.index,-2);else{let o=ad(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function Xj(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function e2(n,e){return n.type&11?Ts(n,e):n.type&4?nh(n,e):null}function t2(n,e,t,r){return t===-1?e2(e,n):t===-2?n2(n,e,r):cc(n,n[te],t,e)}function n2(n,e,t){if(t===mt)return Ts(e,n);if(t===Ki)return nh(e,n);if(t===ri)return V0(e,n)}function j0(n,e,t,r){let i=e[gr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let h=o[l];a.push(t2(e,h,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function wy(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=j0(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-c];for(let p=ft;p<h.length;p++){let g=h[p];g[$i]===g[pt]&&wy(g[te],g,l,r)}if(h[hs]!==null){let p=h[hs];for(let g=0;g<p.length;g++){let m=p[g];wy(m[te],m,l,r)}}}}}return r}function r2(n,e){return n[gr].queries[e].queryList}function U0(n,e,t){let r=new Jm((t&4)===4);return NF(n,e,r,r.destroy),(e[gr]??=new _y).queries.push(new vy(r))-1}function i2(n,e,t){let r=xe();return r.firstCreatePass&&(B0(r,new Ad(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),U0(r,Z(),e)}function o2(n,e,t,r){let i=xe();if(i.firstCreatePass){let o=gt();B0(i,new Ad(e,t,r),o.index),a2(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return U0(i,Z(),t)}function s2(n){return n.split(",").map(e=>e.trim())}function B0(n,e,t){n.queries===null&&(n.queries=new Ey),n.queries.track(new Iy(e,t))}function a2(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Vv(n,e){return n.queries.getByIndex(e)}function c2(n,e){let t=n[te],r=Vv(t,e);return r.crossesNgTemplate?wy(t,n,e,[]):j0(t,n,r,e)}var vs=class{},jv=class{};var Dy=class extends vs{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Sd(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=HC(e);this._bootstrapComponents=o0(o.bootstrap),this._r3Injector=bS(e,t,[{provide:vs,useValue:this},{provide:rh,useValue:this.componentFactoryResolver},...r],Pt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ty=class extends jv{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Dy(this.moduleType,e,[])}};var Rd=class extends vs{injector;componentFactoryResolver=new Sd(this);instance=null;constructor(e){super();let t=new sc([...e.providers,{provide:vs,useValue:this},{provide:rh,useValue:this.componentFactoryResolver}],e.parent||Zy(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function _c(n,e,t=null){return new Rd({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var u2=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=zC(!1,t.type),i=r.length>0?_c([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=j({token:n,providedIn:"environment",factory:()=>new n(G(et))})}return n})();function $0(n){return hc(()=>{let e=H0(n),t=le(O({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===kS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(u2).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Fn.Emulated,styles:n.styles||Mt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&ti("NgStandalone"),z0(t);let r=n.dependencies;return t.directiveDefs=fC(r,!1),t.pipeDefs=fC(r,!0),t.id=p2(t),t})}function l2(n){return Bi(n)||aF(n)}function d2(n){return n!==null}function Lt(n){return hc(()=>({type:n.type,bootstrap:n.bootstrap||Mt,declarations:n.declarations||Mt,imports:n.imports||Mt,exports:n.exports||Mt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function h2(n,e){if(n==null)return Ui;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Zd.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function f2(n){if(n==null)return Ui;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Ee(n){return hc(()=>{let e=H0(n);return z0(e),e})}function Uv(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function H0(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Ui,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Mt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:h2(n.inputs,e),outputs:f2(n.outputs),debugInfo:null}}function z0(n){n.features?.forEach(e=>e(n))}function fC(n,e){if(!n)return null;let t=e?cF:l2;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(d2)}function p2(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function g2(n){return Object.getPrototypeOf(n.prototype).constructor}function yt(n){let e=g2(n.type),t=!0,r=[n];for(;e;){let i;if(Pn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new L(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Sm(n.inputs),s.declaredInputs=Sm(n.declaredInputs),s.outputs=Sm(n.outputs);let a=i.hostBindings;a&&E2(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&v2(n,c),l&&_2(n,l),m2(n,i),j1(n.outputs,i.outputs),Pn(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===yt&&(t=!1)}}e=Object.getPrototypeOf(e)}y2(r)}function m2(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function y2(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=fs(i.hostAttrs,t=fs(t,i.hostAttrs))}}function Sm(n){return n===Ui?{}:n===Mt?[]:n}function v2(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function _2(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function E2(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function q0(n){return Bv(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function I2(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Bv(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function $v(n,e,t){return n[e]=t}function w2(n,e){return n[e]}function pn(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function G0(n,e,t,r){let i=pn(n,e,t);return pn(n,e+1,r)||i}function D2(n,e,t,r,i,o,s,a,c){let l=e.consts,h=vc(e,n,4,s||null,a||null);sv()&&Lv(e,t,h,Zr(l,c),Rv),h.mergedAttrs=fs(h.mergedAttrs,h.attrs),fv(e,h);let p=h.tView=Tv(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Nd(n,e,t,r,i,o,s,a,c,l){let h=t+Ze,p=e.firstCreatePass?D2(h,e,n,r,i,o,s,a,c):e.data[h];Yi(p,!1);let g=b2(e,n,p,t);zd()&&eh(e,n,g,p),bs(g,n);let m=A0(g,n,g,p);return n[h]=m,Cv(n,m),Zj(m,p,n),Ud(p)&&Jd(e,n,p),c!=null&&Sv(n,p,l),p}function T2(n,e,t,r,i,o,s,a){let c=Z(),l=xe(),h=Zr(l.consts,o);return Nd(c,l,n,e,t,r,i,h,s,a),T2}var b2=C2;function C2(n,e,t,r){return qd(!0),e[Pe].createComment("")}var Hv=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var zv=new V(""),Ec=new V(""),ih=(()=>{class n{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(t,r,i){this._ngZone=t,this.registry=r,Jy()&&(this._destroyRef=M(Xr,{optional:!0})??void 0),qv||(S2(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let t=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{t.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static \u0275fac=function(r){return new(r||n)(G(he),G(oh),G(Ec))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),oh=(()=>{class n{_applications=new Map;registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return qv?.findTestabilityInTree(this,t,r)??null}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function S2(n){qv=n}var qv,A2=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>new by})}return n})(),by=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function Ji(n){return!!n&&typeof n.then=="function"}function W0(n){return!!n&&typeof n.subscribe=="function"}var K0=new V("");function Gv(n){return qt([{provide:K0,multi:!0,useValue:n}])}var Q0=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=M(K0,{optional:!0})??[];injector=M(Ue);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=tt(this.injector,i);if(Ji(o))t.push(o);else if(W0(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sh=new V("");function R2(){Jg(()=>{throw new L(600,!1)})}function N2(n){return n.isBoundToModule}var M2=10;var yr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=M(mL);afterRenderManager=M($S);zonelessEnabled=M(Wd);rootEffectScheduler=M(A2);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ne;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=M(Un).hasPendingTasks.pipe(ee(t=>!t));constructor(){M(Cs,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=M(et);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Ue.NULL){De(10);let o=t instanceof P0;if(!this._injector.get(Q0).done){let m="";throw new L(405,m)}let a;o?a=t:a=this._injector.get(rh).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let c=N2(a)?void 0:this._injector.get(vs),l=r||a.selector,h=a.create(i,[],l,c),p=h.location.nativeElement,g=h.injector.get(zv,null);return g?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),cd(this.components,h),g?.unregisterApplication(p)}),this._loadComponent(h),De(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){De(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Ev.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new L(101,!1);let t=ae(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ae(t),this.afterTick.next(),De(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ms,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<M2;)De(14),this.synchronizeOnce(),De(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)P2(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Bd(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;cd(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(sh,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>cd(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new L(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cd(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function P2(n,e,t,r){if(!t&&!Bd(n))return;T0(n,e,t&&!r?0:1)}function Ss(n,e,t,r){let i=Z(),o=Ds();if(pn(i,o,e)){let s=xe(),a=Hd();UV(a,i,n,e,t,r)}return Ss}function Y0(n,e,t,r){return pn(n,Ds(),t)?e+as(t)+r:Ft}function x2(n,e,t,r,i,o){let s=VF(),a=G0(n,s,t,i);return uv(2),a?e+as(t)+r+as(i)+o:Ft}function rd(n,e){return n<<17|e<<2}function Qi(n){return n>>17&32767}function k2(n){return(n&2)==2}function O2(n,e){return n&131071|e<<17}function Cy(n){return n|2}function _s(n){return(n&131068)>>2}function Am(n,e){return n&-131069|e<<2}function F2(n){return(n&1)===1}function Sy(n){return n|1}function L2(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Qi(s),c=_s(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||fc(p,h)>0)&&(l=!0)}else h=t;if(i)if(c!==0){let g=Qi(n[a+1]);n[r+1]=rd(g,a),g!==0&&(n[g+1]=Am(n[g+1],r)),n[a+1]=O2(n[a+1],r)}else n[r+1]=rd(a,0),a!==0&&(n[a+1]=Am(n[a+1],r)),a=r;else n[r+1]=rd(c,0),a===0?a=r:n[c+1]=Am(n[c+1],r),c=r;l&&(n[r+1]=Cy(n[r+1])),pC(n,h,r,!0),pC(n,h,r,!1),V2(e,h,n,r,o),s=rd(a,c),o?e.classBindings=s:e.styleBindings=s}function V2(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&fc(o,e)>=0&&(t[r+1]=Sy(t[r+1]))}function pC(n,e,t,r){let i=n[t+1],o=e===null,s=r?Qi(i):_s(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];j2(c,e)&&(a=!0,n[s+1]=r?Sy(l):Cy(l)),s=r?Qi(l):_s(l)}a&&(n[t+1]=r?Cy(i):Sy(i))}function j2(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?fc(n,e)>=0:!1}var hn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function U2(n){return n.substring(hn.key,hn.keyEnd)}function B2(n){return $2(n),Z0(n,J0(n,0,hn.textEnd))}function Z0(n,e){let t=hn.textEnd;return t===e?-1:(e=hn.keyEnd=H2(n,hn.key=e,t),J0(n,e,t))}function $2(n){hn.key=0,hn.keyEnd=0,hn.value=0,hn.valueEnd=0,hn.textEnd=n.length}function J0(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function H2(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function z2(n,e,t){let r=Z(),i=Ds();if(pn(r,i,e)){let o=xe(),s=Hd();Av(o,s,r,n,e,r[Pe],t,!1)}return z2}function Ay(n,e,t,r,i){Nv(e,n,t,i?"class":"style",r)}function ah(n,e){return G2(n,e,null,!0),ah}function BZ(n){W2(X2,q2,n,!0)}function q2(n,e){for(let t=B2(e);t>=0;t=Z0(e,t))Qy(n,U2(e),!0)}function G2(n,e,t,r){let i=Z(),o=xe(),s=uv(2);if(o.firstUpdatePass&&eA(o,n,s,r),e!==Ft&&pn(i,s,e)){let a=o.data[Er()];tA(o,a,i,i[Pe],n,i[s+1]=tU(e,t),r,s)}}function W2(n,e,t,r){let i=xe(),o=uv(2);i.firstUpdatePass&&eA(i,null,o,r);let s=Z();if(t!==Ft&&pn(s,o,t)){let a=i.data[Er()];if(nA(a,r)&&!X0(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=km(c,t||"")),Ay(i,a,s,t,r)}else eU(i,a,s,s[Pe],s[o+1],s[o+1]=J2(n,e,t),r,o)}}function X0(n,e){return e>=n.expandoStartIndex}function eA(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Er()],s=X0(n,t);nA(o,r)&&e===null&&!s&&(e=!1),e=K2(i,o,e,r),L2(i,o,e,t,s,r)}}function K2(n,e,t,r){let i=HF(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Rm(null,n,e,t,r),t=dc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Rm(i,n,e,t,r),o===null){let c=Q2(n,e,r);c!==void 0&&Array.isArray(c)&&(c=Rm(null,n,e,c[1],r),c=dc(c,e.attrs,r),Y2(n,e,r,c))}else o=Z2(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function Q2(n,e,t){let r=t?e.classBindings:e.styleBindings;if(_s(r)!==0)return n[Qi(r)]}function Y2(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Qi(i)]=r}function Z2(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=dc(r,s,t)}return dc(r,e.attrs,t)}function Rm(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=dc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function dc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Qy(n,s,t?!0:e[++o]))}return n===void 0?null:n}function J2(n,e,t){if(t==null||t==="")return Mt;let r=[],i=gn(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function X2(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&Qy(n,r,t)}function eU(n,e,t,r,i,o,s,a){i===Ft&&(i=Mt);let c=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let g=c<i.length?i[c+1]:void 0,m=l<o.length?o[l+1]:void 0,w=null,A;h===p?(c+=2,l+=2,g!==m&&(w=p,A=m)):p===null||h!==null&&h<p?(c+=2,w=h):(l+=2,w=p,A=m),w!==null&&tA(n,e,t,r,w,A,s,a),h=c<i.length?i[c]:null,p=l<o.length?o[l]:null}}function tA(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],h=F2(l)?gC(c,e,t,i,_s(l),s):void 0;if(!Md(h)){Md(o)||k2(l)&&(o=gC(c,null,t,i,a,s));let p=eS(Er(),t);ij(r,s,p,i,o)}}function gC(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),h=l?c[1]:c,p=h===null,g=t[i+1];g===Ft&&(g=p?Mt:void 0);let m=p?_m(g,r):h===r?g:void 0;if(l&&!Md(m)&&(m=_m(c,r)),Md(m)&&(a=m,s))return a;let w=n[i+1];i=s?Qi(w):_s(w)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=_m(c,r))}return a}function Md(n){return n!==void 0}function tU(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Pt(gn(n)))),n}function nA(n,e){return(n.flags&(e?8:16))!==0}var Ry=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function Nm(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function nU(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let l=n.at(o),h=e[o],p=Nm(o,l,o,h,t);if(p!==0){p<0&&n.updateValue(o,h),o++;continue}let g=n.at(s),m=e[c],w=Nm(s,g,c,m,t);if(w!==0){w<0&&n.updateValue(s,m),s--,c--;continue}let A=t(o,l),R=t(s,g),k=t(o,h);if(Object.is(k,R)){let H=t(c,m);Object.is(H,A)?(n.swap(o,s),n.updateValue(s,m),c--,s--):n.move(s,o),n.updateValue(o,h),o++;continue}if(r??=new Pd,i??=yC(n,o,s,t),Ny(n,r,o,k))n.updateValue(o,h),o++,s++;else if(i.has(k))r.set(A,n.detach(o)),s--;else{let H=n.create(o,e[o]);n.attach(o,H),o++,s++}}for(;o<=c;)mC(n,r,t,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let h=n.at(o),p=l.value,g=Nm(o,h,o,p,t);if(g!==0)g<0&&n.updateValue(o,p),o++,l=c.next();else{r??=new Pd,i??=yC(n,o,s,t);let m=t(o,p);if(Ny(n,r,o,m))n.updateValue(o,p),o++,s++,l=c.next();else if(!i.has(m))n.attach(o,n.create(o,p)),o++,s++,l=c.next();else{let w=t(o,h);r.set(w,n.detach(o)),s--}}}for(;!l.done;)mC(n,r,t,n.length,l.value),l=c.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(c=>{n.destroy(c)})}function Ny(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function mC(n,e,t,r,i){if(Ny(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function yC(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var Pd=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function $Z(n,e){ti("NgControlFlow");let t=Z(),r=Ds(),i=t[r]!==Ft?t[r]:-1,o=i!==-1?xd(t,Ze+i):void 0,s=0;if(pn(t,r,n)){let a=ae(null);try{if(o!==void 0&&N0(o,s),n!==-1){let c=Ze+n,l=xd(t,c),h=ky(t[te],c),p=gs(l,h.tView.ssrId),g=mc(t,h,e,{dehydratedView:p});yc(l,g,s,ps(h,p))}}finally{ae(a)}}else if(o!==void 0){let a=R0(o,s);a!==void 0&&(a[Ye]=e)}}var My=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-ft}};function HZ(n){return n}var Py=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function zZ(n,e,t,r,i,o,s,a,c,l,h,p,g){ti("NgControlFlow");let m=Z(),w=xe(),A=c!==void 0,R=Z(),k=a?s.bind(R[zt][Ye]):s,H=new Py(A,k);R[Ze+n]=H,Nd(m,w,n+1,e,t,r,i,Zr(w.consts,o)),A&&Nd(m,w,n+2,c,l,h,p,Zr(w.consts,g))}var xy=class extends Ry{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-ft}at(e){return this.getLView(e)[Ye].$implicit}attach(e,t){let r=t[ls];this.needsIndexUpdate||=e!==this.length,yc(this.lContainer,t,e,ps(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,rU(this.lContainer,e)}create(e,t){let r=gs(this.lContainer,this.templateTNode.tView.ssrId),i=mc(this.hostLView,this.templateTNode,new My(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Xd(e[te],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Ye].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ye].$index=e}getLView(e){return iU(this.lContainer,e)}};function qZ(n){let e=ae(null),t=Er();try{let r=Z(),i=r[te],o=r[t],s=t+1,a=xd(r,s);if(o.liveCollection===void 0){let l=ky(i,s);o.liveCollection=new xy(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(nU(c,n,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=Ds(),h=c.length===0;if(pn(r,l,h)){let p=t+2,g=xd(r,p);if(h){let m=ky(i,p),w=gs(g,m.tView.ssrId),A=mc(r,m,void 0,{dehydratedView:w});yc(g,A,0,ps(m,w))}else N0(g,0)}}}finally{ae(e)}}function xd(n,e){return n[e]}function rU(n,e){return uc(n,e)}function iU(n,e){return R0(n,e)}function ky(n,e){return tv(n,e)}function rA(n,e,t,r){let i=Z(),o=xe(),s=Ze+n,a=i[Pe],c=o.firstCreatePass?O0(s,o,i,e,Rv,sv(),t,r):o.data[s],l=oU(o,i,c,a,e,n);i[s]=l;let h=Ud(c);return Yi(c,!0),l0(a,l,c),!xv(c)&&zd()&&eh(o,i,l,c),(MF()===0||h)&&bs(l,i),PF(),h&&(Jd(o,i,c),wv(o,c,i)),r!==null&&Sv(i,c),rA}function iA(){let n=gt();av()?cv():(n=n.parent,Yi(n,!1));let e=n;kF(e)&&OF(),xF();let t=xe();return t.firstCreatePass&&F0(t,e),e.classesWithoutHost!=null&&QF(e)&&Ay(t,e,Z(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&YF(e)&&Ay(t,e,Z(),e.stylesWithoutHost,!1),iA}function Wv(n,e,t,r){return rA(n,e,t,r),iA(),Wv}var oU=(n,e,t,r,i,o)=>(qd(!0),c0(r,i,GF()));function sU(n,e,t,r,i){let o=e.consts,s=Zr(o,r),a=vc(e,n,8,"ng-container",s);s!==null&&my(a,s,!0);let c=Zr(o,i);return sv()&&Lv(e,t,a,c,Rv),a.mergedAttrs=fs(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function oA(n,e,t){let r=Z(),i=xe(),o=n+Ze,s=i.firstCreatePass?sU(o,i,r,e,t):i.data[o];Yi(s,!0);let a=cU(i,r,s,n);return r[o]=a,zd()&&eh(i,r,a,s),bs(a,r),Ud(s)&&(Jd(i,r,s),wv(i,s,r)),t!=null&&Sv(r,s),oA}function sA(){let n=gt(),e=xe();return av()?cv():(n=n.parent,Yi(n,!1)),e.firstCreatePass&&(fv(e,n),ev(n)&&e.queries.elementEnd(n)),sA}function aU(n,e,t){return oA(n,e,t),sA(),aU}var cU=(n,e,t,r)=>(qd(!0),bV(e[Pe],""));function GZ(){return Z()}var Fi=void 0;function uU(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var lU=["en",[["a","p"],["AM","PM"],Fi],[["AM","PM"],Fi,Fi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fi,"{1} 'at' {0}",Fi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",uU],Mm={};function Kv(n){let e=dU(n),t=vC(e);if(t)return t;let r=e.split("-")[0];if(t=vC(r),t)return t;if(r==="en")return lU;throw new L(701,!1)}function vC(n){return n in Mm||(Mm[n]=at.ng&&at.ng.common&&at.ng.common.locales&&at.ng.common.locales[n]),Mm[n]}var As=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(As||{});function dU(n){return n.toLowerCase().replace(/_/g,"-")}var kd="en-US";var hU=kd;function fU(n){typeof n=="string"&&(hU=n.toLowerCase().replace(/_/g,"-"))}function _C(n,e,t){return function r(i){if(i===Function)return t;let o=Is(n)?kn(n.index,e):e;Fv(o,5);let s=e[Ye],a=EC(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=EC(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function EC(n,e,t,r){let i=ae(null);try{return De(6,e,t),t(r)!==!1}catch(o){return pU(n,o),!1}finally{De(7,e,t),ae(i)}}function pU(n,e){let t=n[ds],r=t?t.get(On,null):null;r&&r.handleError(e)}function IC(n,e,t,r,i,o){let s=e[t],a=e[te],l=a.data[t].outputs[r],h=s[l],p=a.firstCreatePass?ov(a):null,g=iv(e),m=h.subscribe(o),w=g.length;g.push(o,m),p&&p.push(i,n.index,w,-(w+1))}function $n(n,e,t,r){let i=Z(),o=xe(),s=gt();return aA(o,i,i[Pe],s,n,e,r),$n}function gU(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[gd],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function aA(n,e,t,r,i,o,s){let a=Ud(r),l=n.firstCreatePass?ov(n):null,h=iv(e),p=!0;if(r.type&3||s){let g=Vn(r,e),m=s?s(g):g,w=h.length,A=s?k=>s(xn(k[r.index])):r.index,R=null;if(!s&&a&&(R=gU(n,e,i,r.index)),R!==null){let k=R.__ngLastListenerFn__||R;k.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,p=!1}else{o=_C(r,e,o),LL(e,m,i,o);let k=t.listen(m,i,o);h.push(o,k),l&&l.push(i,A,w,w+1)}}else o=_C(r,e,o);if(p){let g=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let w=0;w<m.length;w+=2){let A=m[w],R=m[w+1];IC(r,e,A,R,i,o)}if(g&&g.length)for(let w of g)IC(r,e,w,i,i,o)}}function WZ(n=1){return qF(n)}function mU(n,e){let t=null,r=mV(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?a0(n,o,!0):_V(r,o))return i}return t}function KZ(n){let e=Z()[zt][Ot];if(!e.projection){let t=n?n.length:1,r=e.projection=iF(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?mU(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function QZ(n,e=0,t,r,i,o){let s=Z(),a=xe(),c=r?n+1:null;c!==null&&Nd(s,a,c,r,i,o,null,t);let l=vc(a,Ze+n,16,null,t||null);l.projection===null&&(l.projection=e),cv();let p=!s[ls]||iS();s[zt][Ot].projection[l.projection]===null&&c!==null?yU(s,a,c):p&&!xv(l)&&nj(a,s,l)}function yU(n,e,t){let r=Ze+t,i=e.data[r],o=n[r],s=gs(o,i.tView.ssrId),a=mc(n,i,void 0,{dehydratedView:s});yc(o,a,0,ps(i,s))}function vU(n,e,t){return cA(n,"",e,"",t),vU}function cA(n,e,t,r,i){let o=Z(),s=Y0(o,e,t,r);if(s!==Ft){let a=xe(),c=Hd();Av(a,c,o,n,s,o[Pe],i,!1)}return cA}function uA(n,e,t,r){o2(n,e,t,r)}function YZ(n,e,t){i2(n,e,t)}function lA(n){let e=Z(),t=xe(),r=aS();lv(r+1);let i=Vv(t,r);if(n.dirty&&CF(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=c2(e,r);n.reset(o,_L),n.notifyOnChanges()}return!0}return!1}function dA(){return r2(Z(),aS())}function ZZ(n){let e=LF();return nv(e,Ze+n)}function JZ(n,e=""){let t=Z(),r=xe(),i=n+Ze,o=r.firstCreatePass?vc(r,i,1,e,null):r.data[i],s=_U(r,t,o,e,n);t[i]=s,zd()&&eh(r,t,s,o),Yi(o,!1)}var _U=(n,e,t,r,i)=>(qd(!0),DV(e[Pe],r));function EU(n){return hA("",n,""),EU}function hA(n,e,t){let r=Z(),i=Y0(r,n,e,t);return i!==Ft&&fA(r,Er(),i),hA}function IU(n,e,t,r,i){let o=Z(),s=x2(o,n,e,t,r,i);return s!==Ft&&fA(o,Er(),s),IU}function fA(n,e,t){let r=eS(e,n);TV(n[Pe],r,t)}function wU(n,e,t){PS(e)&&(e=e());let r=Z(),i=Ds();if(pn(r,i,e)){let o=xe(),s=Hd();Av(o,s,r,n,e,r[Pe],t,!1)}return wU}function XZ(n,e){let t=PS(n);return t&&n.set(e),t}function DU(n,e){let t=Z(),r=xe(),i=gt();return aA(r,t,t[Pe],i,n,e),DU}function TU(n,e,t){let r=xe();if(r.firstCreatePass){let i=Pn(n);Oy(t,r.data,r.blueprint,i,!0),Oy(e,r.data,r.blueprint,i,!1)}}function Oy(n,e,t,r,i){if(n=Tt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Oy(n[o],e,t,r,i);else{let o=xe(),s=Z(),a=gt(),c=us(n)?n:Tt(n.provide),l=WC(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(us(n)||!n.multi){let m=new Gi(l,i,q),w=xm(c,e,i?h:h+g,p);w===-1?(Gm(wd(a,s),o,c),Pm(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[w]=m,s[w]=m)}else{let m=xm(c,e,h+g,p),w=xm(c,e,h,h+g),A=m>=0&&t[m],R=w>=0&&t[w];if(i&&!R||!i&&!A){Gm(wd(a,s),o,c);let k=SU(i?CU:bU,t.length,i,r,l);!i&&R&&(t[w].providerFactory=k),Pm(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(k),s.push(k)}else{let k=pA(t[i?w:m],l,!i&&r);Pm(o,n,m>-1?m:w,k)}!i&&r&&R&&t[w].componentProviders++}}}function Pm(n,e,t,r){let i=us(e),o=fF(e);if(i||o){let c=(o?Tt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,c]):l[h+1].push(r,c)}else l.push(t,c)}}}function pA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function xm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function bU(n,e,t,r,i){return Fy(this.multi,[])}function CU(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=cc(r,r[te],this.providerFactory.index,i);s=c.slice(0,a),Fy(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],Fy(o,s);return s}function Fy(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function SU(n,e,t,r,i){let o=new Gi(n,t,q);return o.multi=[],o.index=e,o.componentProviders=0,pA(o,i,r&&!t),o}function on(n,e=[]){return t=>{t.providersResolver=(r,i)=>TU(r,i?i(n):n,e)}}function eJ(n,e,t){let r=$d()+n,i=Z();return i[r]===Ft?$v(i,r,t?e.call(t):e()):w2(i,r)}function tJ(n,e,t,r){return mA(Z(),$d(),n,e,t,r)}function gA(n,e){let t=n[e];return t===Ft?void 0:t}function mA(n,e,t,r,i,o){let s=e+t;return pn(n,s,i)?$v(n,s+1,o?r.call(o,i):r(i)):gA(n,s+1)}function AU(n,e,t,r,i,o,s){let a=e+t;return G0(n,a,i,o)?$v(n,a+2,s?r.call(s,i,o):r(i,o)):gA(n,a+2)}function nJ(n,e){let t=xe(),r,i=n+Ze;t.firstCreatePass?(r=RU(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=ji(r.type,!0)),s,a=Nt(q);try{let c=Id(!1),l=o();return Id(c),bF(t,Z(),i,l),l}finally{Nt(a)}}function RU(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function rJ(n,e,t){let r=n+Ze,i=Z(),o=nv(i,r);return yA(i,r)?mA(i,$d(),e,o.transform,t,o):o.transform(t)}function iJ(n,e,t,r){let i=n+Ze,o=Z(),s=nv(o,i);return yA(o,i)?AU(o,$d(),e,s.transform,t,r,s):s.transform(t,r)}function yA(n,e){return n[te].data[e].pure}function oJ(n,e){return nh(n,e)}var Jr=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},vA=new Jr("19.2.14"),Ly=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},_A=(()=>{class n{compileModuleSync(t){return new Ty(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=HC(t),o=o0(i.declarations).reduce((s,a)=>{let c=Bi(a);return c&&s.push(new ys(c)),s},[]);return new Ly(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var NU=(()=>{class n{zone=M(he);changeDetectionScheduler=M(Wi);applicationRef=M(yr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MU=new V("",{factory:()=>!1});function EA({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new he(le(O({},IA()),{scheduleInRootZone:t})),[{provide:he,useFactory:n},{provide:cs,multi:!0,useFactory:()=>{let r=M(NU,{optional:!0});return()=>r.initialize()}},{provide:cs,multi:!0,useFactory:()=>{let r=M(PU);return()=>{r.initialize()}}},e===!0?{provide:SS,useValue:!0}:[],{provide:AS,useValue:t??CS}]}function sJ(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=EA({ngZoneFactory:()=>{let i=IA(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&ti("NgZone_CoalesceEvent"),new he(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return qt([{provide:MU,useValue:!0},{provide:Wd,useValue:!1},r])}function IA(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var PU=(()=>{class n{subscription=new Fe;initialized=!1;zone=M(he);pendingTasks=M(Un);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{he.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xU=(()=>{class n{appRef=M(yr);taskService=M(Un);ngZone=M(he);zonelessEnabled=M(Wd);tracing=M(Cs,{optional:!0});disableScheduling=M(SS,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Fe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Td):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(AS,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Zm||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Qb:RS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Td+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Qb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kU(){return typeof $localize<"u"&&$localize.locale||kd}var ch=new V("",{providedIn:"root",factory:()=>M(ch,se.Optional|se.SkipSelf)||kU()});var Vy=new V(""),OU=new V("");function nc(n){return!n.moduleRef}function FU(n){let e=nc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(he);return t.run(()=>{nc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(On,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),nc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Vy);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Vy);s.add(o),n.moduleRef.onDestroy(()=>{cd(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return VU(r,t,()=>{let o=e.get(Q0);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(ch,kd);if(fU(s||kd),!e.get(OU,!0))return nc(n)?e.get(yr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(nc(n)){let c=e.get(yr);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return LU(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function LU(n,e){let t=n.injector.get(yr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new L(-403,!1);e.push(n)}function VU(n,e,t){try{let r=t();return Ji(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var ud=null;function jU(n=[],e){return Ue.create({name:e,providers:[{provide:Vd,useValue:"platform"},{provide:Vy,useValue:new Set([()=>ud=null])},...n]})}function UU(n=[]){if(ud)return ud;let e=jU(n);return ud=e,R2(),BU(e),e}function BU(n){let e=n.get(vv,null);tt(n,()=>{e?.forEach(t=>t())})}function Qv(){return!1}var ii=(()=>{class n{static __NG_ELEMENT_ID__=$U}return n})();function $U(n){return HU(gt(),Z(),(n&16)===16)}function HU(n,e,t){if(Is(n)&&!t){let r=kn(n.index,e);return new lc(r,r)}else if(n.type&175){let r=e[zt];return new lc(r,e)}return null}var jy=class{constructor(){}supports(e){return q0(e)}create(e){return new Uy(e)}},zU=(n,e)=>e,Uy=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||zU}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<wC(r,i,o)?t:r,a=wC(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=c-i;if(l!=h){for(let g=0;g<l;g++){let m=g<o.length?o[g]:o[g]=0,w=m+g;h<=w&&w<l&&(o[g]=m+1)}let p=s.previousIndex;o[p]=h-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!q0(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,I2(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new By(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Od),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Od),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},By=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},$y=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Od=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new $y,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function wC(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var Hy=class{constructor(){}supports(e){return e instanceof Map||Bv(e)}create(){return new zy}},zy=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Bv(e)))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new qy(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},qy=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function DC(){return new Yv([new jy])}var Yv=(()=>{class n{factories;static \u0275prov=j({token:n,providedIn:"root",factory:DC});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||DC()),deps:[[n,new jC,new bt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new L(901,!1)}}return n})();function TC(){return new Zv([new Hy])}var Zv=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:TC});factories;constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||TC()),deps:[[n,new jC,new bt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new L(901,!1)}}return n})();var wA=(()=>{class n{constructor(t){}static \u0275fac=function(r){return new(r||n)(G(yr))};static \u0275mod=Lt({type:n});static \u0275inj=kt({})}return n})();function DA(n){De(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=UU(r),o=[EA({}),{provide:Wi,useExisting:xU},...t||[]],s=new Rd({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return FU({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{De(9)}}function oi(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function mn(n){return tm(n)}function Xi(n,e){return Zg(n,e?.equal)}var bC=class{[en];constructor(e){this[en]=e}destroy(){this[en].destroy()}};function TA(n){let e=Bi(n);if(!e)return null;let t=new ys(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Be=new V("");var SA=null;function Gt(){return SA}function Jv(n){SA??=n}var Ic=class{},wc=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(AA),providedIn:"platform"})}return n})(),Xv=new V(""),AA=(()=>{class n extends wc{_location;_history;_doc=M(Be);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gt().getBaseHref(this._doc)}onPopState(t){let r=Gt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Gt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function uh(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function bA(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function vn(n){return n&&n[0]!=="?"?`?${n}`:n}var _n=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(dh),providedIn:"root"})}return n})(),lh=new V(""),dh=(()=>{class n extends _n{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(Be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return uh(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+vn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+vn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+vn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(G(wc),G(lh,8))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),si=(()=>{class n{_subject=new Ne;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=WU(bA(CA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+vn(r))}normalize(t){return n.stripTrailingSlash(GU(this._basePath,CA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=vn;static joinWithSlash=uh;static stripTrailingSlash=bA;static \u0275fac=function(r){return new(r||n)(G(_n))};static \u0275prov=j({token:n,factory:()=>qU(),providedIn:"root"})}return n})();function qU(){return new si(G(_n))}function GU(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function CA(n){return n.replace(/\/index.html$/,"")}function WU(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var r_=(()=>{class n extends _n{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=uh(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+vn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+vn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(G(wc),G(lh,8))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();var i_=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(i_||{});var Hn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Rs(n,e){let t=Kv(n),r=t[As.NumberSymbols][e];if(typeof r>"u"){if(e===Hn.CurrencyDecimal)return t[As.NumberSymbols][Hn.Decimal];if(e===Hn.CurrencyGroup)return t[As.NumberSymbols][Hn.Group]}return r}function xA(n,e){return Kv(n)[As.NumberFormats][e]}var KU=/^(\d+)?\.((\d+)(-(\d+))?)?$/,RA=22,hh=".",Dc="0",QU=";",YU=",",e_="#";function ZU(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=Rs(t,Hn.Infinity);else{let l=eB(n);s&&(l=XU(l));let h=e.minInt,p=e.minFrac,g=e.maxFrac;if(o){let H=o.match(KU);if(H===null)throw new Error(`${o} is not a valid digit info`);let z=H[1],ge=H[3],$e=H[5];z!=null&&(h=t_(z)),ge!=null&&(p=t_(ge)),$e!=null?g=t_($e):ge!=null&&p>g&&(g=p)}tB(l,p,g);let m=l.digits,w=l.integerLen,A=l.exponent,R=[];for(c=m.every(H=>!H);w<h;w++)m.unshift(0);for(;w<0;w++)m.unshift(0);w>0?R=m.splice(w,m.length):(R=m,m=[0]);let k=[];for(m.length>=e.lgSize&&k.unshift(m.splice(-e.lgSize,m.length).join(""));m.length>e.gSize;)k.unshift(m.splice(-e.gSize,m.length).join(""));m.length&&k.unshift(m.join("")),a=k.join(Rs(t,r)),R.length&&(a+=Rs(t,i)+R.join("")),A&&(a+=Rs(t,Hn.Exponential)+"+"+A)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function kA(n,e,t){let r=xA(e,i_.Decimal),i=JU(r,Rs(e,Hn.MinusSign));return ZU(n,i,e,Hn.Group,Hn.Decimal,t)}function JU(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(QU),i=r[0],o=r[1],s=i.indexOf(hh)!==-1?i.split(hh):[i.substring(0,i.lastIndexOf(Dc)+1),i.substring(i.lastIndexOf(Dc)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(e_));for(let h=0;h<c.length;h++){let p=c.charAt(h);p===Dc?t.minFrac=t.maxFrac=h+1:p===e_?t.maxFrac=h+1:t.posSuf+=p}let l=a.split(YU);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-t.posPre.length-t.posSuf.length,p=o.indexOf(e_);t.negPre=o.substring(0,p).replace(/'/g,""),t.negSuf=o.slice(p+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function XU(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function eB(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(hh))>-1&&(e=e.replace(hh,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Dc;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Dc;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>RA&&(r=r.splice(0,RA-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function tB(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,l=e+n.integerLen,h=r.reduceRight(function(p,g,m,w){return g=g+p,w[m]=g<10?g:g-10,c&&(w[m]===0&&m>=l?w.pop():c=!1),g>=10?1:0},0);h&&(r.unshift(h),n.integerLen++)}function t_(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}var n_=/\s+/,NA=[],nB=(()=>{class n{_ngEl;_renderer;initialClasses=NA;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(n_):NA}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(n_):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(n_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(q(mt),q(rn))};static \u0275dir=Ee({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var fh=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},OA=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new fh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),MA(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);MA(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(q(ri),q(Ki),q(Yv))};static \u0275dir=Ee({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function MA(n,e){n.context.$implicit=e.item}var rB=(()=>{class n{_viewContainer;_context=new ph;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){PA(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){PA(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(q(ri),q(Ki))};static \u0275dir=Ee({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),ph=class{$implicit=null;ngIf=null};function PA(n,e){if(n&&!n.createEmbeddedView)throw new L(2020,!1)}var iB=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:Ln.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(q(mt),q(Zv),q(rn))};static \u0275dir=Ee({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})();function FA(n,e){return new L(2100,!1)}var oB=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw FA(n,t);return t.toUpperCase()}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=Uv({name:"uppercase",type:n,pure:!0})}return n})();var sB=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!aB(t))return null;i||=this._locale;try{let o=cB(t);return kA(o,i,r)}catch(o){throw FA(n,o.message)}}static \u0275fac=function(r){return new(r||n)(q(ch,16))};static \u0275pipe=Uv({name:"number",type:n,pure:!0})}return n})();function aB(n){return!(n==null||n===""||n!==n)}function cB(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var o_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Lt({type:n});static \u0275inj=kt({})}return n})();function Tc(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var gh="browser",LA="server";function uB(n){return n===gh}function mh(n){return n===LA}var eo=class{};var VA=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>new s_(M(Be),window)})}return n})(),s_=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=lB(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function lB(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var _h=new V(""),l_=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new L(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(G(_h),G(he))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),bc=class{_doc;constructor(e){this._doc=e}manager},yh="ng-app-id";function jA(n){for(let e of n)e.remove()}function UA(n,e){let t=e.createElement("style");return t.textContent=n,t}function hB(n,e,t,r){let i=n.head?.querySelectorAll(`style[${yh}="${e}"],link[${yh}="${e}"]`);if(i)for(let o of i)o.removeAttribute(yh),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function c_(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var d_=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=mh(o),hB(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,UA);r?.forEach(i=>this.addUsage(i,this.external,c_))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(jA(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])jA(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,UA(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,c_(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(yh,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(G(Be),G(yv),G(_v,8),G(ei))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),a_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},h_=/%COMP%/g;var $A="%COMP%",fB=`_nghost-${$A}`,pB=`_ngcontent-${$A}`,gB=!0,mB=new V("",{providedIn:"root",factory:()=>gB});function yB(n){return pB.replace(h_,n)}function vB(n){return fB.replace(h_,n)}function HA(n,e){return e.map(t=>t.replace(h_,n))}var f_=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=h,this.platformIsServer=mh(a),this.defaultRenderer=new Cc(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Fn.ShadowDom&&(r=le(O({},r),{encapsulation:Fn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof vh?i.applyToHost(t):i instanceof Sc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case Fn.Emulated:o=new vh(c,l,r,this.appId,h,s,a,p,g);break;case Fn.ShadowDom:return new u_(c,l,t,r,s,a,this.nonce,p,g);default:o=new Sc(c,l,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(G(l_),G(d_),G(yv),G(mB),G(Be),G(ei),G(he),G(_v),G(Cs,8))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),Cc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(a_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(BA(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(BA(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new L(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=a_[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=a_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ln.DashCase|Ln.Important)?e.style.setProperty(t,r,i&Ln.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ln.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Gt().getGlobalEventTarget(this.doc,e),!e))throw new L(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function BA(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var u_=class extends Cc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,c,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=HA(i.id,h);for(let g of h){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=g,this.shadowRoot.appendChild(m)}let p=i.getExternalStyles?.();if(p)for(let g of p){let m=c_(g,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Sc=class extends Cc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?HA(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},vh=class extends Sc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,c,l,h),this.contentAttr=yB(h),this.hostAttr=vB(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Eh=class n extends Ic{supportsDOMEvents=!0;static makeCurrent(){Jv(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=_B();return t==null?null:EB(t)}resetBaseElement(){Ac=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Tc(document.cookie,e)}},Ac=null;function _B(){return Ac=Ac||document.head.querySelector("base"),Ac?Ac.getAttribute("href"):null}function EB(n){return new URL(n,document.baseURI).pathname}var Ih=class{addToWindow(e){at.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new L(5103,!1);return o},at.getAllAngularTestabilities=()=>e.getAllTestabilities(),at.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=at.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};at.frameworkStabilizers||(at.frameworkStabilizers=[]),at.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?Gt().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},IB=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),qA=(()=>{class n extends bc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(G(Be))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),zA=["alt","control","meta","shift"],wB={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DB={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},GA=(()=>{class n extends bc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gt().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),zA.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=wB[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),zA.forEach(s=>{if(s!==i){let a=DB[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(G(Be))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function TB(n,e){return DA(O({rootComponent:n},bB(e)))}function bB(n){return{appProviders:[...WA,...n?.providers??[]],platformProviders:RB}}function CB(){Eh.makeCurrent()}function SB(){return new On}function AB(){return jS(document),document}var RB=[{provide:ei,useValue:gh},{provide:vv,useValue:CB,multi:!0},{provide:Be,useFactory:AB}];var NB=[{provide:Ec,useClass:Ih},{provide:zv,useClass:ih,deps:[he,oh,Ec]},{provide:ih,useClass:ih,deps:[he,oh,Ec]}],WA=[{provide:Vd,useValue:"root"},{provide:On,useFactory:SB},{provide:_h,useClass:qA,multi:!0,deps:[Be]},{provide:_h,useClass:GA,multi:!0,deps:[Be]},f_,d_,l_,{provide:ms,useExisting:f_},{provide:eo,useClass:IB},[]],MB=(()=>{class n{constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Lt({type:n});static \u0275inj=kt({providers:[...WA,...NB],imports:[o_,wA]})}return n})();var Ms=class{},Rc=class{},ai=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Dh=class{encodeKey(e){return KA(e)}encodeValue(e){return KA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function PB(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var xB=/%(\d[a-f0-9])/gi,kB={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function KA(n){return encodeURIComponent(n).replace(xB,(e,t)=>kB[t]??e)}function wh(n){return`${n}`}var wr=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Dh,e.fromString){if(e.fromObject)throw new L(2805,!1);this.map=PB(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(wh):[wh(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(wh(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(wh(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Th=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function OB(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function QA(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function YA(n){return typeof Blob<"u"&&n instanceof Blob}function ZA(n){return typeof FormData<"u"&&n instanceof FormData}function FB(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var JA="Content-Type",XA="Accept",tR="X-Request-URL",nR="text/plain",rR="application/json",LB=`${rR}, ${nR}, */*`,Ns=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(OB(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new ai,this.context??=new Th,!this.params)this.params=new wr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||QA(this.body)||YA(this.body)||ZA(this.body)||FB(this.body)?this.body:this.body instanceof wr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||ZA(this.body)?null:YA(this.body)?this.body.type||null:QA(this.body)?null:typeof this.body=="string"?nR:this.body instanceof wr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?rR:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((g,m)=>g.set(m,e.setHeaders[m]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,m)=>g.set(m,e.setParams[m]),h)),new n(t,r,s,{params:h,headers:l,context:p,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},to=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(to||{}),Ps=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new ai,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},bh=class n extends Ps{constructor(e={}){super(e)}type=to.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Nc=class n extends Ps{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=to.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Mc=class extends Ps{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},VB=200,jB=204;function p_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var iR=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ns)o=t;else{let c;i.headers instanceof ai?c=i.headers:c=new ai(i.headers);let l;i.params&&(i.params instanceof wr?l=i.params:l=new wr({fromObject:i.params})),o=new Ns(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=W(o).pipe(Nn(c=>this.handler.handle(c)));if(t instanceof Ns||i.observe==="events")return s;let a=s.pipe(Xe(c=>c instanceof Nc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ee(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new L(2806,!1);return c.body}));case"blob":return a.pipe(ee(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new L(2807,!1);return c.body}));case"text":return a.pipe(ee(c=>{if(c.body!==null&&typeof c.body!="string")throw new L(2808,!1);return c.body}));case"json":default:return a.pipe(ee(c=>c.body))}case"response":return a;default:throw new L(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new wr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,p_(i,r))}post(t,r,i={}){return this.request("POST",t,p_(i,r))}put(t,r,i={}){return this.request("PUT",t,p_(i,r))}static \u0275fac=function(r){return new(r||n)(G(Ms))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();var UB=new V("");function oR(n,e){return e(n)}function BB(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function $B(n,e,t){return(r,i)=>tt(t,()=>e(r,o=>n(o,i)))}var sR=new V(""),m_=new V(""),aR=new V(""),y_=new V("",{providedIn:"root",factory:()=>!0});function HB(){let n=null;return(e,t)=>{n===null&&(n=(M(sR,{optional:!0})??[]).reduceRight(BB,oR));let r=M(Un);if(M(y_)){let o=r.add();return n(e,t).pipe(Kr(()=>r.remove(o)))}else return n(e,t)}}var Ch=(()=>{class n extends Ms{backend;injector;chain=null;pendingTasks=M(Un);contributeToStability=M(y_);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(m_),...this.injector.get(aR,[])]));this.chain=r.reduceRight((i,o)=>$B(i,o,this.injector),oR)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Kr(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(G(Rc),G(et))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();var zB=/^\)\]\}',?\n/,qB=RegExp(`^${tR}:`,"m");function GB(n){return"responseURL"in n&&n.responseURL?n.responseURL:qB.test(n.getAllResponseHeaders())?n.getResponseHeader(tR):null}var g_=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new L(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?we(r.\u0275loadImpl()):W(null)).pipe(Rt(()=>new re(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((A,R)=>s.setRequestHeader(A,R.join(","))),t.headers.has(XA)||s.setRequestHeader(XA,LB),!t.headers.has(JA)){let A=t.detectContentTypeHeader();A!==null&&s.setRequestHeader(JA,A)}if(t.responseType){let A=t.responseType.toLowerCase();s.responseType=A!=="json"?A:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let A=s.statusText||"OK",R=new ai(s.getAllResponseHeaders()),k=GB(s)||t.url;return c=new bh({headers:R,status:s.status,statusText:A,url:k}),c},h=()=>{let{headers:A,status:R,statusText:k,url:H}=l(),z=null;R!==jB&&(z=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=z?VB:0);let ge=R>=200&&R<300;if(t.responseType==="json"&&typeof z=="string"){let $e=z;z=z.replace(zB,"");try{z=z!==""?JSON.parse(z):null}catch(ve){z=$e,ge&&(ge=!1,z={error:ve,text:z})}}ge?(o.next(new Nc({body:z,headers:A,status:R,statusText:k,url:H||void 0})),o.complete()):o.error(new Mc({error:z,headers:A,status:R,statusText:k,url:H||void 0}))},p=A=>{let{url:R}=l(),k=new Mc({error:A,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(k)},g=!1,m=A=>{g||(o.next(l()),g=!0);let R={type:to.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(R.total=A.total),t.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},w=A=>{let R={type:to.UploadProgress,loaded:A.loaded};A.lengthComputable&&(R.total=A.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",m),a!==null&&s.upload&&s.upload.addEventListener("progress",w)),s.send(a),o.next({type:to.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",m),a!==null&&s.upload&&s.upload.removeEventListener("progress",w)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(G(eo))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),cR=new V(""),WB="XSRF-TOKEN",KB=new V("",{providedIn:"root",factory:()=>WB}),QB="X-XSRF-TOKEN",YB=new V("",{providedIn:"root",factory:()=>QB}),Pc=class{},ZB=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Tc(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(G(Be),G(KB))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function JB(n,e){let t=n.url.toLowerCase();if(!M(cR)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=M(Pc).getToken(),i=M(YB);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var v_=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(v_||{});function XB(n,e){return{\u0275kind:n,\u0275providers:e}}function uR(...n){let e=[iR,g_,Ch,{provide:Ms,useExisting:Ch},{provide:Rc,useFactory:()=>M(UB,{optional:!0})??M(g_)},{provide:m_,useValue:JB,multi:!0},{provide:cR,useValue:!0},{provide:Pc,useClass:ZB}];for(let t of n)e.push(...t.\u0275providers);return qt(e)}var eR=new V("");function lR(){return XB(v_.LegacyInterceptors,[{provide:eR,useFactory:HB},{provide:m_,useExisting:eR,multi:!0}])}var e$=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Lt({type:n});static \u0275inj=kt({providers:[uR(lR())]})}return n})();var dR=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(G(Be))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var t$=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=G(n$),i},providedIn:"root"})}return n})(),n$=(()=>{class n extends t${_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case Bn.NONE:return r;case Bn.HTML:return ni(r,"HTML")?gn(r):n0(this._doc,String(r)).toString();case Bn.STYLE:return ni(r,"Style")?gn(r):r;case Bn.SCRIPT:if(ni(r,"Script"))return gn(r);throw new L(5200,!1);case Bn.URL:return ni(r,"URL")?gn(r):Yd(String(r));case Bn.RESOURCE_URL:if(ni(r,"ResourceURL"))return gn(r);throw new L(5201,!1);default:throw new L(5202,!1)}}bypassSecurityTrustHtml(t){return GS(t)}bypassSecurityTrustStyle(t){return WS(t)}bypassSecurityTrustScript(t){return KS(t)}bypassSecurityTrustUrl(t){return QS(t)}bypassSecurityTrustResourceUrl(t){return YS(t)}static \u0275fac=function(r){return new(r||n)(G(Be))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ie="primary",qc=Symbol("RouteTitle"),D_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function io(n){return new D_(n)}function _R(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function i$(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!zn(n[t],e[t]))return!1;return!0}function zn(n,e){let t=n?T_(n):void 0,r=e?T_(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!ER(n[i],e[i]))return!1;return!0}function T_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function ER(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function IR(n){return n.length>0?n[n.length-1]:null}function hi(n){return pm(n)?n:Ji(n)?we(Promise.resolve(n)):W(n)}var o$={exact:DR,subset:TR},wR={exact:s$,subset:a$,ignored:()=>!0};function hR(n,e,t){return o$[t.paths](n.root,e.root,t.matrixParams)&&wR[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function s$(n,e){return zn(n,e)}function DR(n,e,t){if(!no(n.segments,e.segments)||!Rh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!DR(n.children[r],e.children[r],t))return!1;return!0}function a$(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ER(n[t],e[t]))}function TR(n,e,t){return bR(n,e,e.segments,t)}function bR(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!no(i,t)||e.hasChildren()||!Rh(i,t,r))}else if(n.segments.length===t.length){if(!no(n.segments,t)||!Rh(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!TR(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!no(n.segments,i)||!Rh(n.segments,i,r)||!n.children[ie]?!1:bR(n.children[ie],e,o,r)}}function Rh(n,e,t){return e.every((r,i)=>wR[t](n[i].parameters,r.parameters))}var Gn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new _e([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=io(this.queryParams),this._queryParamMap}toString(){return l$.serialize(this)}},_e=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nh(this)}},ci=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=io(this.parameters),this._parameterMap}toString(){return SR(this)}};function c$(n,e){return no(n,e)&&n.every((t,r)=>zn(t.parameters,e[r].parameters))}function no(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function u$(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ie&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ie&&(t=t.concat(e(i,r)))}),t}var oo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>new ui,providedIn:"root"})}return n})(),ui=class{parse(e){let t=new C_(e);return new Gn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${xc(e.root,!0)}`,r=f$(e.queryParams),i=typeof e.fragment=="string"?`#${d$(e.fragment)}`:"";return`${t}${r}${i}`}},l$=new ui;function Nh(n){return n.segments.map(e=>SR(e)).join("/")}function xc(n,e){if(!n.hasChildren())return Nh(n);if(e){let t=n.children[ie]?xc(n.children[ie],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ie&&r.push(`${i}:${xc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=u$(n,(r,i)=>i===ie?[xc(n.children[ie],!1)]:[`${i}:${xc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ie]!=null?`${Nh(n)}/${t[0]}`:`${Nh(n)}/(${t.join("//")})`}}function CR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sh(n){return CR(n).replace(/%3B/gi,";")}function d$(n){return encodeURI(n)}function b_(n){return CR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mh(n){return decodeURIComponent(n)}function fR(n){return Mh(n.replace(/\+/g,"%20"))}function SR(n){return`${b_(n.path)}${h$(n.parameters)}`}function h$(n){return Object.entries(n).map(([e,t])=>`;${b_(e)}=${b_(t)}`).join("")}function f$(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Sh(t)}=${Sh(i)}`).join("&"):`${Sh(t)}=${Sh(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var p$=/^[^\/()?;#]+/;function __(n){let e=n.match(p$);return e?e[0]:""}var g$=/^[^\/()?;=#]+/;function m$(n){let e=n.match(g$);return e?e[0]:""}var y$=/^[^=?&#]+/;function v$(n){let e=n.match(y$);return e?e[0]:""}var _$=/^[^&#]+/;function E$(n){let e=n.match(_$);return e?e[0]:""}var C_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ie]=new _e(e,t)),r}parseSegment(){let e=__(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new ci(Mh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=m$(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=__(this.remaining);i&&(r=i,this.capture(r))}e[Mh(t)]=Mh(r)}parseQueryParam(e){let t=v$(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=E$(this.remaining);s&&(r=s,this.capture(r))}let i=fR(t),o=fR(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=__(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new L(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ie);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ie]:new _e([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}};function AR(n){return n.segments.length>0?new _e([],{[ie]:n}):n}function RR(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=RR(i);if(r===ie&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new _e(n.segments,e);return I$(t)}function I$(n){if(n.numberOfChildren===1&&n.children[ie]){let e=n.children[ie];return new _e(n.segments.concat(e.segments),e.children)}return n}function li(n){return n instanceof Gn}function NR(n,e,t=null,r=null){let i=MR(n);return PR(i,e,t,r)}function MR(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new _e(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=AR(r);return e??i}function PR(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return E_(i,i,i,t,r);let o=w$(e);if(o.toRoot())return E_(i,i,new _e([],{}),t,r);let s=D$(o,i,n),a=s.processChildren?Oc(s.segmentGroup,s.index,o.commands):kR(s.segmentGroup,s.index,o.commands);return E_(i,s.segmentGroup,a,t,r)}function xh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Lc(n){return typeof n=="object"&&n!=null&&n.outlets}function E_(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=xR(n,e,t);let a=AR(RR(s));return new Gn(a,o,i)}function xR(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=xR(o,e,t)}),new _e(n.segments,r)}var kh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&xh(r[0]))throw new L(4003,!1);let i=r.find(Lc);if(i&&i!==IR(r))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function w$(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new kh(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new kh(t,e,r)}var Os=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function D$(n,e,t){if(n.isAbsolute)return new Os(e,!0,0);if(!t)return new Os(e,!1,NaN);if(t.parent===null)return new Os(t,!0,0);let r=xh(n.commands[0])?0:1,i=t.segments.length-1+r;return T$(t,i,n.numberOfDoubleDots)}function T$(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new L(4005,!1);i=r.segments.length}return new Os(r,!1,i-o)}function b$(n){return Lc(n[0])?n[0].outlets:{[ie]:n}}function kR(n,e,t){if(n??=new _e([],{}),n.segments.length===0&&n.hasChildren())return Oc(n,e,t);let r=C$(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new _e(n.segments.slice(0,r.pathIndex),{});return o.children[ie]=new _e(n.segments.slice(r.pathIndex),n.children),Oc(o,0,i)}else return r.match&&i.length===0?new _e(n.segments,{}):r.match&&!n.hasChildren()?S_(n,e,t):r.match?Oc(n,0,i):S_(n,e,t)}function Oc(n,e,t){if(t.length===0)return new _e(n.segments,{});{let r=b$(t),i={};if(Object.keys(r).some(o=>o!==ie)&&n.children[ie]&&n.numberOfChildren===1&&n.children[ie].segments.length===0){let o=Oc(n.children[ie],e,t);return new _e(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=kR(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new _e(n.segments,i)}}function C$(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Lc(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!gR(c,l,s))return o;r+=2}else{if(!gR(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function S_(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Lc(o)){let c=S$(o.outlets);return new _e(r,c)}if(i===0&&xh(t[0])){let c=n.segments[e];r.push(new ci(c.path,pR(t[0]))),i++;continue}let s=Lc(o)?o.outlets[ie]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&xh(a)?(r.push(new ci(s,pR(a))),i+=2):(r.push(new ci(s,{})),i++)}return new _e(r,{})}function S$(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=S_(new _e([],{}),0,r))}),e}function pR(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function gR(n,e,t){return n==t.path&&zn(e,t.parameters)}var Ph="imperative",Je=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Je||{}),Kt=class{id;url;constructor(e,t){this.id=e,this.url=t}},di=class extends Kt{type=Je.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Qt=class extends Kt{urlAfterRedirects;type=Je.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Vt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Vt||{}),Ls=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Ls||{}),qn=class extends Kt{reason;code;type=Je.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Wn=class extends Kt{reason;code;type=Je.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Vs=class extends Kt{error;target;type=Je.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Vc=class extends Kt{urlAfterRedirects;state;type=Je.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Oh=class extends Kt{urlAfterRedirects;state;type=Je.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fh=class extends Kt{urlAfterRedirects;state;shouldActivate;type=Je.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Lh=class extends Kt{urlAfterRedirects;state;type=Je.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vh=class extends Kt{urlAfterRedirects;state;type=Je.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jh=class{route;type=Je.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Uh=class{route;type=Je.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Bh=class{snapshot;type=Je.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$h=class{snapshot;type=Je.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hh=class{snapshot;type=Je.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zh=class{snapshot;type=Je.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},js=class{routerEvent;position;anchor;type=Je.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},jc=class{},Us=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function A$(n,e){return n.providers&&!n._injector&&(n._injector=_c(n.providers,e,`Route: ${n.path}`)),n._injector??e}function En(n){return n.outlet||ie}function R$(n,e){let t=n.filter(r=>En(r)===e);return t.push(...n.filter(r=>En(r)!==e)),t}function Gc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var qh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Gc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new so(this.rootInjector)}},so=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new qh(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(G(et))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=A_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=A_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=R_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return R_(e,this._root).map(t=>t.value)}};function A_(n,e){if(n===e.value)return e;for(let t of e.children){let r=A_(n,t);if(r)return r}return null}function R_(n,e){if(n===e.value)return[e];for(let t of e.children){let r=R_(n,t);if(r.length)return r.unshift(e),r}return[]}var Wt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ks(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Uc=class extends Gh{snapshot;constructor(e,t){super(e),this.snapshot=t,L_(this,e)}toString(){return this.snapshot.toString()}};function OR(n){let e=N$(n),t=new He([new ci("",{})]),r=new He({}),i=new He({}),o=new He({}),s=new He(""),a=new Kn(t,r,o,s,i,ie,n,e.root);return a.snapshot=e.root,new Uc(new Wt(a,[]),e)}function N$(n){let e={},t={},r={},i="",o=new ro([],e,r,i,t,ie,n,null,{});return new Bc("",new Wt(o,[]))}var Kn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ee(l=>l[qc]))??W(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>io(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>io(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Wh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),n.params),data:O(O({},e.data),n.data),resolve:O(O(O(O({},n.data),e.data),i?.data),n._resolvedData)}:r={params:O({},n.params),data:O({},n.data),resolve:O(O({},n.data),n._resolvedData??{})},i&&LR(i)&&(r.resolve[qc]=i.title),r}var ro=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[qc]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=io(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=io(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Bc=class extends Gh{url;constructor(e,t){super(t),this.url=e,L_(this,t)}toString(){return FR(this._root)}};function L_(n,e){e.value._routerState=n,e.children.forEach(t=>L_(n,t))}function FR(n){let e=n.children.length>0?` { ${n.children.map(FR).join(", ")} } `:"";return`${n.value}${e}`}function I_(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,zn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),zn(e.params,t.params)||n.paramsSubject.next(t.params),i$(e.url,t.url)||n.urlSubject.next(t.url),zn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function N_(n,e){let t=zn(n.params,e.params)&&c$(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||N_(n.parent,e.parent))}function LR(n){return typeof n.title=="string"||n.title===null}var VR=new V(""),V_=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ie;activateEvents=new Me;deactivateEvents=new Me;attachEvents=new Me;detachEvents=new Me;routerOutletData=MS(void 0);parentContexts=M(so);location=M(ri);changeDetector=M(ii);inputBinder=M(Wc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new M_(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ee({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[nn]})}return n})(),M_=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Kn?this.route:e===so?this.childContexts:e===VR?this.outletData:this.parent.get(e,t)}},Wc=new V(""),j_=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=tc([r.queryParams,r.params,r.data]).pipe(Rt(([o,s,a],c)=>(a=O(O(O({},o),s),a),c===0?W(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=TA(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),U_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=$0({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Wv(0,"router-outlet")},dependencies:[V_],encapsulation:2})}return n})();function B_(n){let e=n.children&&n.children.map(B_),t=e?le(O({},n),{children:e}):O({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ie&&(t.component=U_),t}function M$(n,e,t){let r=$c(n,e._root,t?t._root:void 0);return new Uc(r,e)}function $c(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=P$(n,e,t);return new Wt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>$c(n,a)),s}}let r=x$(e.value),i=e.children.map(o=>$c(n,o));return new Wt(r,i)}}function P$(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return $c(n,r,i);return $c(n,r)})}function x$(n){return new Kn(new He(n.url),new He(n.params),new He(n.queryParams),new He(n.fragment),new He(n.data),n.outlet,n.component,n)}var Bs=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},jR="ngNavigationCancelingError";function Kh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=li(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=UR(!1,Vt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function UR(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[jR]=!0,t.cancellationCode=e,t}function k$(n){return BR(n)&&li(n.url)}function BR(n){return!!n&&n[jR]}var O$=(n,e,t,r)=>ee(i=>(new P_(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),P_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),I_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ks(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ks(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ks(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ks(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new zh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new $h(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(I_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),I_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Qh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Fs=class{component;route;constructor(e,t){this.component=e,this.route=t}};function F$(n,e,t){let r=n._root,i=e?e._root:null;return kc(r,i,t,[r.value])}function L$(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Hs(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!MC(n)?n:e.get(n):r}function kc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ks(e);return n.children.forEach(s=>{V$(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Fc(a,t.getContext(s),i)),i}function V$(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=j$(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Qh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?kc(n,e,a?a.children:null,r,i):kc(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Fs(a.outlet.component,s))}else s&&Fc(e,a,i),i.canActivateChecks.push(new Qh(r)),o.component?kc(n,null,a?a.children:null,r,i):kc(n,null,t,r,i);return i}function j$(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!no(n.url,e.url);case"pathParamsOrQueryParamsChange":return!no(n.url,e.url)||!zn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!N_(n,e)||!zn(n.queryParams,e.queryParams);case"paramsChange":default:return!N_(n,e)}}function Fc(n,e,t){let r=ks(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Fc(s,e.children.getContext(o),t):Fc(s,null,t):Fc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Fs(e.outlet.component,i)):t.canDeactivateChecks.push(new Fs(null,i)):t.canDeactivateChecks.push(new Fs(null,i))}function Kc(n){return typeof n=="function"}function U$(n){return typeof n=="boolean"}function B$(n){return n&&Kc(n.canLoad)}function $$(n){return n&&Kc(n.canActivate)}function H$(n){return n&&Kc(n.canActivateChild)}function z$(n){return n&&Kc(n.canDeactivate)}function q$(n){return n&&Kc(n.canMatch)}function $R(n){return n instanceof lr||n?.name==="EmptyError"}var Ah=Symbol("INITIAL_VALUE");function $s(){return Rt(n=>tc(n.map(e=>e.pipe(hr(1),Jl(Ah)))).pipe(ee(e=>{for(let t of e)if(t!==!0){if(t===Ah)return Ah;if(t===!1||G$(t))return t}return!0}),Xe(e=>e!==Ah),hr(1)))}function G$(n){return li(n)||n instanceof Bs}function W$(n,e){return je(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?W(le(O({},t),{guardsResult:!0})):K$(s,r,i,n).pipe(je(a=>a&&U$(a)?Q$(r,o,n,e):W(a)),ee(a=>le(O({},t),{guardsResult:a})))})}function K$(n,e,t,r){return we(n).pipe(je(i=>eH(i.component,i.route,t,e,r)),fr(i=>i!==!0,!0))}function Q$(n,e,t,r){return we(e).pipe(Nn(i=>Xo(Z$(i.route.parent,r),Y$(i.route,r),X$(n,i.path,t),J$(n,i.route,t))),fr(i=>i!==!0,!0))}function Y$(n,e){return n!==null&&e&&e(new Hh(n)),W(!0)}function Z$(n,e){return n!==null&&e&&e(new Bh(n)),W(!0)}function J$(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(o=>Ql(()=>{let s=Gc(e)??t,a=Hs(o,s),c=$$(a)?a.canActivate(e,n):tt(s,()=>a(e,n));return hi(c).pipe(fr())}));return W(i).pipe($s())}function X$(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>L$(s)).filter(s=>s!==null).map(s=>Ql(()=>{let a=s.guards.map(c=>{let l=Gc(s.node)??t,h=Hs(c,l),p=H$(h)?h.canActivateChild(r,n):tt(l,()=>h(r,n));return hi(p).pipe(fr())});return W(a).pipe($s())}));return W(o).pipe($s())}function eH(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(a=>{let c=Gc(e)??i,l=Hs(a,c),h=z$(l)?l.canDeactivate(n,e,t,r):tt(c,()=>l(n,e,t,r));return hi(h).pipe(fr())});return W(s).pipe($s())}function tH(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let o=i.map(s=>{let a=Hs(s,n),c=B$(a)?a.canLoad(e,t):tt(n,()=>a(e,t));return hi(c)});return W(o).pipe($s(),HR(r))}function HR(n){return Al(st(e=>{if(typeof e!="boolean")throw Kh(n,e)}),ee(e=>e===!0))}function nH(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let o=i.map(s=>{let a=Hs(s,n),c=q$(a)?a.canMatch(e,t):tt(n,()=>a(e,t));return hi(c)});return W(o).pipe($s(),HR(r))}var Hc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},zc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function xs(n){return Jo(new Hc(n))}function rH(n){return Jo(new L(4e3,!1))}function iH(n){return Jo(UR(!1,Vt.GuardRejected))}var x_=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[ie])return rH(`${e.redirectTo}`);i=i.children[ie]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:h,url:p,outlet:g,params:m,data:w,title:A}=i,R=tt(o,()=>a({params:m,data:w,queryParams:c,fragment:l,routeConfig:h,url:p,outlet:g,title:A}));if(R instanceof Gn)throw new zc(R);t=R}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new zc(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Gn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new _e(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new L(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},k_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oH(n,e,t,r,i){let o=zR(n,e,t);return o.matched?(r=A$(e,r),nH(r,e,t,i).pipe(ee(s=>s===!0?o:O({},k_)))):W(o)}function zR(n,e,t){if(e.path==="**")return sH(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?O({},k_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||_R)(t,n,e);if(!i)return O({},k_);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?O(O({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function sH(n){return{matched:!0,parameters:n.length>0?IR(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function mR(n,e,t,r){return t.length>0&&uH(n,t,r)?{segmentGroup:new _e(e,cH(r,new _e(t,n.children))),slicedSegments:[]}:t.length===0&&lH(n,t,r)?{segmentGroup:new _e(n.segments,aH(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new _e(n.segments,n.children),slicedSegments:t}}function aH(n,e,t,r){let i={};for(let o of t)if(Zh(n,e,o)&&!r[En(o)]){let s=new _e([],{});i[En(o)]=s}return O(O({},r),i)}function cH(n,e){let t={};t[ie]=e;for(let r of n)if(r.path===""&&En(r)!==ie){let i=new _e([],{});t[En(r)]=i}return t}function uH(n,e,t){return t.some(r=>Zh(n,e,r)&&En(r)!==ie)}function lH(n,e,t){return t.some(r=>Zh(n,e,r))}function Zh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function dH(n,e,t){return e.length===0&&!n.children[t]}var O_=class{};function hH(n,e,t,r,i,o,s="emptyOnly"){return new F_(n,e,t,r,i,s,o).recognize()}var fH=31,F_=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new x_(this.urlSerializer,this.urlTree)}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}recognize(){let e=mR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(({children:t,rootSnapshot:r})=>{let i=new Wt(r,t),o=new Bc("",i),s=NR(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ro([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ie,t).pipe(ee(r=>({children:r,rootSnapshot:t})),dr(r=>{if(r instanceof zc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Hc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ee(s=>s instanceof Wt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return we(o).pipe(Nn(s=>{let a=r.children[s],c=R$(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Zl((s,a)=>(s.push(...a),s)),Wr(null),mm(),je(s=>{if(s===null)return xs(r);let a=qR(s);return pH(a),W(a)}))}processSegment(e,t,r,i,o,s,a){return we(t).pipe(Nn(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(dr(l=>{if(l instanceof Hc)return W(null);throw l}))),fr(c=>!!c),dr(c=>{if($R(c))return dH(r,i,o)?W(new O_):xs(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return En(r)!==s&&(s===ie||!Zh(i,o,r))?xs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):xs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=zR(t,i,o);if(!c)return xs(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>fH&&(this.allowRedirects=!1));let m=new ro(o,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,yR(i),En(i),i.component??i._loadedComponent??null,i,vR(i)),w=Wh(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(w.params),m.data=Object.freeze(w.data);let A=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,m,e);return this.applyRedirects.lineralizeSegments(i,A).pipe(je(R=>this.processSegment(e,r,t,R.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=oH(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Rt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Rt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:m}=c,w=new ro(g,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,yR(r),En(r),r.component??r._loadedComponent??null,r,vR(r)),A=Wh(w,s,this.paramsInheritanceStrategy);w.params=Object.freeze(A.params),w.data=Object.freeze(A.data);let{segmentGroup:R,slicedSegments:k}=mR(t,g,m,l);if(k.length===0&&R.hasChildren())return this.processChildren(h,l,R,w).pipe(ee(z=>new Wt(w,z)));if(l.length===0&&k.length===0)return W(new Wt(w,[]));let H=En(r)===o;return this.processSegment(h,l,R,k,H?ie:o,!0,w).pipe(ee(z=>new Wt(w,z instanceof Wt?[z]:[])))}))):xs(t)))}getChildConfig(e,t,r){return t.children?W({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?W({routes:t._loadedRoutes,injector:t._loadedInjector}):tH(e,t,r,this.urlSerializer).pipe(je(i=>i?this.configLoader.loadChildren(e,t).pipe(st(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):iH(t))):W({routes:[],injector:e})}};function pH(n){n.sort((e,t)=>e.value.outlet===ie?-1:t.value.outlet===ie?1:e.value.outlet.localeCompare(t.value.outlet))}function gH(n){let e=n.value.routeConfig;return e&&e.path===""}function qR(n){let e=[],t=new Set;for(let r of n){if(!gH(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=qR(r.children);e.push(new Wt(r.value,i))}return e.filter(r=>!t.has(r))}function yR(n){return n.data||{}}function vR(n){return n.resolve||{}}function mH(n,e,t,r,i,o){return je(s=>hH(n,e,t,r,s.extractedUrl,i,o).pipe(ee(({state:a,tree:c})=>le(O({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function yH(n,e){return je(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of GR(c))s.add(l);let a=0;return we(s).pipe(Nn(c=>o.has(c)?vH(c,r,n,e):(c.data=Wh(c,c.parent,n).resolve,W(void 0))),st(()=>a++),es(1),je(c=>a===s.size?W(t):St))})}function GR(n){let e=n.children.map(t=>GR(t)).flat();return[n,...e]}function vH(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!LR(i)&&(o[qc]=i.title),_H(o,n,e,r).pipe(ee(s=>(n._resolvedData=s,n.data=Wh(n,n.parent,t).resolve,null)))}function _H(n,e,t,r){let i=T_(n);if(i.length===0)return W({});let o={};return we(i).pipe(je(s=>EH(n[s],e,t,r).pipe(fr(),st(a=>{if(a instanceof Bs)throw Kh(new ui,a);o[s]=a}))),es(1),ee(()=>o),dr(s=>$R(s)?St:Jo(s)))}function EH(n,e,t,r){let i=Gc(e)??r,o=Hs(n,i),s=o.resolve?o.resolve(e,t):tt(i,()=>o(e,t));return hi(s)}function w_(n){return Rt(e=>{let t=n(e);return t?we(t).pipe(ee(()=>e)):W(e)})}var $_=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ie);return r}getResolvedTitleForRoute(t){return t.data[qc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(WR),providedIn:"root"})}return n})(),WR=(()=>{class n extends $_{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(G(dR))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ao=new V("",{providedIn:"root",factory:()=>({})}),co=new V(""),Jh=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=M(_A);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=hi(t.loadComponent()).pipe(ee(QR),st(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Kr(()=>{this.componentLoaders.delete(t)})),i=new Ko(r,()=>new Ne).pipe(Wo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=KR(r,this.compiler,t,this.onLoadEndListener).pipe(Kr(()=>{this.childrenLoaders.delete(r)})),s=new Ko(o,()=>new Ne).pipe(Wo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KR(n,e,t,r){return hi(n.loadChildren()).pipe(ee(QR),je(i=>i instanceof jv||Array.isArray(i)?W(i):we(e.compileModuleAsync(i))),ee(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(co,[],{optional:!0,self:!0}).flat()),{routes:s.map(B_),injector:o}}))}function IH(n){return n&&typeof n=="object"&&"default"in n}function QR(n){return IH(n)?n.default:n}var Xh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(wH),providedIn:"root"})}return n})(),wH=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),H_=new V(""),z_=new V("");function YR(n,e,t){let r=n.get(z_),i=n.get(Be);return n.get(he).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),DH(n))),{onViewTransitionCreated:c}=r;return c&&tt(n,()=>c({transition:a,from:e,to:t})),s})}function DH(n){return new Promise(e=>{Iv({read:()=>setTimeout(e)},{injector:n})})}var q_=new V(""),ef=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ne;transitionAbortSubject=new Ne;configLoader=M(Jh);environmentInjector=M(et);destroyRef=M(Xr);urlSerializer=M(oo);rootContexts=M(so);location=M(si);inputBindingEnabled=M(Wc,{optional:!0})!==null;titleStrategy=M($_);options=M(ao,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=M(Xh);createViewTransition=M(H_,{optional:!0});navigationErrorHandler=M(q_,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>W(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new jh(i)),r=i=>this.events.next(new Uh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(le(O({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new He(null),this.transitions.pipe(Xe(r=>r!==null),Rt(r=>{let i=!1,o=!1;return W(r).pipe(Rt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Vt.SupersededByNewNavigation),St;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?le(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&c!=="reload"){let l="";return this.events.next(new Wn(s.id,this.urlSerializer.serialize(s.rawUrl),l,Ls.IgnoredSameUrlNavigation)),s.resolve(!1),St}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return W(s).pipe(Rt(l=>(this.events.next(new di(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?St:Promise.resolve(l))),mH(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),st(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=le(O({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new Vc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:g,extras:m}=s,w=new di(l,this.urlSerializer.serialize(h),p,g);this.events.next(w);let A=OR(this.rootComponentType).snapshot;return this.currentTransition=r=le(O({},s),{targetSnapshot:A,urlAfterRedirects:h,extras:le(O({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,W(r)}else{let l="";return this.events.next(new Wn(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Ls.IgnoredByUrlHandlingStrategy)),s.resolve(!1),St}}),st(s=>{let a=new Oh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ee(s=>(this.currentTransition=r=le(O({},s),{guards:F$(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),W$(this.environmentInjector,s=>this.events.next(s)),st(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Kh(this.urlSerializer,s.guardsResult);let a=new Fh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Xe(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Vt.GuardRejected),!1)),w_(s=>{if(s.guards.canActivateChecks.length!==0)return W(s).pipe(st(a=>{let c=new Lh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),Rt(a=>{let c=!1;return W(a).pipe(yH(this.paramsInheritanceStrategy,this.environmentInjector),st({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Vt.NoDataFromResolver)}}))}),st(a=>{let c=new Vh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),w_(s=>{let a=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(st(h=>{c.component=h}),ee(()=>{})));for(let h of c.children)l.push(...a(h));return l};return tc(a(s.targetSnapshot.root)).pipe(Wr(null),hr(1))}),w_(()=>this.afterPreactivation()),Rt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?we(c).pipe(ee(()=>r)):W(r)}),ee(s=>{let a=M$(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=le(O({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),st(()=>{this.events.next(new jc)}),O$(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),hr(1),st({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Qt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),vm(this.transitionAbortSubject.pipe(st(s=>{throw s}))),Kr(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Vt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),dr(s=>{if(this.destroyed)return r.resolve(!1),St;if(o=!0,BR(s))this.events.next(new qn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),k$(s)?this.events.next(new Us(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Vs(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=tt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Bs){let{message:l,cancellationCode:h}=Kh(this.urlSerializer,c);this.events.next(new qn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new Us(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return St}))}))}cancelNavigationTransition(t,r,i){let o=new qn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function TH(n){return n!==Ph}var ZR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(bH),providedIn:"root"})}return n})(),Yh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},bH=(()=>{class n extends Yh{static \u0275fac=(()=>{let t;return function(i){return(t||(t=jn(n)))(i||n)}})();static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),JR=(()=>{class n{urlSerializer=M(oo);options=M(ao,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=M(si);urlHandlingStrategy=M(Xh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Gn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Gn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=OR(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(CH),providedIn:"root"})}return n})(),CH=(()=>{class n extends JR{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof di?this.updateStateMemento():t instanceof Wn?this.commitTransition(r):t instanceof Vc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof jc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof qn&&(t.code===Vt.GuardRejected||t.code===Vt.NoDataFromResolver)?this.restoreHistory(r):t instanceof Vs?this.restoreHistory(r,!0):t instanceof Qt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=O(O({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=O(O({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=jn(n)))(i||n)}})();static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tf(n,e){n.events.pipe(Xe(t=>t instanceof Qt||t instanceof qn||t instanceof Vs||t instanceof Wn),ee(t=>t instanceof Qt||t instanceof Wn?0:(t instanceof qn?t.code===Vt.Redirect||t.code===Vt.SupersededByNewNavigation:!1)?2:1),Xe(t=>t!==2),hr(1)).subscribe(()=>{e()})}var SH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},In=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=M(Hv);stateManager=M(JR);options=M(ao,{optional:!0})||{};pendingTasks=M(Un);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=M(ef);urlSerializer=M(oo);location=M(si);urlHandlingStrategy=M(Xh);_events=new Ne;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=M(ZR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=M(co,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!M(Wc,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Fe;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof qn&&r.code!==Vt.Redirect&&r.code!==Vt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Qt)this.navigated=!0;else if(r instanceof Us){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=O({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||TH(i.source)},s);this.scheduleNavigation(a,Ph,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}NH(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ph,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=O({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(B_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=MR(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return PR(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=li(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ph,null,r)}navigate(t,r={skipLocationChange:!1}){return RH(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=O({},SH):r===!1?i=O({},AH):i=r,li(t))return hR(this.currentUrlTree,t,i);let o=this.parseUrl(t);return hR(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,c=g});let h=this.pendingTasks.add();return tf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function RH(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new L(4008,!1)}function NH(n){return!(n instanceof jc)&&!(n instanceof Us)}var nf=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ne;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Qt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(li(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:r0(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:li(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(q(In),q(Kn),Gd("tabindex"),q(rn),q(mt),q(_n))};static \u0275dir=Ee({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&$n("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ss("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",oi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",oi],replaceUrl:[2,"replaceUrl","replaceUrl",oi],routerLink:"routerLink"},features:[nn]})}return n})(),MH=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Me;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Qt&&this.update()})}ngAfterContentInit(){W(this.links.changes,W(null)).pipe(Gr()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=we(t).pipe(Gr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=PH(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(q(In),q(mt),q(rn),q(ii),q(nf,8))};static \u0275dir=Ee({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&uA(o,nf,5),r&2){let s;lA(s=dA())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[nn]})}return n})();function PH(n){return!!n.paths}var Qc=class{};var XR=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Xe(t=>t instanceof Qt),Nn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=_c(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return we(i).pipe(Gr())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=W(null);let o=i.pipe(je(s=>s===null?W(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return we([o,s]).pipe(Gr())}else return o})}static \u0275fac=function(r){return new(r||n)(G(In),G(et),G(Qc),G(Jh))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eN=new V(""),xH=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof di?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Qt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Wn&&t.code===Ls.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof js&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new js(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){x0()};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function kH(n,...e){return qt([{provide:co,multi:!0,useValue:n},[],{provide:Kn,useFactory:tN,deps:[In]},{provide:sh,multi:!0,useFactory:nN},e.map(t=>t.\u0275providers)])}function tN(n){return n.routerState.root}function Yc(n,e){return{\u0275kind:n,\u0275providers:e}}function nN(){let n=M(Ue);return e=>{let t=n.get(yr);if(e!==t.components[0])return;let r=n.get(In),i=n.get(rN);n.get(W_)===1&&r.initialNavigation(),n.get(sN,null,se.Optional)?.setUpPreloading(),n.get(eN,null,se.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var rN=new V("",{factory:()=>new Ne}),W_=new V("",{providedIn:"root",factory:()=>1});function iN(){let n=[{provide:W_,useValue:0},Gv(()=>{let e=M(Ue);return e.get(Xv,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(In),o=e.get(rN);tf(i,()=>{r(!0)}),e.get(ef).afterPreactivation=()=>(r(!0),o.closed?W(void 0):o),i.initialNavigation()}))})];return Yc(2,n)}function oN(){let n=[Gv(()=>{M(In).setUpLocationChangeListener()}),{provide:W_,useValue:2}];return Yc(3,n)}var sN=new V("");function aN(n){return Yc(0,[{provide:sN,useExisting:XR},{provide:Qc,useExisting:n}])}function cN(){return Yc(8,[j_,{provide:Wc,useExisting:j_}])}function uN(n){ti("NgRouterViewTransitions");let e=[{provide:H_,useValue:YR},{provide:z_,useValue:O({skipNextTransition:!!n?.skipInitialTransition},n)}];return Yc(9,e)}var lN=[si,{provide:oo,useClass:ui},In,so,{provide:Kn,useFactory:tN,deps:[In]},Jh,[]],OH=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[lN,[],{provide:co,multi:!0,useValue:t},[],r?.errorHandler?{provide:q_,useValue:r.errorHandler}:[],{provide:ao,useValue:r||{}},r?.useHash?LH():VH(),FH(),r?.preloadingStrategy?aN(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?jH(r):[],r?.bindToComponentInputs?cN().\u0275providers:[],r?.enableViewTransitions?uN().\u0275providers:[],UH()]}}static forChild(t){return{ngModule:n,providers:[{provide:co,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Lt({type:n});static \u0275inj=kt({})}return n})();function FH(){return{provide:eN,useFactory:()=>{let n=M(VA),e=M(he),t=M(ao),r=M(ef),i=M(oo);return t.scrollOffset&&n.setOffset(t.scrollOffset),new xH(i,r,n,e,t)}}}function LH(){return{provide:_n,useClass:r_}}function VH(){return{provide:_n,useClass:dh}}function jH(n){return[n.initialNavigation==="disabled"?oN().\u0275providers:[],n.initialNavigation==="enabledBlocking"?iN().\u0275providers:[]]}var G_=new V("");function UH(){return[{provide:G_,useFactory:nN},{provide:sh,multi:!0,useExisting:G_}]}var EN=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(q(rn),q(mt))};static \u0275dir=Ee({type:n})}return n})(),gf=(()=>{class n extends EN{static \u0275fac=(()=>{let t;return function(i){return(t||(t=jn(n)))(i||n)}})();static \u0275dir=Ee({type:n,features:[yt]})}return n})(),uo=new V(""),BH={provide:uo,useExisting:xt(()=>$H),multi:!0},$H=(()=>{class n extends gf{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=jn(n)))(i||n)}})();static \u0275dir=Ee({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&$n("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[on([BH]),yt]})}return n})(),HH={provide:uo,useExisting:xt(()=>IN),multi:!0};function zH(){let n=Gt()?Gt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var qH=new V(""),IN=(()=>{class n extends EN{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!zH())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(q(rn),q(mt),q(qH,8))};static \u0275dir=Ee({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&$n("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[on([HH]),yt]})}return n})();function Z_(n){return n==null||J_(n)===0}function J_(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var lo=new V(""),iu=new V(""),GH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,dN=class{static min(e){return WH(e)}static max(e){return KH(e)}static required(e){return wN(e)}static requiredTrue(e){return QH(e)}static email(e){return YH(e)}static minLength(e){return DN(e)}static maxLength(e){return ZH(e)}static pattern(e){return JH(e)}static nullValidator(e){return of()}static compose(e){return RN(e)}static composeAsync(e){return NN(e)}};function WH(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function KH(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function wN(n){return Z_(n.value)?{required:!0}:null}function QH(n){return n.value===!0?null:{required:!0}}function YH(n){return Z_(n.value)||GH.test(n.value)?null:{email:!0}}function DN(n){return e=>{let t=e.value?.length??J_(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function ZH(n){return e=>{let t=e.value?.length??J_(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function JH(n){if(!n)return of;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Z_(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function of(n){return null}function TN(n){return n!=null}function bN(n){return Ji(n)?we(n):n}function CN(n){let e={};return n.forEach(t=>{e=t!=null?O(O({},e),t):e}),Object.keys(e).length===0?null:e}function SN(n,e){return e.map(t=>t(n))}function XH(n){return!n.validate}function AN(n){return n.map(e=>XH(e)?e:t=>e.validate(t))}function RN(n){if(!n)return null;let e=n.filter(TN);return e.length==0?null:function(t){return CN(SN(t,e))}}function X_(n){return n!=null?RN(AN(n)):null}function NN(n){if(!n)return null;let e=n.filter(TN);return e.length==0?null:function(t){let r=SN(t,e).map(bN);return gm(r).pipe(ee(CN))}}function eE(n){return n!=null?NN(AN(n)):null}function hN(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function MN(n){return n._rawValidators}function PN(n){return n._rawAsyncValidators}function K_(n){return n?Array.isArray(n)?n:[n]:[]}function sf(n,e){return Array.isArray(n)?n.includes(e):n===e}function fN(n,e){let t=K_(e);return K_(n).forEach(i=>{sf(t,i)||t.push(i)}),t}function pN(n,e){return K_(e).filter(t=>!sf(n,t))}var af=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=X_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=eE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Dr=class extends af{name;get formDirective(){return null}get path(){return null}},Tr=class extends af{_parent=null;name=null;valueAccessor=null},cf=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},e4={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},cne=le(O({},e4),{"[class.ng-submitted]":"isSubmitted"}),une=(()=>{class n extends cf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(q(Tr,2))};static \u0275dir=Ee({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ah("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[yt]})}return n})(),lne=(()=>{class n extends cf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(q(Dr,10))};static \u0275dir=Ee({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ah("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[yt]})}return n})();var Zc="VALID",rf="INVALID",zs="PENDING",Jc="DISABLED",fi=class{},uf=class extends fi{value;source;constructor(e,t){super(),this.value=e,this.source=t}},eu=class extends fi{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},tu=class extends fi{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},qs=class extends fi{status;source;constructor(e,t){super(),this.status=e,this.source=t}},lf=class extends fi{source;constructor(e){super(),this.source=e}},df=class extends fi{source;constructor(e){super(),this.source=e}};function tE(n){return(mf(n)?n.validators:n)||null}function t4(n){return Array.isArray(n)?X_(n):n||null}function nE(n,e){return(mf(e)?e.asyncValidators:n)||null}function n4(n){return Array.isArray(n)?eE(n):n||null}function mf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function xN(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new L(1e3,"");if(!r[t])throw new L(1001,"")}function kN(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new L(1002,"")})}var Gs=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return mn(this.statusReactive)}set status(e){mn(()=>this.statusReactive.set(e))}_status=Xi(()=>this.statusReactive());statusReactive=Zi(void 0);get valid(){return this.status===Zc}get invalid(){return this.status===rf}get pending(){return this.status==zs}get disabled(){return this.status===Jc}get enabled(){return this.status!==Jc}errors;get pristine(){return mn(this.pristineReactive)}set pristine(e){mn(()=>this.pristineReactive.set(e))}_pristine=Xi(()=>this.pristineReactive());pristineReactive=Zi(!0);get dirty(){return!this.pristine}get touched(){return mn(this.touchedReactive)}set touched(e){mn(()=>this.touchedReactive.set(e))}_touched=Xi(()=>this.touchedReactive());touchedReactive=Zi(!1);get untouched(){return!this.touched}_events=new Ne;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(fN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(fN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(pN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(pN(e,this._rawAsyncValidators))}hasValidator(e){return sf(this._rawValidators,e)}hasAsyncValidator(e){return sf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(le(O({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new tu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new tu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(le(O({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new eu(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new eu(!0,r))}markAsPending(e={}){this.status=zs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new qs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(le(O({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Jc,this.errors=null,this._forEachChild(i=>{i.disable(le(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new uf(this.value,r)),this._events.next(new qs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(le(O({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Zc,this._forEachChild(r=>{r.enable(le(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(le(O({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zc||this.status===zs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new uf(this.value,t)),this._events.next(new qs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(le(O({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jc:Zc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=zs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=bN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new qs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Me,this.statusChanges=new Me}_calculateStatus(){return this._allControlsDisabled()?Jc:this.errors?rf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zs)?zs:this._anyControlsHaveStatus(rf)?rf:Zc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new eu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new tu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){mf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=t4(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=n4(this._rawAsyncValidators)}},Ws=class extends Gs{constructor(e,t,r){super(tE(t),nE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){kN(this,!0,e),Object.keys(e).forEach(r=>{xN(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Q_=class extends Ws{};var Ks=new V("",{providedIn:"root",factory:()=>yf}),yf="always";function ON(n,e){return[...e.path,n]}function ru(n,e,t=yf){rE(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),i4(n,e),s4(n,e),o4(n,e),r4(n,e)}function hf(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),pf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ff(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function r4(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function rE(n,e){let t=MN(n);e.validator!==null?n.setValidators(hN(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=PN(n);e.asyncValidator!==null?n.setAsyncValidators(hN(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();ff(e._rawValidators,i),ff(e._rawAsyncValidators,i)}function pf(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=MN(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=PN(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return ff(e._rawValidators,r),ff(e._rawAsyncValidators,r),t}function i4(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&FN(n,e)})}function o4(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&FN(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function FN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function s4(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function LN(n,e){n==null,rE(n,e)}function a4(n,e){return pf(n,e)}function iE(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function c4(n){return Object.getPrototypeOf(n.constructor)===gf}function VN(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function oE(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===IN?t=o:c4(o)?r=o:i=o}),i||r||t||null}function u4(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var l4={provide:Dr,useExisting:xt(()=>d4)},Xc=Promise.resolve(),d4=(()=>{class n extends Dr{callSetDisabledState;get submitted(){return mn(this.submittedReactive)}_submitted=Xi(()=>this.submittedReactive());submittedReactive=Zi(!1);_directives=new Set;form;ngSubmit=new Me;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Ws({},X_(t),eE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Xc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),ru(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Xc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Xc.then(()=>{let r=this._findContainer(t.path),i=new Ws({});LN(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Xc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Xc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),VN(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new lf(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new df(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(q(lo,10),q(iu,10),q(Ks,8))};static \u0275dir=Ee({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&$n("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[on([l4]),yt]})}return n})();function gN(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function mN(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var nu=class extends Gs{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(tE(t),nE(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(mN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){gN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){gN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){mN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var h4=n=>n instanceof nu;var f4={provide:Tr,useExisting:xt(()=>p4)},yN=Promise.resolve(),p4=(()=>{class n extends Tr{_changeDetectorRef;callSetDisabledState;control=new nu;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Me;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=oE(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),iE(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ru(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){yN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&oi(r);yN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?ON(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(q(Dr,9),q(lo,10),q(iu,10),q(uo,10),q(ii,8),q(Ks,8))};static \u0275dir=Ee({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[on([f4]),yt,nn]})}return n})();var hne=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ee({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var sE=new V(""),g4={provide:Tr,useExisting:xt(()=>m4)},m4=(()=>{class n extends Tr{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(t){}model;update=new Me;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=oE(this,i)}ngOnChanges(t){if(this._isControlChanged(t)){let r=t.form.previousValue;r&&hf(r,this,!1),ru(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}iE(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&hf(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static \u0275fac=function(r){return new(r||n)(q(lo,10),q(iu,10),q(uo,10),q(sE,8),q(Ks,8))};static \u0275dir=Ee({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[on([g4]),yt,nn]})}return n})(),y4={provide:Dr,useExisting:xt(()=>v4)},v4=(()=>{class n extends Dr{callSetDisabledState;get submitted(){return mn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Xi(()=>this._submittedReactive());_submittedReactive=Zi(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Me;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(pf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return ru(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){hf(t.control||null,t,!1),u4(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),VN(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new lf(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new df(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(hf(r||null,t),h4(i)&&(ru(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);LN(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&a4(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){rE(this.form,this),this._oldForm&&pf(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(q(lo,10),q(iu,10),q(Ks,8))};static \u0275dir=Ee({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&$n("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[on([y4]),yt,nn]})}return n})();var _4={provide:Tr,useExisting:xt(()=>E4)},E4=(()=>{class n extends Tr{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Me;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=oE(this,o)}ngOnChanges(t){this._added||this._setUpControl(),iE(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return ON(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(q(Dr,13),q(lo,10),q(iu,10),q(uo,10),q(sE,8))};static \u0275dir=Ee({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[on([_4]),yt,nn]})}return n})();var I4={provide:uo,useExisting:xt(()=>UN),multi:!0};function jN(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function w4(n){return n.split(":")[0]}var UN=(()=>{class n extends gf{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=jN(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=w4(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=jn(n)))(i||n)}})();static \u0275dir=Ee({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&$n("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[on([I4]),yt]})}return n})(),fne=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(jN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(q(mt),q(rn),q(UN,9))};static \u0275dir=Ee({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),D4={provide:uo,useExisting:xt(()=>BN),multi:!0};function vN(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function T4(n){return n.split(":")[0]}var BN=(()=>{class n extends gf{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=T4(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=jn(n)))(i||n)}})();static \u0275dir=Ee({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&$n("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[on([D4]),yt]})}return n})(),pne=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(vN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(vN(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(q(mt),q(rn),q(BN,9))};static \u0275dir=Ee({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function b4(n){return typeof n=="number"?n:parseInt(n,10)}var $N=(()=>{class n{_validator=of;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):of,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ee({type:n,features:[nn]})}return n})();var C4={provide:lo,useExisting:xt(()=>S4),multi:!0};var S4=(()=>{class n extends $N{required;inputName="required";normalizeInput=oi;createValidator=t=>wN;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=jn(n)))(i||n)}})();static \u0275dir=Ee({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ss("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[on([C4]),yt]})}return n})();var A4={provide:lo,useExisting:xt(()=>R4),multi:!0},R4=(()=>{class n extends $N{minlength;inputName="minlength";normalizeInput=t=>b4(t);createValidator=t=>DN(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=jn(n)))(i||n)}})();static \u0275dir=Ee({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ss("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[on([A4]),yt]})}return n})();var HN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Lt({type:n});static \u0275inj=kt({})}return n})(),Y_=class extends Gs{constructor(e,t,r){super(tE(t),nE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){kN(this,!1,e),e.forEach((r,i)=>{xN(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function _N(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var gne=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return _N(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Ws(i,o)}record(t,r=null){let i=this._reduceControls(t);return new Q_(i,r)}control(t,r,i){let o={};return this.useNonNullable?(_N(r)?o=r:(o.validators=r,o.asyncValidators=i),new nu(t,le(O({},o),{nonNullable:!0}))):new nu(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new Y_(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof nu)return t;if(t instanceof Gs)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var mne=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ks,useValue:t.callSetDisabledState??yf}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Lt({type:n});static \u0275inj=kt({imports:[HN]})}return n})(),yne=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:sE,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Ks,useValue:t.callSetDisabledState??yf}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Lt({type:n});static \u0275inj=kt({imports:[HN]})}return n})();var zN=()=>{};var WN=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},N4=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},vf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,m=l&63;c||(m=64,s||(g=64)),r.push(t[h],t[p],t[g],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(WN(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):N4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new cE;let g=o<<2|a>>4;if(r.push(g),l!==64){let m=a<<4&240|l>>2;if(r.push(m),p!==64){let w=l<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},cE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},M4=function(n){let e=WN(n);return vf.encodeByteArray(e,!0)},su=function(n){return M4(n).replace(/\./g,"")},_f=function(n){try{return vf.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var P4=()=>lE().__FIREBASE_DEFAULTS__,x4=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},k4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&_f(n[1]);return e&&JSON.parse(e)},Ef=()=>{try{return zN()||P4()||x4()||k4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},dE=n=>{var e,t;return(t=(e=Ef())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},KN=n=>{let e=dE(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},hE=()=>{var n;return(n=Ef())===null||n===void 0?void 0:n.config},fE=n=>{var e;return(e=Ef())===null||e===void 0?void 0:e[`_${n}`]};var ho=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function pi(n){return n.endsWith(".cloudworkstations.dev")}function If(n){return v(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function QN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[su(JSON.stringify(t)),su(JSON.stringify(s)),""].join(".")}var ou={};function O4(){let n={prod:[],emulator:[]};for(let e of Object.keys(ou))ou[e]?n.emulator.push(e):n.prod.push(e);return n}function F4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var qN=!1;function wf(n,e){if(typeof window>"u"||typeof document>"u"||!pi(window.location.host)||ou[n]===e||ou[n]||qN)return;ou[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=O4().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{qN=!0,s()},g}function h(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=F4(r),m=t("text"),w=document.getElementById(m)||document.createElement("span"),A=t("learnmore"),R=document.getElementById(A)||document.createElement("a"),k=t("preprendIcon"),H=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let z=g.element;a(z),h(R,A);let ge=l();c(H,k),z.append(H,w,R,ge),document.body.appendChild(z)}o?(w.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function L4(){var n;let e=(n=Ef())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JN(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function XN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eM(){let n=nt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function tM(){return!L4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function au(){try{return typeof indexedDB=="object"}catch{return!1}}function nM(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var V4="FirebaseError",Yt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=V4,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wn.prototype.create)}},wn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?j4(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Yt(i,a,r)}};function j4(n,e){return n.replace(U4,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var U4=/\{\$([^}]+)}/g;function rM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Qn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(GN(o)&&GN(s)){if(!Qn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function GN(n){return n!==null&&typeof n=="object"}function fo(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qs(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ys(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function iM(n,e){let t=new uE(n,e);return t.subscribe.bind(t)}var uE=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");B4(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=aE),i.error===void 0&&(i.error=aE),i.complete===void 0&&(i.complete=aE);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function B4(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function aE(){}var wne=4*60*60*1e3;function Ae(n){return n&&n._delegate?n._delegate:n}var Ct=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var po="[DEFAULT]";var pE=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ho;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(H4(e))try{this.getOrInitializeService({instanceIdentifier:po})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=po){return this.instances.has(e)}getOptions(e=po){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=po){return this.component?this.component.multipleInstances?e:po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function $4(n){return n===po?void 0:n}function H4(n){return n.instantiationMode==="EAGER"}var Df=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new pE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var z4=[],fe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(fe||{}),q4={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},G4=fe.INFO,W4={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},K4=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=W4[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Yn=class{constructor(e){this.name=e,this._logLevel=G4,this._logHandler=K4,this._userLogHandler=null,z4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?q4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var Q4=(n,e)=>e.some(t=>n instanceof t),oM,sM;function Y4(){return oM||(oM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Z4(){return sM||(sM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var aM=new WeakMap,mE=new WeakMap,cM=new WeakMap,gE=new WeakMap,vE=new WeakMap;function J4(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Zn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&aM.set(t,n)}).catch(()=>{}),vE.set(e,n),e}function X4(n){if(mE.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});mE.set(n,e)}var yE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return mE.get(n);if(e==="objectStoreNames")return n.objectStoreNames||cM.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Zn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function uM(n){yE=n(yE)}function ez(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Tf(this),e,...t);return cM.set(r,e.sort?e.sort():[e]),Zn(r)}:Z4().includes(n)?function(...e){return n.apply(Tf(this),e),Zn(aM.get(this))}:function(...e){return Zn(n.apply(Tf(this),e))}}function tz(n){return typeof n=="function"?ez(n):(n instanceof IDBTransaction&&X4(n),Q4(n,Y4())?new Proxy(n,yE):n)}function Zn(n){if(n instanceof IDBRequest)return J4(n);if(gE.has(n))return gE.get(n);let e=tz(n);return e!==n&&(gE.set(n,e),vE.set(e,n)),e}var Tf=n=>vE.get(n);function dM(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Zn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Zn(s.result),c.oldVersion,c.newVersion,Zn(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var nz=["get","getKey","getAll","getAllKeys","count"],rz=["put","add","delete","clear"],_E=new Map;function lM(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(_E.get(e))return _E.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=rz.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nz.includes(t)))return;let o=function(s,...a){return v(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return _E.set(e,o),o}uM(n=>le(O({},n),{get:(e,t,r)=>lM(e,t)||n.get(e,t,r),has:(e,t)=>!!lM(e,t)||n.has(e,t)}));var IE=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(iz(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function iz(n){let e=n.getComponent();return e?.type==="VERSION"}var wE="@firebase/app",hM="0.13.1";var br=new Yn("@firebase/app"),oz="@firebase/app-compat",sz="@firebase/analytics-compat",az="@firebase/analytics",cz="@firebase/app-check-compat",uz="@firebase/app-check",lz="@firebase/auth",dz="@firebase/auth-compat",hz="@firebase/database",fz="@firebase/data-connect",pz="@firebase/database-compat",gz="@firebase/functions",mz="@firebase/functions-compat",yz="@firebase/installations",vz="@firebase/installations-compat",_z="@firebase/messaging",Ez="@firebase/messaging-compat",Iz="@firebase/performance",wz="@firebase/performance-compat",Dz="@firebase/remote-config",Tz="@firebase/remote-config-compat",bz="@firebase/storage",Cz="@firebase/storage-compat",Sz="@firebase/firestore",Az="@firebase/ai",Rz="@firebase/firestore-compat",Nz="firebase",Mz="11.9.0";var DE="[DEFAULT]",Pz={[wE]:"fire-core",[oz]:"fire-core-compat",[az]:"fire-analytics",[sz]:"fire-analytics-compat",[uz]:"fire-app-check",[cz]:"fire-app-check-compat",[lz]:"fire-auth",[dz]:"fire-auth-compat",[hz]:"fire-rtdb",[fz]:"fire-data-connect",[pz]:"fire-rtdb-compat",[gz]:"fire-fn",[mz]:"fire-fn-compat",[yz]:"fire-iid",[vz]:"fire-iid-compat",[_z]:"fire-fcm",[Ez]:"fire-fcm-compat",[Iz]:"fire-perf",[wz]:"fire-perf-compat",[Dz]:"fire-rc",[Tz]:"fire-rc-compat",[bz]:"fire-gcs",[Cz]:"fire-gcs-compat",[Sz]:"fire-fst",[Rz]:"fire-fst-compat",[Az]:"fire-vertex","fire-js":"fire-js",[Nz]:"fire-js-all"};var cu=new Map,xz=new Map,TE=new Map;function fM(n,e){try{n.container.addComponent(e)}catch(t){br.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Dn(n){let e=n.name;if(TE.has(e))return br.debug(`There were multiple attempts to register component ${e}.`),!1;TE.set(e,n);for(let t of cu.values())fM(t,n);for(let t of xz.values())fM(t,n);return!0}function Zs(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function vt(n){return n==null?!1:n.settings!==void 0}var kz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gi=new wn("app","Firebase",kz);var bE=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ct("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}};var mi=Mz;function AE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:DE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw gi.create("bad-app-name",{appName:String(i)});if(t||(t=hE()),!t)throw gi.create("no-options");let o=cu.get(i);if(o){if(Qn(t,o.options)&&Qn(r,o.config))return o;throw gi.create("duplicate-app",{appName:i})}let s=new Df(i);for(let c of TE.values())s.addComponent(c);let a=new bE(t,r,s);return cu.set(i,a),a}function go(n=DE){let e=cu.get(n);if(!e&&n===DE&&hE())return AE();if(!e)throw gi.create("no-app",{appName:n});return e}function bf(){return Array.from(cu.values())}function Le(n,e,t){var r;let i=(r=Pz[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),br.warn(a.join(" "));return}Dn(new Ct(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Oz="firebase-heartbeat-database",Fz=1,uu="firebase-heartbeat-store",EE=null;function yM(){return EE||(EE=dM(Oz,Fz,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(uu)}catch(t){console.warn(t)}}}}).catch(n=>{throw gi.create("idb-open",{originalErrorMessage:n.message})})),EE}function Lz(n){return v(this,null,function*(){try{let t=(yield yM()).transaction(uu),r=yield t.objectStore(uu).get(vM(n));return yield t.done,r}catch(e){if(e instanceof Yt)br.warn(e.message);else{let t=gi.create("idb-get",{originalErrorMessage:e?.message});br.warn(t.message)}}})}function pM(n,e){return v(this,null,function*(){try{let r=(yield yM()).transaction(uu,"readwrite");yield r.objectStore(uu).put(e,vM(n)),yield r.done}catch(t){if(t instanceof Yt)br.warn(t.message);else{let r=gi.create("idb-set",{originalErrorMessage:t?.message});br.warn(r.message)}}})}function vM(n){return`${n.name}!${n.options.appId}`}var Vz=1024,jz=30,CE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new SE(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=gM();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>jz){let s=Bz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){br.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=gM(),{heartbeatsToSend:r,unsentEntries:i}=Uz(this._heartbeatsCache.heartbeats),o=su(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return br.warn(t),""}})}};function gM(){return new Date().toISOString().substring(0,10)}function Uz(n,e=Vz){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),mM(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),mM(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var SE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return au()?nM().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Lz(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return pM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return pM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function mM(n){return su(JSON.stringify({version:2,heartbeats:n})).length}function Bz(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function $z(n){Dn(new Ct("platform-logger",e=>new IE(e),"PRIVATE")),Dn(new Ct("heartbeat",e=>new CE(e),"PRIVATE")),Le(wE,hM,n),Le(wE,hM,"esm2017"),Le("fire-js","")}$z("");function VM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var jM=VM,UM=new wn("auth","Firebase",VM());var Mf=new Yn("@firebase/auth");function Hz(n,...e){Mf.logLevel<=fe.WARN&&Mf.warn(`Auth (${mi}): ${n}`,...e)}function Sf(n,...e){Mf.logLevel<=fe.ERROR&&Mf.error(`Auth (${mi}): ${n}`,...e)}function sn(n,...e){throw nI(n,...e)}function jt(n,...e){return nI(n,...e)}function tI(n,e,t){let r=Object.assign(Object.assign({},jM()),{[e]:t});return new wn("auth","Firebase",r).create(e,{appName:n.name})}function Jn(n){return tI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zz(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&sn(n,"argument-error"),tI(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nI(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return UM.create(n,...e)}function U(n,e,...t){if(!n)throw nI(e,...t)}function Cr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Sf(e),new Error(e)}function Ar(n,e){n||Cr(e)}function xE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function BM(){return _M()==="http:"||_M()==="https:"}function _M(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function qz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BM()||JN()||"connection"in navigator)?navigator.onLine:!0}function Gz(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var mo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ar(t>e,"Short delay should be less than long delay!"),this.isMobile=YN()||XN()}get(){return qz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function rI(n,e){Ar(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Pf=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Wz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Kz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Qz=new mo(3e4,6e4);function Ut(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Zt(o,s,a,c){return v(this,arguments,function*(n,e,t,r,i={}){return $M(n,i,()=>v(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=fo(Object.assign({key:n.config.apiKey},h)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:g},l);return ZN()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&pi(n.emulatorConfig.host)&&(m.credentials="include"),Pf.fetch()(yield HM(n,n.config.apiHost,t,p),m)}))})}function $M(n,e,t){return v(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Wz),e);try{let i=new kE(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw du(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw du(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw du(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw du(n,"user-disabled",s);let h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw tI(n,h,l);sn(n,h)}}catch(i){if(i instanceof Yt)throw i;sn(n,"network-request-failed",{message:String(i)})}})}function _i(o,s,a,c){return v(this,arguments,function*(n,e,t,r,i={}){let l=yield Zt(n,e,t,r,i);return"mfaPendingCredential"in l&&sn(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function HM(n,e,t,r){return v(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?rI(n.config,i):`${n.config.apiScheme}://${i}`;return Kz.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function Yz(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var kE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(jt(this.auth,"network-request-failed")),Qz.get())})}};function du(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=jt(n,e,r);return i.customData._tokenResponse=t,i}function EM(n){return n!==void 0&&n.getResponse!==void 0}function IM(n){return n!==void 0&&n.enterprise!==void 0}var xf=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Yz(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function Zz(n){return v(this,null,function*(){return(yield Zt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})}function zM(n,e){return v(this,null,function*(){return Zt(n,"GET","/v2/recaptchaConfig",Ut(n,e))})}function Jz(n,e){return v(this,null,function*(){return Zt(n,"POST","/v1/accounts:delete",e)})}function kf(n,e){return v(this,null,function*(){return Zt(n,"POST","/v1/accounts:lookup",e)})}function hu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function iI(n,e=!1){return v(this,null,function*(){let t=Ae(n),r=yield t.getIdToken(e),i=oI(r);U(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:hu(RE(i.auth_time)),issuedAtTime:hu(RE(i.iat)),expirationTime:hu(RE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function RE(n){return Number(n)*1e3}function oI(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Sf("JWT malformed, contained fewer than 3 sections"),null;try{let i=_f(t);return i?JSON.parse(i):(Sf("Failed to decode base64 JWT payload"),null)}catch(i){return Sf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function wM(n){let e=oI(n);return U(e,"internal-error"),U(typeof e.exp<"u","internal-error"),U(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ea(n,e,t=!1){return v(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Yt&&Xz(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Xz({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var OE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),t)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var mu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Of(n){return v(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield ea(n,kf(t,{idToken:r}));U(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?qM(o.providerUserInfo):[],a=eq(n.providerData,s),c=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=c?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new mu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function sI(n){return v(this,null,function*(){let e=Ae(n);yield Of(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function eq(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function qM(n){return n.map(e=>{var{providerId:t}=e,r=Ol(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function tq(n,e){return v(this,null,function*(){let t=yield $M(n,{},()=>v(null,null,function*(){let r=fo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield HM(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&pi(n.emulatorConfig.host)&&(c.credentials="include"),Pf.fetch()(s,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function nq(n,e){return v(this,null,function*(){return Zt(n,"POST","/v2/accounts:revokeToken",Ut(n,e))})}var fu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){U(e.idToken,"internal-error"),U(typeof e.idToken<"u","internal-error"),U(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){U(e.length!==0,"internal-error");let t=wM(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return v(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(U(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield tq(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(U(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(U(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(U(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Cr("not implemented")}};function yi(n,e){U(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var vi=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Ol(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new OE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let t=yield ea(this,this.stsTokenManager.getToken(this.auth,e));return U(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return iI(this,e)}reload(){return sI(this)}_assign(e){this!==e&&(U(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Of(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(vt(this.auth.app))return Promise.reject(Jn(this.auth));let e=yield this.getIdToken();return yield ea(this,Jz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=t.photoURL)!==null&&s!==void 0?s:void 0,A=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,k=(l=t.createdAt)!==null&&l!==void 0?l:void 0,H=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:z,emailVerified:ge,isAnonymous:$e,providerData:ve,stsTokenManager:T}=t;U(z&&T,e,"internal-error");let _=fu.fromJSON(this.name,T);U(typeof z=="string",e,"internal-error"),yi(p,e.name),yi(g,e.name),U(typeof ge=="boolean",e,"internal-error"),U(typeof $e=="boolean",e,"internal-error"),yi(m,e.name),yi(w,e.name),yi(A,e.name),yi(R,e.name),yi(k,e.name),yi(H,e.name);let I=new n({uid:z,auth:e,email:g,emailVerified:ge,displayName:p,isAnonymous:$e,photoURL:w,phoneNumber:m,tenantId:A,stsTokenManager:_,createdAt:k,lastLoginAt:H});return ve&&Array.isArray(ve)&&(I.providerData=ve.map(D=>Object.assign({},D))),R&&(I._redirectEventId=R),I}static _fromIdTokenResponse(e,t,r=!1){return v(this,null,function*(){let i=new fu;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Of(o),o})}static _fromGetAccountInfoResponse(e,t,r){return v(this,null,function*(){let i=t.users[0];U(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?qM(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new fu;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new mu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var DM=new Map;function Sr(n){Ar(n instanceof Function,"Expected a class definition");let e=DM.get(n);return e?(Ar(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,DM.set(n,e),e)}var rq=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(t,r){return v(this,null,function*(){this.storage[t]=r})}_get(t){return v(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return v(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),FE=rq;function Af(n,e,t){return`firebase:${n}:${e}:${t}`}var Ff=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Af(this.userKey,i.apiKey,o),this.fullPersistenceKey=Af("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield kf(this.auth,{idToken:e}).catch(()=>{});return t?vi._fromGetAccountInfoResponse(this.auth,t,e):null}return vi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(this,null,function*(){if(!t.length)return new n(Sr(FE),e,r);let i=(yield Promise.all(t.map(l=>v(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Sr(FE),s=Af(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let g=yield kf(e,{idToken:h}).catch(()=>{});if(!g)break;p=yield vi._fromGetAccountInfoResponse(e,g,h)}else p=vi._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>v(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function TM(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZM(e))return"Blackberry";if(JM(e))return"Webos";if(WM(e))return"Safari";if((e.includes("chrome/")||KM(e))&&!e.includes("edge/"))return"Chrome";if(YM(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function GM(n=nt()){return/firefox\//i.test(n)}function WM(n=nt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KM(n=nt()){return/crios\//i.test(n)}function QM(n=nt()){return/iemobile/i.test(n)}function YM(n=nt()){return/android/i.test(n)}function ZM(n=nt()){return/blackberry/i.test(n)}function JM(n=nt()){return/webos/i.test(n)}function aI(n=nt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function iq(n=nt()){var e;return aI(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oq(){return eM()&&document.documentMode===10}function XM(n=nt()){return aI(n)||YM(n)||JM(n)||ZM(n)||/windows phone/i.test(n)||QM(n)}function eP(n,e=[]){let t;switch(n){case"Browser":t=TM(nt());break;case"Worker":t=`${TM(nt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${mi}/${r}`}var LE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function sq(t){return v(this,arguments,function*(n,e={}){return Zt(n,"GET","/v2/passwordPolicy",Ut(n,e))})}var aq=6,VE=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:aq,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var jE=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lf(this),this.idTokenSubscription=new Lf(this),this.beforeStateQueue=new LE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Sr(t)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Ff.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let t=yield kf(this,{idToken:e}),r=yield vi._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var t;if(vt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return U(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield Of(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Gz()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(vt(this.app))return Promise.reject(Jn(this));let t=e?Ae(e):null;return t&&U(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return v(this,null,function*(){if(!this._deleted)return e&&U(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return vt(this.app)?Promise.reject(Jn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return vt(this.app)?Promise.reject(Jn(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(Sr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield sq(this),t=new VE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield nq(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Sr(e)||this._popupRedirectResolver;U(t,this,"argument-error"),this.redirectPersistenceManager=yield Ff.create(this,[Sr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(U(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return v(this,null,function*(){var e;if(vt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&Hz(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Tn(n){return Ae(n)}var Lf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=iM(t=>this.observer=t)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Eu={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cq(n){Eu=n}function cI(n){return Eu.loadJS(n)}function uq(){return Eu.recaptchaV2Script}function lq(){return Eu.recaptchaEnterpriseScript}function dq(){return Eu.gapiScript}function tP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var hq=500,fq=6e4,Cf=1e12,UE=class{constructor(e){this.auth=e,this.counter=Cf,this._widgets=new Map}render(e,t){let r=this.counter;return this._widgets.set(r,new HE(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;let r=e||Cf;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;let r=e||Cf;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}execute(e){return v(this,null,function*(){var t;let r=e||Cf;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""})}},BE=class{constructor(){this.enterprise=new $E}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},$E=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},HE=class{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let i=typeof e=="string"?document.getElementById(e):e;U(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=pq(50);let{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},fq)},hq))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}};function pq(n){let e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}var gq="recaptcha-enterprise",pu="NO_RECAPTCHA",Vf=class{constructor(e){this.type=gq,this.auth=Tn(e)}verify(e="verify",t=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(null,null,function*(){zM(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new xf(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;IM(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(pu)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BE().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&IM(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=lq();c.length!==0&&(c+=a),cI(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function lu(n,e,t,r=!1,i=!1){return v(this,null,function*(){let o=new Vf(n),s;if(i)s=pu;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Js(n,e,t,r,i){return v(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield lu(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>v(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield lu(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield lu(n,e,t);return r(n,a).catch(c=>v(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield lu(n,e,t,!1,!0);return r(n,h)}return Promise.reject(c)}))}else{let a=yield lu(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function mq(n){return v(this,null,function*(){let e=Tn(n),t=yield zM(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new xf(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new Vf(e).verify()})}function uI(n,e){let t=Zs(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Qn(o,e??{}))return i;sn(i,"already-initialized")}return t.initialize({options:e})}function yq(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Sr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function lI(n,e,t){let r=Tn(n);U(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=nP(e),{host:s,port:a}=vq(e),c=a===null?"":`:${a}`,l={url:`${o}//${s}${c}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){U(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),U(Qn(l,r.config.emulator)&&Qn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,pi(s)?(If(`${o}//${s}${c}`),wf("Auth",!0)):i||_q()}function nP(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function vq(n){let e=nP(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:bM(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:bM(s)}}}function bM(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function _q(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var yo=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,t){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}};function Eq(n,e){return v(this,null,function*(){return Zt(n,"POST","/v1/accounts:update",e)})}function Iq(n,e){return v(this,null,function*(){return Zt(n,"POST","/v1/accounts:signUp",e)})}function wq(n,e){return v(this,null,function*(){return _i(n,"POST","/v1/accounts:signInWithPassword",Ut(n,e))})}function Dq(n,e){return v(this,null,function*(){return _i(n,"POST","/v1/accounts:signInWithEmailLink",Ut(n,e))})}function Tq(n,e){return v(this,null,function*(){return _i(n,"POST","/v1/accounts:signInWithEmailLink",Ut(n,e))})}var yu=class n extends yo{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Js(e,t,"signInWithPassword",wq,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Dq(e,{email:this._email,oobCode:this._password});default:sn(e,"internal-error")}})}_linkToIdToken(e,t){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Js(e,r,"signUpPassword",Iq,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Tq(e,{idToken:t,email:this._email,oobCode:this._password});default:sn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Xs(n,e){return v(this,null,function*(){return _i(n,"POST","/v1/accounts:signInWithIdp",Ut(n,e))})}var bq="http://localhost",jf=class n extends yo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):sn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=Ol(t,["providerId","signInMethod"]);if(!r||!i)return null;let s=new n(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return Xs(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,Xs(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Xs(e,t)}buildRequest(){let e={requestUri:bq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=fo(t)}return e}};function CM(n,e){return v(this,null,function*(){return Zt(n,"POST","/v1/accounts:sendVerificationCode",Ut(n,e))})}function Cq(n,e){return v(this,null,function*(){return _i(n,"POST","/v1/accounts:signInWithPhoneNumber",Ut(n,e))})}function Sq(n,e){return v(this,null,function*(){let t=yield _i(n,"POST","/v1/accounts:signInWithPhoneNumber",Ut(n,e));if(t.temporaryProof)throw du(n,"account-exists-with-different-credential",t);return t})}var Aq={USER_NOT_FOUND:"user-not-found"};function Rq(n,e){return v(this,null,function*(){let t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return _i(n,"POST","/v1/accounts:signInWithPhoneNumber",Ut(n,t),Aq)})}var Uf=class n extends yo{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new n({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new n({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return Cq(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Sq(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Rq(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));let{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!t&&!i&&!o?null:new n({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o})}};function Nq(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Mq(n){let e=Qs(Ys(n)).link,t=e?Qs(Ys(e)).deep_link_id:null,r=Qs(Ys(n)).deep_link_id;return(r?Qs(Ys(r)).link:null)||r||t||e||n}var Bf=class n{constructor(e){var t,r,i,o,s,a;let c=Qs(Ys(e)),l=(t=c.apiKey)!==null&&t!==void 0?t:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,p=Nq((i=c.mode)!==null&&i!==void 0?i:null);U(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=Mq(e);try{return new n(t)}catch{return null}}};var rP=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return yu._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Bf.parseLink(r);return U(i,"argument-error"),yu._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),vu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var $f=class extends vu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var dI=(()=>{class n extends $f{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return jf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();function Pq(n,e){return v(this,null,function*(){return _i(n,"POST","/v1/accounts:signUp",Ut(n,e))})}var ta=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return v(this,null,function*(){let o=yield vi._fromIdTokenResponse(e,r,i),s=SM(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=SM(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function SM(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var zE=class n extends Yt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function iP(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?zE._fromErrorAndOperation(n,o,e,r):o})}function xq(n,e,t=!1){return v(this,null,function*(){let r=yield ea(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ta._forOperation(n,"link",r)})}function kq(n,e,t=!1){return v(this,null,function*(){let{auth:r}=n;if(vt(r.app))return Promise.reject(Jn(r));let i="reauthenticate";try{let o=yield ea(n,iP(r,i,e,n),t);U(o.idToken,r,"internal-error");let s=oI(o.idToken);U(s,r,"internal-error");let{sub:a}=s;return U(n.uid===a,r,"user-mismatch"),ta._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&sn(r,"user-mismatch"),o}})}function oP(n,e,t=!1){return v(this,null,function*(){if(vt(n.app))return Promise.reject(Jn(n));let r="signIn",i=yield iP(n,r,e),o=yield ta._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function Kf(n,e){return v(this,null,function*(){return oP(Tn(n),e)})}function sP(n){return v(this,null,function*(){let e=Tn(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Qf(n,e,t){return v(this,null,function*(){if(vt(n.app))return Promise.reject(Jn(n));let r=Tn(n),s=yield Js(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Pq,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&sP(n),c}),a=yield ta._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Iu(n,e,t){return vt(n.app)?Promise.reject(Jn(n)):Kf(Ae(n),rP.credential(e,t)).catch(r=>v(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&sP(n),r}))}function Yf(n,e){return Oq(Ae(n),null,e)}function Oq(n,e,t){return v(this,null,function*(){let{auth:r}=n,o={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);let s=yield ea(n,Eq(r,o));yield n._updateTokensIfNecessary(s,!0)})}function hI(n,e,t,r){return Ae(n).onIdTokenChanged(e,t,r)}function fI(n,e,t){return Ae(n).beforeAuthStateChanged(e,t)}function pI(n,e,t,r){return Ae(n).onAuthStateChanged(e,t,r)}function Zf(n){return Ae(n).signOut()}function AM(n,e){return Zt(n,"POST","/v2/accounts/mfaEnrollment:start",Ut(n,e))}var Hf="__sak";var zf=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hf,"1"),this.storage.removeItem(Hf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Fq=1e3,Lq=10,Vq=(()=>{class n extends zf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XM(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);oq()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Lq):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},Fq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return v(this,null,function*(){yield Br(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return v(this,null,function*(){let r=yield Br(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return v(this,null,function*(){yield Br(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),aP=Vq;var jq=(()=>{class n extends zf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),gI=jq;function Uq(n){return Promise.all(n.map(e=>v(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var Bq=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return v(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield Uq(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function mI(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var qE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=mI("",20);i.port1.start();let h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function ze(){return window}function $q(n){ze().location.href=n}function yI(){return typeof ze().WorkerGlobalScope<"u"&&typeof ze().importScripts=="function"}function Hq(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function zq(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function qq(){return yI()?self:null}var cP="firebaseLocalStorageDb",Gq=1,qf="firebaseLocalStorage",uP="fbase_key",vo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Jf(n,e){return n.transaction([qf],e?"readwrite":"readonly").objectStore(qf)}function Wq(){let n=indexedDB.deleteDatabase(cP);return new vo(n).toPromise()}function GE(){let n=indexedDB.open(cP,Gq);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(qf,{keyPath:uP})}catch(i){t(i)}}),n.addEventListener("success",()=>v(null,null,function*(){let r=n.result;r.objectStoreNames.contains(qf)?e(r):(r.close(),yield Wq(),e(yield GE()))}))})}function RM(n,e,t){return v(this,null,function*(){let r=Jf(n,!0).put({[uP]:e,value:t});return new vo(r).toPromise()})}function Kq(n,e){return v(this,null,function*(){let t=Jf(n,!1).get(e),r=yield new vo(t).toPromise();return r===void 0?null:r.value})}function NM(n,e){let t=Jf(n,!0).delete(e);return new vo(t).toPromise()}var Qq=800,Yq=3,Zq=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield GE(),this.db)})}_withRetries(t){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>Yq)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return yI()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=Bq._getInstance(qq()),this.receiver._subscribe("keyChanged",(t,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var t,r;if(this.activeServiceWorker=yield Hq(),!this.activeServiceWorker)return;this.sender=new qE(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||zq()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let t=yield GE();return yield RM(t,Hf,"1"),yield NM(t,Hf),!0}catch{}return!1})}_withPendingWrite(t){return v(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>RM(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return v(this,null,function*(){let r=yield this._withRetries(i=>Kq(i,t));return this.localCache[t]=r,r})}_remove(t){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>NM(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return v(this,null,function*(){let t=yield this._withRetries(o=>{let s=Jf(o,!1).getAll();return new vo(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),Qq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),lP=Zq;function MM(n,e){return Zt(n,"POST","/v2/accounts/mfaSignIn:start",Ut(n,e))}var NE=tP("rcb"),Jq=new mo(3e4,6e4),WE=class{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=ze().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return U(Xq(t),e,"argument-error"),this.shouldResolveImmediately(t)&&EM(ze().grecaptcha)?Promise.resolve(ze().grecaptcha):new Promise((r,i)=>{let o=ze().setTimeout(()=>{i(jt(e,"network-request-failed"))},Jq.get());ze()[NE]=()=>{ze().clearTimeout(o),delete ze()[NE];let a=ze().grecaptcha;if(!a||!EM(a)){i(jt(e,"internal-error"));return}let c=a.render;a.render=(l,h)=>{let p=c(l,h);return this.counter++,p},this.hostLanguage=t,r(a)};let s=`${uq()}?${fo({onload:NE,render:"explicit",hl:t})}`;cI(s).catch(()=>{clearTimeout(o),i(jt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=ze().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}};function Xq(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}var KE=class{load(e){return v(this,null,function*(){return new UE(e)})}clearedOneInstance(){}};var gu="recaptcha",e3={theme:"light",type:"image"},QE=class{constructor(e,t,r=Object.assign({},e3)){this.parameters=r,this.type=gu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Tn(e),this.isInvisible=this.parameters.size==="invisible",U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");let i=typeof t=="string"?document.getElementById(t):t;U(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new KE:new WE,this.validateStartingState()}verify(){return v(this,null,function*(){this.assertNotDestroyed();let e=yield this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{let o=s=>{s&&(this.tokenChangeListeners.delete(o),i(s))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){let r=ze()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){return v(this,null,function*(){if(yield this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){let t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId})}init(){return v(this,null,function*(){U(BM()&&!yI(),this.auth,"internal-error"),yield t3(),this.recaptcha=yield this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let e=yield Zz(this.auth);U(e,this.auth,"internal-error"),this.parameters.sitekey=e})}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function t3(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}var YE=class{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){let t=Uf._fromVerification(this.verificationId,e);return this.onConfirmation(t)}};function dP(n,e,t){return v(this,null,function*(){if(vt(n.app))return Promise.reject(Jn(n));let r=Tn(n),i=yield n3(r,e,Ae(t));return new YE(i,o=>Kf(r,o))})}function n3(n,e,t){return v(this,null,function*(){var r;if(!n._getRecaptchaConfig())try{yield mq(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){let o=i.session;if("phoneNumber"in i){U(o.type==="enroll",n,"internal-error");let s={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(yield Js(n,s,"mfaSmsEnrollment",(h,p)=>v(null,null,function*(){if(p.phoneEnrollmentInfo.captchaResponse===pu){U(t?.type===gu,h,"argument-error");let g=yield ME(h,p,t);return AM(h,g)}return AM(h,p)}),"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneSessionInfo.sessionInfo}else{U(o.type==="signin",n,"internal-error");let s=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;U(s,n,"missing-multi-factor-info");let a={mfaPendingCredential:o.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(yield Js(n,a,"mfaSmsSignIn",(p,g)=>v(null,null,function*(){if(g.phoneSignInInfo.captchaResponse===pu){U(t?.type===gu,p,"argument-error");let m=yield ME(p,g,t);return MM(p,m)}return MM(p,g)}),"PHONE_PROVIDER").catch(p=>Promise.reject(p))).phoneResponseInfo.sessionInfo}}else{let o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(yield Js(n,o,"sendVerificationCode",(l,h)=>v(null,null,function*(){if(h.captchaResponse===pu){U(t?.type===gu,l,"argument-error");let p=yield ME(l,h,t);return CM(l,p)}return CM(l,h)}),"PHONE_PROVIDER").catch(l=>Promise.reject(l))).sessionInfo}}finally{t?._reset()}})}function ME(n,e,t){return v(this,null,function*(){U(t.type===gu,n,"argument-error");let r=yield t.verify();U(typeof r=="string",n,"argument-error");let i=Object.assign({},e);if("phoneEnrollmentInfo"in i){let o=i.phoneEnrollmentInfo.phoneNumber,s=i.phoneEnrollmentInfo.captchaResponse,a=i.phoneEnrollmentInfo.clientType,c=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:s,clientType:a,recaptchaVersion:c}}),i}else if("phoneSignInInfo"in i){let o=i.phoneSignInInfo.captchaResponse,s=i.phoneSignInInfo.clientType,a=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:s,recaptchaVersion:a}}),i}else return Object.assign(i,{recaptchaToken:r}),i})}function hP(n,e){return e?Sr(e):(U(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var _u=class extends yo{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xs(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function r3(n){return oP(n.auth,new _u(n),n.bypassAuthState)}function i3(n){let{auth:e,user:t}=n;return U(t,e,"internal-error"),kq(t,new _u(n),n.bypassAuthState)}function o3(n){return v(this,null,function*(){let{auth:e,user:t}=n;return U(t,e,"internal-error"),xq(t,new _u(n),n.bypassAuthState)})}var Gf=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return r3;case"linkViaPopup":case"linkViaRedirect":return o3;case"reauthViaPopup":case"reauthViaRedirect":return i3;default:sn(this.auth,"internal-error")}}resolve(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var s3=new mo(2e3,1e4);function Xf(n,e,t){return v(this,null,function*(){if(vt(n.app))return Promise.reject(jt(n,"operation-not-supported-in-this-environment"));let r=Tn(n);zz(n,e,vu);let i=hP(r,t);return new a3(r,"signInViaPopup",e,i).executeNotNull()})}var a3=(()=>{class n extends Gf{constructor(t,r,i,o,s){super(t,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return v(this,null,function*(){let t=yield this.execute();return U(t,this.auth,"internal-error"),t})}onExecution(){return v(this,null,function*(){Ar(this.filter.length===1,"Popup operations only handle one event");let t=mI();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(jt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(jt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,s3.get())};t()}}n.currentPopupAction=null;return n})(),c3="pendingRedirect",Rf=new Map,ZE=class n extends Gf{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=Rf.get(this.auth._key());if(!e){try{let r=(yield u3(this.resolver,this.auth))?yield Br(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Rf.set(this.auth._key(),e)}return this.bypassAuthState||Rf.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return Br(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Br(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function u3(n,e){return v(this,null,function*(){let t=h3(e),r=d3(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function l3(n,e){Rf.set(n._key(),e)}function d3(n){return Sr(n._redirectPersistence)}function h3(n){return Af(c3,n.config.apiKey,n.name)}function f3(n,e,t=!1){return v(this,null,function*(){if(vt(n.app))return Promise.reject(Jn(n));let r=Tn(n),i=hP(r,e),s=yield new ZE(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var p3=10*60*1e3,JE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!g3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!fP(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(jt(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=p3&&this.cachedEventUids.clear(),this.cachedEventUids.has(PM(e))}saveEventToCache(e){this.cachedEventUids.add(PM(e)),this.lastProcessedEventTime=Date.now()}};function PM(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function fP({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function g3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fP(n);default:return!1}}function m3(t){return v(this,arguments,function*(n,e={}){return Zt(n,"GET","/v1/projects",e)})}var y3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,v3=/^https?/;function _3(n){return v(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield m3(n);for(let t of e)try{if(E3(t))return}catch{}sn(n,"unauthorized-domain")})}function E3(n){let e=xE(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!v3.test(t))return!1;if(y3.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var I3=new mo(3e4,6e4);function xM(){let n=ze().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function w3(n){return new Promise((e,t)=>{var r,i,o;function s(){xM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xM(),t(jt(n,"network-request-failed"))},timeout:I3.get()})}if(!((i=(r=ze().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ze().gapi)===null||o===void 0)&&o.load)s();else{let a=tP("iframefcb");return ze()[a]=()=>{gapi.load?s():t(jt(n,"network-request-failed"))},cI(`${dq()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Nf=null,e})}var Nf=null;function D3(n){return Nf=Nf||w3(n),Nf}var T3=new mo(5e3,15e3),b3="__/auth/iframe",C3="emulator/auth/iframe",S3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},A3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function R3(n){let e=n.config;U(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?rI(e,C3):`https://${n.config.authDomain}/${b3}`,r={apiKey:e.apiKey,appName:n.name,v:mi},i=A3.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${fo(r).slice(1)}`}function N3(n){return v(this,null,function*(){let e=yield D3(n),t=ze().gapi;return U(t,n,"internal-error"),e.open({where:document.body,url:R3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:S3,dontclear:!0},r=>new Promise((i,o)=>v(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=jt(n,"network-request-failed"),a=ze().setTimeout(()=>{o(s)},T3.get());function c(){ze().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var M3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P3=500,x3=600,k3="_blank",O3="http://localhost",Wf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function F3(n,e,t,r=P3,i=x3){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},M3),{width:r.toString(),height:i.toString(),top:o,left:s}),l=nt().toLowerCase();t&&(a=KM(l)?k3:t),GM(l)&&(e=e||O3,c.scrollbars="yes");let h=Object.entries(c).reduce((g,[m,w])=>`${g}${m}=${w},`,"");if(iq(l)&&a!=="_self")return L3(e||"",a),new Wf(null);let p=window.open(e||"",a,h);U(p,n,"popup-blocked");try{p.focus()}catch{}return new Wf(p)}function L3(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var V3="__/auth/handler",j3="emulator/auth/handler",U3=encodeURIComponent("fac");function kM(n,e,t,r,i,o){return v(this,null,function*(){U(n.config.authDomain,n,"auth-domain-config-required"),U(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:mi,eventId:i};if(e instanceof vu){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",rM(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof $f){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let c=yield n._getAppCheckToken(),l=c?`#${U3}=${encodeURIComponent(c)}`:"";return`${B3(n)}?${fo(a).slice(1)}${l}`})}function B3({config:n}){return n.emulator?rI(n,j3):`https://${n.authDomain}/${V3}`}var PE="webStorageSupport",XE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gI,this._completeRedirectFn=f3,this._overrideRedirectResult=l3}_openPopup(e,t,r,i){return v(this,null,function*(){var o;Ar((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield kM(e,t,r,xE(),i);return F3(e,s,mI())})}_openRedirect(e,t,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield kM(e,t,r,xE(),i);return $q(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ar(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return v(this,null,function*(){let t=yield N3(e),r=new JE(e);return t.register("authEvent",i=>(U(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(PE,{type:PE},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[PE];s!==void 0&&t(!!s),sn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return XM()||WM()||aI()}},pP=XE;var OM="@firebase/auth",FM="1.10.7";var eI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function $3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function H3(n){Dn(new Ct("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;U(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eP(n)},l=new jE(r,i,o,c);return yq(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Dn(new Ct("auth-internal",e=>{let t=Tn(e.getProvider("auth").getImmediate());return(r=>new eI(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Le(OM,FM,$3(n)),Le(OM,FM,"esm2017")}var z3=5*60,q3=fE("authIdTokenMaxAge")||z3,LM=null,G3=n=>e=>v(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>q3)return;let i=t?.token;LM!==i&&(LM=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function wu(n=go()){let e=Zs(n,"auth");if(e.isInitialized())return e.getImmediate();let t=uI(n,{popupRedirectResolver:pP,persistence:[lP,aP,gI]}),r=fE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=G3(o.toString());fI(t,s,()=>s(t.currentUser)),hI(t,a=>s(a))}}let i=dE("auth");return i&&lI(t,`http://${i}`),t}function W3(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}cq({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=jt("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",W3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});H3("Browser");var P6="firebase",x6="11.9.1";Le(P6,x6,"app");function vI(n){n===void 0&&(Xy(vI),n=M(Ue));let e=n.get(Kd);return t=>new re(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Ei=new Jr("ANGULARFIRE2_VERSION");function Du(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var ra=(n,e)=>{let t=e?[e]:bf(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},na=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(na||{}),gP=Qv()&&typeof Zone<"u"?na.WARN:na.SILENT;var ep=class{zone;delegate;constructor(e,t=fm){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Ii=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=M(he);this.outsideAngular=t.runOutsideAngular(()=>new ep(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new ep(typeof Zone>"u"?void 0:Zone.current,$r))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mP=!1;function k6(n,e){!mP&&(gP>na.SILENT||Qv())&&(mP=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),gP>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function O6(n){let e=M(he,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function _o(n){let e=M(he,{optional:!0});return e?e.run(()=>n()):n()}var F6=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),tt(t,()=>_o(()=>n.apply(void 0,r)))),qe=(n,e,t)=>(t||=e?na.WARN:na.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=M(Ii),s=M(Kd),a=M(et)}catch{return k6(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=_o(()=>s.add())),i[l]=F6(i[l],r,a));let c=O6(()=>n.apply(this,i));return e?c instanceof re?c.pipe(qr(o.outsideAngular),zr(o.insideAngular),vI(a)):c instanceof Promise?_o(()=>new Promise((l,h)=>{s.run(()=>c).then(p=>tt(a,()=>_o(()=>l(p))),p=>tt(a,()=>_o(()=>h(p))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:_o(()=>c):c instanceof re?c.pipe(qr(o.outsideAngular),zr(o.insideAngular)):_o(()=>c)});var Rr=class{constructor(e){return e}},Eo=class{constructor(){return bf()}};function L6(n){return n&&n.length===1?n[0]:new Rr(go())}var _I=new V("angularfire2._apps"),V6={provide:Rr,useFactory:L6,deps:[[new bt,_I]]},j6={provide:Eo,deps:[[new bt,_I]]};function U6(n){return(e,t)=>{let r=t.get(ei);Le("angularfire",Ei.full,"core"),Le("angularfire",Ei.full,"app"),Le("angular",vA.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Rr(i)}}function Xre(n,...e){return qt([V6,j6,{provide:_I,useFactory:U6(n),multi:!0,deps:[he,Ue,Ii,...e]}])}var eie=qe(AE,!0);var B6=new Map,$6={activated:!1,tokenObservers:[]},H6={initialized:!1,enabled:!1};function bn(n){return B6.get(n)||Object.assign({},$6)}function EP(){return H6}var z6="https://content-firebaseappcheck.googleapis.com/v1";var q6="exchangeDebugToken",yP={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},uie=24*60*60*1e3;var wI=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new ho,this.pending.promise.catch(t=>{}),yield G6(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ho,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function G6(n){return new Promise(e=>{setTimeout(e,n)})}var W6={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},wi=new wn("appCheck","AppCheck",W6);function IP(n){if(!bn(n).activated)throw wi.create("use-before-activation",{appName:n.name})}function wP(r,i){return v(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(m){throw wi.create("fetch-network-error",{originalErrorMessage:m?.message})}if(c.status!==200)throw wi.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(m){throw wi.create("fetch-parse-error",{originalErrorMessage:m?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw wi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function DP(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${z6}/projects/${t}/apps/${r}:${q6}?key=${i}`,body:{debug_token:e}}}var K6="firebase-app-check-database",Q6=1,DI="firebase-app-check-store";var tp=null;function Y6(){return tp||(tp=new Promise((n,e)=>{try{let t=indexedDB.open(K6,Q6);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(wi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(DI,{keyPath:"compositeKey"})}}}catch(t){e(wi.create("storage-open",{originalErrorMessage:t?.message}))}}),tp)}function Z6(n,e){return J6(X6(n),e)}function J6(n,e){return v(this,null,function*(){let r=(yield Y6()).transaction(DI,"readwrite"),o=r.objectStore(DI).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(wi.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function X6(n){return`${n.options.appId}-${n.name}`}var Tu=new Yn("@firebase/app-check");function EI(n,e){return au()?Z6(n,e).catch(t=>{Tu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function TP(){return EP().enabled}function bP(){return v(this,null,function*(){let n=EP();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var eG={error:"UNKNOWN_ERROR"};function tG(n){return vf.encodeString(JSON.stringify(n),!1)}function TI(n,e=!1,t=!1){return v(this,null,function*(){let r=n.app;IP(r);let i=bn(r),o=i.token,s;if(o&&!bu(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(bu(l)?o=l:yield EI(r,void 0))}if(!e&&o&&bu(o))return{token:o.token};let a=!1;if(TP())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=wP(DP(r,yield bP()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield EI(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Tu.warn(l.message):t&&Tu.error(l),II(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield bn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Tu.warn(l.message):t&&Tu.error(l),s=l}let c;return o?s?bu(o)?c={token:o.token,internalError:s}:c=II(s):(c={token:o.token},i.token=o,yield EI(r,o)):c=II(s),a&&oG(r,c),c})}function nG(n){return v(this,null,function*(){let e=n.app;IP(e);let{provider:t}=bn(e);if(TP()){let r=yield bP(),{token:i}=yield wP(DP(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function rG(n,e,t,r){let{app:i}=n,o=bn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&bu(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),vP(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>vP(n))}function CP(n,e){let t=bn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function vP(n){let{app:e}=n,t=bn(e),r=t.tokenRefresher;r||(r=iG(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function iG(n){let{app:e}=n;return new wI(()=>v(null,null,function*(){let t=bn(e),r;if(t.token?r=yield TI(n,!0):r=yield TI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=bn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},yP.RETRIAL_MIN_WAIT,yP.RETRIAL_MAX_WAIT)}function oG(n,e){let t=bn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function bu(n){return n.expireTimeMillis-Date.now()>0}function II(n){return{token:tG(eG),error:n}}var bI=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=bn(this.app);for(let t of e)CP(this.app,t.next);return Promise.resolve()}};function sG(n,e){return new bI(n,e)}function aG(n){return{getToken:e=>TI(n,e),getLimitedUseToken:()=>nG(n),addTokenListener:e=>rG(n,"INTERNAL",e),removeTokenListener:e=>CP(n.app,e)}}var cG="@firebase/app-check",uG="0.10.0";var lG="app-check",_P="app-check-internal";function dG(){Dn(new Ct(lG,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return sG(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(_P).initialize()})),Dn(new Ct(_P,n=>{let e=n.getProvider("app-check").getImmediate();return aG(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Le(cG,uG)}dG();var hG="app-check";var ia=class{constructor(){return ra(hG)}};var fG=["localhost","0.0.0.0","127.0.0.1"],wie=typeof window<"u"&&fG.includes(window.location.hostname);var SP="auth",Io=class{constructor(e){return e}},Cu=class{constructor(){return ra(SP)}};var CI=new V("angularfire2.auth-instances");function pG(n,e){let t=Du(SP,n,e);return t&&new Io(t)}function gG(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Io(r)}}var mG={provide:Cu,deps:[[new bt,CI]]},yG={provide:Io,useFactory:pG,deps:[[new bt,CI],Rr]};function Pie(n,...e){return Le("angularfire",Ei.full,"auth"),qt([yG,mG,{provide:CI,useFactory:gG(n),multi:!0,deps:[he,Ue,Ii,Eo,[new bt,ia],...e]}])}var xie=qe(wu,!0);var AP=qe(pI,!0);var RP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},NP={};var Nr,SI;(function(){var n;function e(T,_){function I(){}I.prototype=_.prototype,T.D=_.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(D,b,S){for(var E=Array(arguments.length-2),or=2;or<arguments.length;or++)E[or-2]=arguments[or];return _.prototype[b].apply(D,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,_,I){I||(I=0);var D=Array(16);if(typeof _=="string")for(var b=0;16>b;++b)D[b]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(b=0;16>b;++b)D[b]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=T.g[0],I=T.g[1],b=T.g[2];var S=T.g[3],E=_+(S^I&(b^S))+D[0]+3614090360&4294967295;_=I+(E<<7&4294967295|E>>>25),E=S+(b^_&(I^b))+D[1]+3905402710&4294967295,S=_+(E<<12&4294967295|E>>>20),E=b+(I^S&(_^I))+D[2]+606105819&4294967295,b=S+(E<<17&4294967295|E>>>15),E=I+(_^b&(S^_))+D[3]+3250441966&4294967295,I=b+(E<<22&4294967295|E>>>10),E=_+(S^I&(b^S))+D[4]+4118548399&4294967295,_=I+(E<<7&4294967295|E>>>25),E=S+(b^_&(I^b))+D[5]+1200080426&4294967295,S=_+(E<<12&4294967295|E>>>20),E=b+(I^S&(_^I))+D[6]+2821735955&4294967295,b=S+(E<<17&4294967295|E>>>15),E=I+(_^b&(S^_))+D[7]+4249261313&4294967295,I=b+(E<<22&4294967295|E>>>10),E=_+(S^I&(b^S))+D[8]+1770035416&4294967295,_=I+(E<<7&4294967295|E>>>25),E=S+(b^_&(I^b))+D[9]+2336552879&4294967295,S=_+(E<<12&4294967295|E>>>20),E=b+(I^S&(_^I))+D[10]+4294925233&4294967295,b=S+(E<<17&4294967295|E>>>15),E=I+(_^b&(S^_))+D[11]+2304563134&4294967295,I=b+(E<<22&4294967295|E>>>10),E=_+(S^I&(b^S))+D[12]+1804603682&4294967295,_=I+(E<<7&4294967295|E>>>25),E=S+(b^_&(I^b))+D[13]+4254626195&4294967295,S=_+(E<<12&4294967295|E>>>20),E=b+(I^S&(_^I))+D[14]+2792965006&4294967295,b=S+(E<<17&4294967295|E>>>15),E=I+(_^b&(S^_))+D[15]+1236535329&4294967295,I=b+(E<<22&4294967295|E>>>10),E=_+(b^S&(I^b))+D[1]+4129170786&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^b&(_^I))+D[6]+3225465664&4294967295,S=_+(E<<9&4294967295|E>>>23),E=b+(_^I&(S^_))+D[11]+643717713&4294967295,b=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(b^S))+D[0]+3921069994&4294967295,I=b+(E<<20&4294967295|E>>>12),E=_+(b^S&(I^b))+D[5]+3593408605&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^b&(_^I))+D[10]+38016083&4294967295,S=_+(E<<9&4294967295|E>>>23),E=b+(_^I&(S^_))+D[15]+3634488961&4294967295,b=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(b^S))+D[4]+3889429448&4294967295,I=b+(E<<20&4294967295|E>>>12),E=_+(b^S&(I^b))+D[9]+568446438&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^b&(_^I))+D[14]+3275163606&4294967295,S=_+(E<<9&4294967295|E>>>23),E=b+(_^I&(S^_))+D[3]+4107603335&4294967295,b=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(b^S))+D[8]+1163531501&4294967295,I=b+(E<<20&4294967295|E>>>12),E=_+(b^S&(I^b))+D[13]+2850285829&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^b&(_^I))+D[2]+4243563512&4294967295,S=_+(E<<9&4294967295|E>>>23),E=b+(_^I&(S^_))+D[7]+1735328473&4294967295,b=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(b^S))+D[12]+2368359562&4294967295,I=b+(E<<20&4294967295|E>>>12),E=_+(I^b^S)+D[5]+4294588738&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^b)+D[8]+2272392833&4294967295,S=_+(E<<11&4294967295|E>>>21),E=b+(S^_^I)+D[11]+1839030562&4294967295,b=S+(E<<16&4294967295|E>>>16),E=I+(b^S^_)+D[14]+4259657740&4294967295,I=b+(E<<23&4294967295|E>>>9),E=_+(I^b^S)+D[1]+2763975236&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^b)+D[4]+1272893353&4294967295,S=_+(E<<11&4294967295|E>>>21),E=b+(S^_^I)+D[7]+4139469664&4294967295,b=S+(E<<16&4294967295|E>>>16),E=I+(b^S^_)+D[10]+3200236656&4294967295,I=b+(E<<23&4294967295|E>>>9),E=_+(I^b^S)+D[13]+681279174&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^b)+D[0]+3936430074&4294967295,S=_+(E<<11&4294967295|E>>>21),E=b+(S^_^I)+D[3]+3572445317&4294967295,b=S+(E<<16&4294967295|E>>>16),E=I+(b^S^_)+D[6]+76029189&4294967295,I=b+(E<<23&4294967295|E>>>9),E=_+(I^b^S)+D[9]+3654602809&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^b)+D[12]+3873151461&4294967295,S=_+(E<<11&4294967295|E>>>21),E=b+(S^_^I)+D[15]+530742520&4294967295,b=S+(E<<16&4294967295|E>>>16),E=I+(b^S^_)+D[2]+3299628645&4294967295,I=b+(E<<23&4294967295|E>>>9),E=_+(b^(I|~S))+D[0]+4096336452&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~b))+D[7]+1126891415&4294967295,S=_+(E<<10&4294967295|E>>>22),E=b+(_^(S|~I))+D[14]+2878612391&4294967295,b=S+(E<<15&4294967295|E>>>17),E=I+(S^(b|~_))+D[5]+4237533241&4294967295,I=b+(E<<21&4294967295|E>>>11),E=_+(b^(I|~S))+D[12]+1700485571&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~b))+D[3]+2399980690&4294967295,S=_+(E<<10&4294967295|E>>>22),E=b+(_^(S|~I))+D[10]+4293915773&4294967295,b=S+(E<<15&4294967295|E>>>17),E=I+(S^(b|~_))+D[1]+2240044497&4294967295,I=b+(E<<21&4294967295|E>>>11),E=_+(b^(I|~S))+D[8]+1873313359&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~b))+D[15]+4264355552&4294967295,S=_+(E<<10&4294967295|E>>>22),E=b+(_^(S|~I))+D[6]+2734768916&4294967295,b=S+(E<<15&4294967295|E>>>17),E=I+(S^(b|~_))+D[13]+1309151649&4294967295,I=b+(E<<21&4294967295|E>>>11),E=_+(b^(I|~S))+D[4]+4149444226&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~b))+D[11]+3174756917&4294967295,S=_+(E<<10&4294967295|E>>>22),E=b+(_^(S|~I))+D[2]+718787259&4294967295,b=S+(E<<15&4294967295|E>>>17),E=I+(S^(b|~_))+D[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(b+(E<<21&4294967295|E>>>11))&4294967295,T.g[2]=T.g[2]+b&4294967295,T.g[3]=T.g[3]+S&4294967295}r.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var I=_-this.blockSize,D=this.B,b=this.h,S=0;S<_;){if(b==0)for(;S<=I;)i(this,T,S),S+=this.blockSize;if(typeof T=="string"){for(;S<_;)if(D[b++]=T.charCodeAt(S++),b==this.blockSize){i(this,D),b=0;break}}else for(;S<_;)if(D[b++]=T[S++],b==this.blockSize){i(this,D),b=0;break}}this.h=b,this.o+=_},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var I=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=I&255,I/=256;for(this.u(T),T=Array(16),_=I=0;4>_;++_)for(var D=0;32>D;D+=8)T[I++]=this.g[_]>>>D&255;return T};function o(T,_){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=_(T)}function s(T,_){this.h=_;for(var I=[],D=!0,b=T.length-1;0<=b;b--){var S=T[b]|0;D&&S==_||(I[b]=S,D=!1)}this.g=I}var a={};function c(T){return-128<=T&&128>T?o(T,function(_){return new s([_|0],0>_?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return R(l(-T));for(var _=[],I=1,D=0;T>=I;D++)_[D]=T/I|0,I*=4294967296;return new s(_,0)}function h(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return R(h(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(_,8)),D=p,b=0;b<T.length;b+=8){var S=Math.min(8,T.length-b),E=parseInt(T.substring(b,b+S),_);8>S?(S=l(Math.pow(_,S)),D=D.j(S).add(l(E))):(D=D.j(I),D=D.add(l(E)))}return D}var p=c(0),g=c(1),m=c(16777216);n=s.prototype,n.m=function(){if(A(this))return-R(this).m();for(var T=0,_=1,I=0;I<this.g.length;I++){var D=this.i(I);T+=(0<=D?D:4294967296+D)*_,_*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(w(this))return"0";if(A(this))return"-"+R(this).toString(T);for(var _=l(Math.pow(T,6)),I=this,D="";;){var b=ge(I,_).g;I=k(I,b.j(_));var S=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=b,w(I))return S+D;for(;6>S.length;)S="0"+S;D=S+D}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function w(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function A(T){return T.h==-1}n.l=function(T){return T=k(this,T),A(T)?-1:w(T)?0:1};function R(T){for(var _=T.g.length,I=[],D=0;D<_;D++)I[D]=~T.g[D];return new s(I,~T.h).add(g)}n.abs=function(){return A(this)?R(this):this},n.add=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],D=0,b=0;b<=_;b++){var S=D+(this.i(b)&65535)+(T.i(b)&65535),E=(S>>>16)+(this.i(b)>>>16)+(T.i(b)>>>16);D=E>>>16,S&=65535,E&=65535,I[b]=E<<16|S}return new s(I,I[I.length-1]&-2147483648?-1:0)};function k(T,_){return T.add(R(_))}n.j=function(T){if(w(this)||w(T))return p;if(A(this))return A(T)?R(this).j(R(T)):R(R(this).j(T));if(A(T))return R(this.j(R(T)));if(0>this.l(m)&&0>T.l(m))return l(this.m()*T.m());for(var _=this.g.length+T.g.length,I=[],D=0;D<2*_;D++)I[D]=0;for(D=0;D<this.g.length;D++)for(var b=0;b<T.g.length;b++){var S=this.i(D)>>>16,E=this.i(D)&65535,or=T.i(b)>>>16,Ra=T.i(b)&65535;I[2*D+2*b]+=E*Ra,H(I,2*D+2*b),I[2*D+2*b+1]+=S*Ra,H(I,2*D+2*b+1),I[2*D+2*b+1]+=E*or,H(I,2*D+2*b+1),I[2*D+2*b+2]+=S*or,H(I,2*D+2*b+2)}for(D=0;D<_;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=_;D<2*_;D++)I[D]=0;return new s(I,0)};function H(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function z(T,_){this.g=T,this.h=_}function ge(T,_){if(w(_))throw Error("division by zero");if(w(T))return new z(p,p);if(A(T))return _=ge(R(T),_),new z(R(_.g),R(_.h));if(A(_))return _=ge(T,R(_)),new z(R(_.g),_.h);if(30<T.g.length){if(A(T)||A(_))throw Error("slowDivide_ only works with positive integers.");for(var I=g,D=_;0>=D.l(T);)I=$e(I),D=$e(D);var b=ve(I,1),S=ve(D,1);for(D=ve(D,2),I=ve(I,2);!w(D);){var E=S.add(D);0>=E.l(T)&&(b=b.add(I),S=E),D=ve(D,1),I=ve(I,1)}return _=k(T,b.j(_)),new z(b,_)}for(b=p;0<=T.l(_);){for(I=Math.max(1,Math.floor(T.m()/_.m())),D=Math.ceil(Math.log(I)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),S=l(I),E=S.j(_);A(E)||0<E.l(T);)I-=D,S=l(I),E=S.j(_);w(S)&&(S=g),b=b.add(S),T=k(T,E)}return new z(b,T)}n.A=function(T){return ge(this,T).h},n.and=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],D=0;D<_;D++)I[D]=this.i(D)&T.i(D);return new s(I,this.h&T.h)},n.or=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],D=0;D<_;D++)I[D]=this.i(D)|T.i(D);return new s(I,this.h|T.h)},n.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],D=0;D<_;D++)I[D]=this.i(D)^T.i(D);return new s(I,this.h^T.h)};function $e(T){for(var _=T.g.length+1,I=[],D=0;D<_;D++)I[D]=T.i(D)<<1|T.i(D-1)>>>31;return new s(I,T.h)}function ve(T,_){var I=_>>5;_%=32;for(var D=T.g.length-I,b=[],S=0;S<D;S++)b[S]=0<_?T.i(S+I)>>>_|T.i(S+I+1)<<32-_:T.i(S+I);return new s(b,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,SI=NP.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Nr=NP.Integer=s}).apply(typeof RP<"u"?RP:typeof self<"u"?self:typeof window<"u"?window:{});var np=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mr={};var AI,vG,oa,RI,Su,rp,NI,MI,PI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,d,f){return u==Array.prototype||u==Object.prototype||(u[d]=f.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof np=="object"&&np];for(var d=0;d<u.length;++d){var f=u[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(u,d){if(d)e:{var f=r;u=u.split(".");for(var y=0;y<u.length-1;y++){var C=u[y];if(!(C in f))break e;f=f[C]}u=u[u.length-1],y=f[u],d=d(y),d!=y&&d!=null&&e(f,u,{configurable:!0,writable:!0,value:d})}}function o(u,d){u instanceof String&&(u+="");var f=0,y=!1,C={next:function(){if(!y&&f<u.length){var N=f++;return{value:d(N,u[N]),done:!1}}return y=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(u){return u||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function c(u){var d=typeof u;return d=d!="object"?d:u?Array.isArray(u)?"array":d:"null",d=="array"||d=="object"&&typeof u.length=="number"}function l(u){var d=typeof u;return d=="object"&&u!=null||d=="function"}function h(u,d,f){return u.call.apply(u.bind,arguments)}function p(u,d,f){if(!u)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,y),u.apply(d,C)}}return function(){return u.apply(d,arguments)}}function g(u,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function m(u,d){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),u.apply(this,y)}}function w(u,d){function f(){}f.prototype=d.prototype,u.aa=d.prototype,u.prototype=new f,u.prototype.constructor=u,u.Qb=function(y,C,N){for(var F=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)F[Te-2]=arguments[Te];return d.prototype[C].apply(y,F)}}function A(u){let d=u.length;if(0<d){let f=Array(d);for(let y=0;y<d;y++)f[y]=u[y];return f}return[]}function R(u,d){for(let f=1;f<arguments.length;f++){let y=arguments[f];if(c(y)){let C=u.length||0,N=y.length||0;u.length=C+N;for(let F=0;F<N;F++)u[C+F]=y[F]}else u.push(y)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function H(u){return/^[\s\xa0]*$/.test(u)}function z(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function ge(u){return ge[" "](u),u}ge[" "]=function(){};var $e=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function ve(u,d,f){for(let y in u)d.call(f,u[y],y,u)}function T(u,d){for(let f in u)d.call(void 0,u[f],f,u)}function _(u){let d={};for(let f in u)d[f]=u[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,d){let f,y;for(let C=1;C<arguments.length;C++){y=arguments[C];for(f in y)u[f]=y[f];for(let N=0;N<I.length;N++)f=I[N],Object.prototype.hasOwnProperty.call(y,f)&&(u[f]=y[f])}}function b(u){var d=1;u=u.split(":");let f=[];for(;0<d&&u.length;)f.push(u.shift()),d--;return u.length&&f.push(u.join(":")),f}function S(u){a.setTimeout(()=>{throw u},0)}function E(){var u=fg;let d=null;return u.g&&(d=u.g,u.g=u.g.next,u.g||(u.h=null),d.next=null),d}class or{constructor(){this.h=this.g=null}add(d,f){let y=Ra.get();y.set(d,f),this.h?this.h.next=y:this.g=y,this.h=y}}var Ra=new k(()=>new gO,u=>u.reset());class gO{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Na,Ma=!1,fg=new or,ZD=()=>{let u=a.Promise.resolve(void 0);Na=()=>{u.then(mO)}};var mO=()=>{for(var u;u=E();){try{u.h.call(u.g)}catch(f){S(f)}var d=Ra;d.j(u),100>d.h&&(d.h++,u.next=d.g,d.g=u)}Ma=!1};function Lr(){this.s=this.s,this.C=this.C}Lr.prototype.s=!1,Lr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Lr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(u,d){this.type=u,this.g=this.target=d,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var yO=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,d=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return u}();function Pa(u,d){if(ut.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var f=this.type=u.type,y=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=d,d=u.relatedTarget){if($e){e:{try{ge(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=u.fromElement:f=="mouseout"&&(d=u.toElement);this.relatedTarget=d,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vO[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Pa.aa.h.call(this)}}w(Pa,ut);var vO={2:"touch",3:"pen",4:"mouse"};Pa.prototype.h=function(){Pa.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var xa="closure_listenable_"+(1e6*Math.random()|0),_O=0;function EO(u,d,f,y,C){this.listener=u,this.proxy=null,this.src=d,this.type=f,this.capture=!!y,this.ha=C,this.key=++_O,this.da=this.fa=!1}function el(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function tl(u){this.src=u,this.g={},this.h=0}tl.prototype.add=function(u,d,f,y,C){var N=u.toString();u=this.g[N],u||(u=this.g[N]=[],this.h++);var F=gg(u,d,y,C);return-1<F?(d=u[F],f||(d.fa=!1)):(d=new EO(d,this.src,N,!!y,C),d.fa=f,u.push(d)),d};function pg(u,d){var f=d.type;if(f in u.g){var y=u.g[f],C=Array.prototype.indexOf.call(y,d,void 0),N;(N=0<=C)&&Array.prototype.splice.call(y,C,1),N&&(el(d),u.g[f].length==0&&(delete u.g[f],u.h--))}}function gg(u,d,f,y){for(var C=0;C<u.length;++C){var N=u[C];if(!N.da&&N.listener==d&&N.capture==!!f&&N.ha==y)return C}return-1}var mg="closure_lm_"+(1e6*Math.random()|0),yg={};function JD(u,d,f,y,C){if(y&&y.once)return eT(u,d,f,y,C);if(Array.isArray(d)){for(var N=0;N<d.length;N++)JD(u,d[N],f,y,C);return null}return f=Ig(f),u&&u[xa]?u.K(d,f,l(y)?!!y.capture:!!y,C):XD(u,d,f,!1,y,C)}function XD(u,d,f,y,C,N){if(!d)throw Error("Invalid event type");var F=l(C)?!!C.capture:!!C,Te=_g(u);if(Te||(u[mg]=Te=new tl(u)),f=Te.add(d,f,y,F,N),f.proxy)return f;if(y=IO(),f.proxy=y,y.src=u,y.listener=f,u.addEventListener)yO||(C=F),C===void 0&&(C=!1),u.addEventListener(d.toString(),y,C);else if(u.attachEvent)u.attachEvent(nT(d.toString()),y);else if(u.addListener&&u.removeListener)u.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function IO(){function u(f){return d.call(u.src,u.listener,f)}let d=wO;return u}function eT(u,d,f,y,C){if(Array.isArray(d)){for(var N=0;N<d.length;N++)eT(u,d[N],f,y,C);return null}return f=Ig(f),u&&u[xa]?u.L(d,f,l(y)?!!y.capture:!!y,C):XD(u,d,f,!0,y,C)}function tT(u,d,f,y,C){if(Array.isArray(d))for(var N=0;N<d.length;N++)tT(u,d[N],f,y,C);else y=l(y)?!!y.capture:!!y,f=Ig(f),u&&u[xa]?(u=u.i,d=String(d).toString(),d in u.g&&(N=u.g[d],f=gg(N,f,y,C),-1<f&&(el(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete u.g[d],u.h--)))):u&&(u=_g(u))&&(d=u.g[d.toString()],u=-1,d&&(u=gg(d,f,y,C)),(f=-1<u?d[u]:null)&&vg(f))}function vg(u){if(typeof u!="number"&&u&&!u.da){var d=u.src;if(d&&d[xa])pg(d.i,u);else{var f=u.type,y=u.proxy;d.removeEventListener?d.removeEventListener(f,y,u.capture):d.detachEvent?d.detachEvent(nT(f),y):d.addListener&&d.removeListener&&d.removeListener(y),(f=_g(d))?(pg(f,u),f.h==0&&(f.src=null,d[mg]=null)):el(u)}}}function nT(u){return u in yg?yg[u]:yg[u]="on"+u}function wO(u,d){if(u.da)u=!0;else{d=new Pa(d,this);var f=u.listener,y=u.ha||u.src;u.fa&&vg(u),u=f.call(y,d)}return u}function _g(u){return u=u[mg],u instanceof tl?u:null}var Eg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ig(u){return typeof u=="function"?u:(u[Eg]||(u[Eg]=function(d){return u.handleEvent(d)}),u[Eg])}function lt(){Lr.call(this),this.i=new tl(this),this.M=this,this.F=null}w(lt,Lr),lt.prototype[xa]=!0,lt.prototype.removeEventListener=function(u,d,f,y){tT(this,u,d,f,y)};function wt(u,d){var f,y=u.F;if(y)for(f=[];y;y=y.F)f.push(y);if(u=u.M,y=d.type||d,typeof d=="string")d=new ut(d,u);else if(d instanceof ut)d.target=d.target||u;else{var C=d;d=new ut(y,u),D(d,C)}if(C=!0,f)for(var N=f.length-1;0<=N;N--){var F=d.g=f[N];C=nl(F,y,!0,d)&&C}if(F=d.g=u,C=nl(F,y,!0,d)&&C,C=nl(F,y,!1,d)&&C,f)for(N=0;N<f.length;N++)F=d.g=f[N],C=nl(F,y,!1,d)&&C}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var u=this.i,d;for(d in u.g){for(var f=u.g[d],y=0;y<f.length;y++)el(f[y]);delete u.g[d],u.h--}}this.F=null},lt.prototype.K=function(u,d,f,y){return this.i.add(String(u),d,!1,f,y)},lt.prototype.L=function(u,d,f,y){return this.i.add(String(u),d,!0,f,y)};function nl(u,d,f,y){if(d=u.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,N=0;N<d.length;++N){var F=d[N];if(F&&!F.da&&F.capture==f){var Te=F.listener,ot=F.ha||F.src;F.fa&&pg(u.i,F),C=Te.call(ot,y)!==!1&&C}}return C&&!y.defaultPrevented}function rT(u,d,f){if(typeof u=="function")f&&(u=g(u,f));else if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(u,d||0)}function iT(u){u.g=rT(()=>{u.g=null,u.i&&(u.i=!1,iT(u))},u.l);let d=u.h;u.h=null,u.m.apply(null,d)}class DO extends Lr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:iT(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ka(u){Lr.call(this),this.h=u,this.g={}}w(ka,Lr);var oT=[];function sT(u){ve(u.g,function(d,f){this.g.hasOwnProperty(f)&&vg(d)},u),u.g={}}ka.prototype.N=function(){ka.aa.N.call(this),sT(this)},ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wg=a.JSON.stringify,TO=a.JSON.parse,bO=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Dg(){}Dg.prototype.h=null;function aT(u){return u.h||(u.h=u.i())}function cT(){}var Oa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tg(){ut.call(this,"d")}w(Tg,ut);function bg(){ut.call(this,"c")}w(bg,ut);var Ai={},uT=null;function rl(){return uT=uT||new lt}Ai.La="serverreachability";function lT(u){ut.call(this,Ai.La,u)}w(lT,ut);function Fa(u){let d=rl();wt(d,new lT(d))}Ai.STAT_EVENT="statevent";function dT(u,d){ut.call(this,Ai.STAT_EVENT,u),this.stat=d}w(dT,ut);function Dt(u){let d=rl();wt(d,new dT(d,u))}Ai.Ma="timingevent";function hT(u,d){ut.call(this,Ai.Ma,u),this.size=d}w(hT,ut);function La(u,d){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},d)}function Va(){this.g=!0}Va.prototype.xa=function(){this.g=!1};function CO(u,d,f,y,C,N){u.info(function(){if(u.g)if(N)for(var F="",Te=N.split("&"),ot=0;ot<Te.length;ot++){var ye=Te[ot].split("=");if(1<ye.length){var dt=ye[0];ye=ye[1];var ht=dt.split("_");F=2<=ht.length&&ht[1]=="type"?F+(dt+"="+ye+"&"):F+(dt+"=redacted&")}}else F=null;else F=N;return"XMLHTTP REQ ("+y+") [attempt "+C+"]: "+d+`
`+f+`
`+F})}function SO(u,d,f,y,C,N,F){u.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+C+"]: "+d+`
`+f+`
`+N+" "+F})}function jo(u,d,f,y){u.info(function(){return"XMLHTTP TEXT ("+d+"): "+RO(u,f)+(y?" "+y:"")})}function AO(u,d){u.info(function(){return"TIMEOUT: "+d})}Va.prototype.info=function(){};function RO(u,d){if(!u.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(u=0;u<f.length;u++)if(Array.isArray(f[u])){var y=f[u];if(!(2>y.length)){var C=y[1];if(Array.isArray(C)&&!(1>C.length)){var N=C[0];if(N!="noop"&&N!="stop"&&N!="close")for(var F=1;F<C.length;F++)C[F]=""}}}}return wg(f)}catch{return d}}var il={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cg;function ol(){}w(ol,Dg),ol.prototype.g=function(){return new XMLHttpRequest},ol.prototype.i=function(){return{}},Cg=new ol;function Vr(u,d,f,y){this.j=u,this.i=d,this.l=f,this.R=y||1,this.U=new ka(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pT}function pT(){this.i=null,this.g="",this.h=!1}var gT={},Sg={};function Ag(u,d,f){u.L=1,u.v=ul(sr(d)),u.m=f,u.P=!0,mT(u,null)}function mT(u,d){u.F=Date.now(),sl(u),u.A=sr(u.v);var f=u.A,y=u.R;Array.isArray(y)||(y=[String(y)]),NT(f.i,"t",y),u.C=0,f=u.j.J,u.h=new pT,u.g=KT(u.j,f?d:null,!u.m),0<u.O&&(u.M=new DO(g(u.Y,u,u.g),u.O)),d=u.U,f=u.g,y=u.ca;var C="readystatechange";Array.isArray(C)||(C&&(oT[0]=C.toString()),C=oT);for(var N=0;N<C.length;N++){var F=JD(f,C[N],y||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=u.H?_(u.H):{},u.m?(u.u||(u.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,d)):(u.u="GET",u.g.ea(u.A,u.u,null,d)),Fa(),CO(u.i,u.u,u.A,u.l,u.R,u.m)}Vr.prototype.ca=function(u){u=u.target;let d=this.M;d&&ar(u)==3?d.j():this.Y(u)},Vr.prototype.Y=function(u){try{if(u==this.g)e:{let ht=ar(this.g);var d=this.g.Ba();let $o=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||LT(this.g)))){this.J||ht!=4||d==7||(d==8||0>=$o?Fa(3):Fa(2)),Rg(this);var f=this.g.Z();this.X=f;t:if(yT(this)){var y=LT(this.g);u="";var C=y.length,N=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ri(this),ja(this);var F="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,u+=this.h.i.decode(y[d],{stream:!(N&&d==C-1)});y.length=0,this.h.g+=u,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,SO(this.i,this.u,this.A,this.l,this.R,ht,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Te,ot=this.g;if((Te=ot.g?ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Te)){var ye=Te;break t}}ye=null}if(f=ye)jo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ng(this,f);else{this.o=!1,this.s=3,Dt(12),Ri(this),ja(this);break e}}if(this.P){f=!0;let un;for(;!this.J&&this.C<F.length;)if(un=NO(this,F),un==Sg){ht==4&&(this.s=4,Dt(14),f=!1),jo(this.i,this.l,null,"[Incomplete Response]");break}else if(un==gT){this.s=4,Dt(15),jo(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else jo(this.i,this.l,un,null),Ng(this,un);if(yT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||F.length!=0||this.h.h||(this.s=1,Dt(16),f=!1),this.o=this.o&&f,!f)jo(this.i,this.l,F,"[Invalid Chunked Response]"),Ri(this),ja(this);else if(0<F.length&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.ba&&!dt.M&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),Fg(dt),dt.M=!0,Dt(11))}}else jo(this.i,this.l,F,null),Ng(this,F);ht==4&&Ri(this),this.o&&!this.J&&(ht==4?zT(this.j,this):(this.o=!1,sl(this)))}else WO(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),Ri(this),ja(this)}}}catch{}finally{}};function yT(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function NO(u,d){var f=u.C,y=d.indexOf(`
`,f);return y==-1?Sg:(f=Number(d.substring(f,y)),isNaN(f)?gT:(y+=1,y+f>d.length?Sg:(d=d.slice(y,y+f),u.C=y+f,d)))}Vr.prototype.cancel=function(){this.J=!0,Ri(this)};function sl(u){u.S=Date.now()+u.I,vT(u,u.I)}function vT(u,d){if(u.B!=null)throw Error("WatchDog timer not null");u.B=La(g(u.ba,u),d)}function Rg(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Vr.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(AO(this.i,this.A),this.L!=2&&(Fa(),Dt(17)),Ri(this),this.s=2,ja(this)):vT(this,this.S-u)};function ja(u){u.j.G==0||u.J||zT(u.j,u)}function Ri(u){Rg(u);var d=u.M;d&&typeof d.ma=="function"&&d.ma(),u.M=null,sT(u.U),u.g&&(d=u.g,u.g=null,d.abort(),d.ma())}function Ng(u,d){try{var f=u.j;if(f.G!=0&&(f.g==u||Mg(f.h,u))){if(!u.K&&Mg(f.h,u)&&f.G==3){try{var y=f.Da.g.parse(d)}catch{y=null}if(Array.isArray(y)&&y.length==3){var C=y;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<u.F)pl(f),hl(f);else break e;Og(f),Dt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=La(g(f.Za,f),6e3));if(1>=IT(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Mi(f,11)}else if((u.K||f.g==u)&&pl(f),!H(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let ye=C[d];if(f.T=ye[0],ye=ye[1],f.G==2)if(ye[0]=="c"){f.K=ye[1],f.ia=ye[2];let dt=ye[3];dt!=null&&(f.la=dt,f.j.info("VER="+f.la));let ht=ye[4];ht!=null&&(f.Aa=ht,f.j.info("SVER="+f.Aa));let $o=ye[5];$o!=null&&typeof $o=="number"&&0<$o&&(y=1.5*$o,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;let un=u.g;if(un){let ml=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ml){var N=y.h;N.g||ml.indexOf("spdy")==-1&&ml.indexOf("quic")==-1&&ml.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Pg(N,N.h),N.h=null))}if(y.D){let Lg=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;Lg&&(y.ya=Lg,Ce(y.I,y.D,Lg))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-u.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var F=u;if(y.qa=WT(y,y.J?y.ia:null,y.W),F.K){wT(y.h,F);var Te=F,ot=y.L;ot&&(Te.I=ot),Te.B&&(Rg(Te),sl(Te)),y.g=F}else $T(y);0<f.i.length&&fl(f)}else ye[0]!="stop"&&ye[0]!="close"||Mi(f,7);else f.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Mi(f,7):kg(f):ye[0]!="noop"&&f.l&&f.l.ta(ye),f.v=0)}}Fa(4)}catch{}}var MO=class{constructor(u,d){this.g=u,this.map=d}};function _T(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ET(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function IT(u){return u.h?1:u.g?u.g.size:0}function Mg(u,d){return u.h?u.h==d:u.g?u.g.has(d):!1}function Pg(u,d){u.g?u.g.add(d):u.h=d}function wT(u,d){u.h&&u.h==d?u.h=null:u.g&&u.g.has(d)&&u.g.delete(d)}_T.prototype.cancel=function(){if(this.i=DT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function DT(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let d=u.i;for(let f of u.g.values())d=d.concat(f.D);return d}return A(u.i)}function PO(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var d=[],f=u.length,y=0;y<f;y++)d.push(u[y]);return d}d=[],f=0;for(y in u)d[f++]=u[y];return d}function xO(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var d=[];u=u.length;for(var f=0;f<u;f++)d.push(f);return d}d=[],f=0;for(let y in u)d[f++]=y;return d}}}function TT(u,d){if(u.forEach&&typeof u.forEach=="function")u.forEach(d,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,d,void 0);else for(var f=xO(u),y=PO(u),C=y.length,N=0;N<C;N++)d.call(void 0,y[N],f&&f[N],u)}var bT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kO(u,d){if(u){u=u.split("&");for(var f=0;f<u.length;f++){var y=u[f].indexOf("="),C=null;if(0<=y){var N=u[f].substring(0,y);C=u[f].substring(y+1)}else N=u[f];d(N,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Ni(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ni){this.h=u.h,al(this,u.j),this.o=u.o,this.g=u.g,cl(this,u.s),this.l=u.l;var d=u.i,f=new $a;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),CT(this,f),this.m=u.m}else u&&(d=String(u).match(bT))?(this.h=!1,al(this,d[1]||"",!0),this.o=Ua(d[2]||""),this.g=Ua(d[3]||"",!0),cl(this,d[4]),this.l=Ua(d[5]||"",!0),CT(this,d[6]||"",!0),this.m=Ua(d[7]||"")):(this.h=!1,this.i=new $a(null,this.h))}Ni.prototype.toString=function(){var u=[],d=this.j;d&&u.push(Ba(d,ST,!0),":");var f=this.g;return(f||d=="file")&&(u.push("//"),(d=this.o)&&u.push(Ba(d,ST,!0),"@"),u.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&u.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&u.push("/"),u.push(Ba(f,f.charAt(0)=="/"?LO:FO,!0))),(f=this.i.toString())&&u.push("?",f),(f=this.m)&&u.push("#",Ba(f,jO)),u.join("")};function sr(u){return new Ni(u)}function al(u,d,f){u.j=f?Ua(d,!0):d,u.j&&(u.j=u.j.replace(/:$/,""))}function cl(u,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);u.s=d}else u.s=null}function CT(u,d,f){d instanceof $a?(u.i=d,UO(u.i,u.h)):(f||(d=Ba(d,VO)),u.i=new $a(d,u.h))}function Ce(u,d,f){u.i.set(d,f)}function ul(u){return Ce(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ua(u,d){return u?d?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ba(u,d,f){return typeof u=="string"?(u=encodeURI(u).replace(d,OO),f&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function OO(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ST=/[#\/\?@]/g,FO=/[#\?:]/g,LO=/[#\?]/g,VO=/[#\?@]/g,jO=/#/g;function $a(u,d){this.h=this.g=null,this.i=u||null,this.j=!!d}function jr(u){u.g||(u.g=new Map,u.h=0,u.i&&kO(u.i,function(d,f){u.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=$a.prototype,n.add=function(u,d){jr(this),this.i=null,u=Uo(this,u);var f=this.g.get(u);return f||this.g.set(u,f=[]),f.push(d),this.h+=1,this};function AT(u,d){jr(u),d=Uo(u,d),u.g.has(d)&&(u.i=null,u.h-=u.g.get(d).length,u.g.delete(d))}function RT(u,d){return jr(u),d=Uo(u,d),u.g.has(d)}n.forEach=function(u,d){jr(this),this.g.forEach(function(f,y){f.forEach(function(C){u.call(d,C,y,this)},this)},this)},n.na=function(){jr(this);let u=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let y=0;y<d.length;y++){let C=u[y];for(let N=0;N<C.length;N++)f.push(d[y])}return f},n.V=function(u){jr(this);let d=[];if(typeof u=="string")RT(this,u)&&(d=d.concat(this.g.get(Uo(this,u))));else{u=Array.from(this.g.values());for(let f=0;f<u.length;f++)d=d.concat(u[f])}return d},n.set=function(u,d){return jr(this),this.i=null,u=Uo(this,u),RT(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[d]),this.h+=1,this},n.get=function(u,d){return u?(u=this.V(u),0<u.length?String(u[0]):d):d};function NT(u,d,f){AT(u,d),0<f.length&&(u.i=null,u.g.set(Uo(u,d),A(f)),u.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var y=d[f];let N=encodeURIComponent(String(y)),F=this.V(y);for(y=0;y<F.length;y++){var C=N;F[y]!==""&&(C+="="+encodeURIComponent(String(F[y]))),u.push(C)}}return this.i=u.join("&")};function Uo(u,d){return d=String(d),u.j&&(d=d.toLowerCase()),d}function UO(u,d){d&&!u.j&&(jr(u),u.i=null,u.g.forEach(function(f,y){var C=y.toLowerCase();y!=C&&(AT(this,y),NT(this,C,f))},u)),u.j=d}function BO(u,d){let f=new Va;if(a.Image){let y=new Image;y.onload=m(Ur,f,"TestLoadImage: loaded",!0,d,y),y.onerror=m(Ur,f,"TestLoadImage: error",!1,d,y),y.onabort=m(Ur,f,"TestLoadImage: abort",!1,d,y),y.ontimeout=m(Ur,f,"TestLoadImage: timeout",!1,d,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=u}else d(!1)}function $O(u,d){let f=new Va,y=new AbortController,C=setTimeout(()=>{y.abort(),Ur(f,"TestPingServer: timeout",!1,d)},1e4);fetch(u,{signal:y.signal}).then(N=>{clearTimeout(C),N.ok?Ur(f,"TestPingServer: ok",!0,d):Ur(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Ur(f,"TestPingServer: error",!1,d)})}function Ur(u,d,f,y,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),y(f)}catch{}}function HO(){this.g=new bO}function zO(u,d,f){let y=f||"";try{TT(u,function(C,N){let F=C;l(C)&&(F=wg(C)),d.push(y+N+"="+encodeURIComponent(F))})}catch(C){throw d.push(y+"type="+encodeURIComponent("_badmap")),C}}function Ha(u){this.l=u.Ub||null,this.j=u.eb||!1}w(Ha,Dg),Ha.prototype.g=function(){return new ll(this.l,this.j)},Ha.prototype.i=function(u){return function(){return u}}({});function ll(u,d){lt.call(this),this.D=u,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(ll,lt),n=ll.prototype,n.open=function(u,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=d,this.readyState=1,qa(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(d.body=u),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,za(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qa(this)),this.g&&(this.readyState=3,qa(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;MT(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function MT(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var d=u.value?u.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!u.done}))&&(this.response=this.responseText+=d)}u.done?za(this):qa(this),this.readyState==3&&MT(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,za(this))},n.Qa=function(u){this.g&&(this.response=u,za(this))},n.ga=function(){this.g&&za(this)};function za(u){u.readyState=4,u.l=null,u.j=null,u.v=null,qa(u)}n.setRequestHeader=function(u,d){this.u.append(u,d)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,u.push(f[0]+": "+f[1]),f=d.next();return u.join(`\r
`)};function qa(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ll.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function PT(u){let d="";return ve(u,function(f,y){d+=y,d+=":",d+=f,d+=`\r
`}),d}function xg(u,d,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=PT(f),typeof u=="string"?f!=null&&encodeURIComponent(String(f)):Ce(u,d,f))}function Oe(u){lt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Oe,lt);var qO=/^https?$/i,GO=["POST","PUT"];n=Oe.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,d,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);d=d?d.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cg.g(),this.v=this.o?aT(this.o):aT(Cg),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(u),!0),this.B=!1}catch(N){xT(this,N);return}if(u=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var C in y)f.set(C,y[C]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let N of y.keys())f.set(N,y.get(N));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),C=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(GO,d,void 0))||y||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,F]of f)this.g.setRequestHeader(N,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{FT(this),this.u=!0,this.g.send(u),this.u=!1}catch(N){xT(this,N)}};function xT(u,d){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=d,u.m=5,kT(u),dl(u)}function kT(u){u.A||(u.A=!0,wt(u,"complete"),wt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,wt(this,"complete"),wt(this,"abort"),dl(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dl(this,!0)),Oe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?OT(this):this.bb())},n.bb=function(){OT(this)};function OT(u){if(u.h&&typeof s<"u"&&(!u.v[1]||ar(u)!=4||u.Z()!=2)){if(u.u&&ar(u)==4)rT(u.Ea,0,u);else if(wt(u,"readystatechange"),ar(u)==4){u.h=!1;try{let F=u.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var y;if(y=F===0){var C=String(u.D).match(bT)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),y=!qO.test(C?C.toLowerCase():"")}f=y}if(f)wt(u,"complete"),wt(u,"success");else{u.m=6;try{var N=2<ar(u)?u.g.statusText:""}catch{N=""}u.l=N+" ["+u.Z()+"]",kT(u)}}finally{dl(u)}}}}function dl(u,d){if(u.g){FT(u);let f=u.g,y=u.v[0]?()=>{}:null;u.g=null,u.v=null,d||wt(u,"ready");try{f.onreadystatechange=y}catch{}}}function FT(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function ar(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var d=this.g.responseText;return u&&d.indexOf(u)==0&&(d=d.substring(u.length)),TO(d)}};function LT(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function WO(u){let d={};u=(u.g&&2<=ar(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<u.length;y++){if(H(u[y]))continue;var f=b(u[y]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=d[C]||[];d[C]=N,N.push(f)}T(d,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ga(u,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[u]||d}function VT(u){this.Aa=0,this.i=[],this.j=new Va,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ga("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ga("baseRetryDelayMs",5e3,u),this.cb=Ga("retryDelaySeedMs",1e4,u),this.Wa=Ga("forwardChannelMaxRetries",2,u),this.wa=Ga("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new _T(u&&u.concurrentRequestLimit),this.Da=new HO,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=VT.prototype,n.la=8,n.G=1,n.connect=function(u,d,f,y){Dt(0),this.W=u,this.H=d||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=WT(this,null,this.W),fl(this)};function kg(u){if(jT(u),u.G==3){var d=u.U++,f=sr(u.I);if(Ce(f,"SID",u.K),Ce(f,"RID",d),Ce(f,"TYPE","terminate"),Wa(u,f),d=new Vr(u,u.j,d),d.L=2,d.v=ul(sr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=KT(d.j,null),d.g.ea(d.v)),d.F=Date.now(),sl(d)}GT(u)}function hl(u){u.g&&(Fg(u),u.g.cancel(),u.g=null)}function jT(u){hl(u),u.u&&(a.clearTimeout(u.u),u.u=null),pl(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function fl(u){if(!ET(u.h)&&!u.s){u.s=!0;var d=u.Ga;Na||ZD(),Ma||(Na(),Ma=!0),fg.add(d,u),u.B=0}}function KO(u,d){return IT(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=d.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=La(g(u.Ga,u,d),qT(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let C=new Vr(this,this.j,u),N=this.o;if(this.S&&(N?(N=_(N),D(N,this.S)):N=this.S),this.m!==null||this.O||(C.H=N,N=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(d+=y,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=BT(this,C,d),f=sr(this.I),Ce(f,"RID",u),Ce(f,"CVER",22),this.D&&Ce(f,"X-HTTP-Session-Id",this.D),Wa(this,f),N&&(this.O?d="headers="+encodeURIComponent(String(PT(N)))+"&"+d:this.m&&xg(f,this.m,N)),Pg(this.h,C),this.Ua&&Ce(f,"TYPE","init"),this.P?(Ce(f,"$req",d),Ce(f,"SID","null"),C.T=!0,Ag(C,f,null)):Ag(C,f,d),this.G=2}}else this.G==3&&(u?UT(this,u):this.i.length==0||ET(this.h)||UT(this))};function UT(u,d){var f;d?f=d.l:f=u.U++;let y=sr(u.I);Ce(y,"SID",u.K),Ce(y,"RID",f),Ce(y,"AID",u.T),Wa(u,y),u.m&&u.o&&xg(y,u.m,u.o),f=new Vr(u,u.j,f,u.B+1),u.m===null&&(f.H=u.o),d&&(u.i=d.D.concat(u.i)),d=BT(u,f,1e3),f.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Pg(u.h,f),Ag(f,y,d)}function Wa(u,d){u.H&&ve(u.H,function(f,y){Ce(d,y,f)}),u.l&&TT({},function(f,y){Ce(d,y,f)})}function BT(u,d,f){f=Math.min(u.i.length,f);var y=u.l?g(u.l.Na,u.l,u):null;e:{var C=u.i;let N=-1;for(;;){let F=["count="+f];N==-1?0<f?(N=C[0].g,F.push("ofs="+N)):N=0:F.push("ofs="+N);let Te=!0;for(let ot=0;ot<f;ot++){let ye=C[ot].g,dt=C[ot].map;if(ye-=N,0>ye)N=Math.max(0,C[ot].g-100),Te=!1;else try{zO(dt,F,"req"+ye+"_")}catch{y&&y(dt)}}if(Te){y=F.join("&");break e}}}return u=u.i.splice(0,f),d.D=u,y}function $T(u){if(!u.g&&!u.u){u.Y=1;var d=u.Fa;Na||ZD(),Ma||(Na(),Ma=!0),fg.add(d,u),u.v=0}}function Og(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=La(g(u.Fa,u),qT(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,HT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=La(g(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),hl(this),HT(this))};function Fg(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function HT(u){u.g=new Vr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var d=sr(u.qa);Ce(d,"RID","rpc"),Ce(d,"SID",u.K),Ce(d,"AID",u.T),Ce(d,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ce(d,"TO",u.ja),Ce(d,"TYPE","xmlhttp"),Wa(u,d),u.m&&u.o&&xg(d,u.m,u.o),u.L&&(u.g.I=u.L);var f=u.g;u=u.ia,f.L=1,f.v=ul(sr(d)),f.m=null,f.P=!0,mT(f,u)}n.Za=function(){this.C!=null&&(this.C=null,hl(this),Og(this),Dt(19))};function pl(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function zT(u,d){var f=null;if(u.g==d){pl(u),Fg(u),u.g=null;var y=2}else if(Mg(u.h,d))f=d.D,wT(u.h,d),y=1;else return;if(u.G!=0){if(d.o)if(y==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=u.B;y=rl(),wt(y,new hT(y,f)),fl(u)}else $T(u);else if(C=d.s,C==3||C==0&&0<d.X||!(y==1&&KO(u,d)||y==2&&Og(u)))switch(f&&0<f.length&&(d=u.h,d.i=d.i.concat(f)),C){case 1:Mi(u,5);break;case 4:Mi(u,10);break;case 3:Mi(u,6);break;default:Mi(u,2)}}}function qT(u,d){let f=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(f*=2),f*d}function Mi(u,d){if(u.j.info("Error code "+d),d==2){var f=g(u.fb,u),y=u.Xa;let C=!y;y=new Ni(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||al(y,"https"),ul(y),C?BO(y.toString(),f):$O(y.toString(),f)}else Dt(2);u.G=0,u.l&&u.l.sa(d),GT(u),jT(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function GT(u){if(u.G=0,u.ka=[],u.l){let d=DT(u.h);(d.length!=0||u.i.length!=0)&&(R(u.ka,d),R(u.ka,u.i),u.h.i.length=0,A(u.i),u.i.length=0),u.l.ra()}}function WT(u,d,f){var y=f instanceof Ni?sr(f):new Ni(f);if(y.g!="")d&&(y.g=d+"."+y.g),cl(y,y.s);else{var C=a.location;y=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var N=new Ni(null);y&&al(N,y),d&&(N.g=d),C&&cl(N,C),f&&(N.l=f),y=N}return f=u.D,d=u.ya,f&&d&&Ce(y,f,d),Ce(y,"VER",u.la),Wa(u,y),y}function KT(u,d,f){if(d&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=u.Ca&&!u.pa?new Oe(new Ha({eb:f})):new Oe(u.pa),d.Ha(u.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function QT(){}n=QT.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function gl(){}gl.prototype.g=function(u,d){return new $t(u,d)};function $t(u,d){lt.call(this),this.g=new VT(d),this.l=u,this.h=d&&d.messageUrlParams||null,u=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(u?u["X-WebChannel-Content-Type"]=d.messageContentType:u={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(u?u["X-WebChannel-Client-Profile"]=d.va:u={"X-WebChannel-Client-Profile":d.va}),this.g.S=u,(u=d&&d.Sb)&&!H(u)&&(this.g.m=u),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!H(d)&&(this.g.D=d,u=this.h,u!==null&&d in u&&(u=this.h,d in u&&delete u[d])),this.j=new Bo(this)}w($t,lt),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){kg(this.g)},$t.prototype.o=function(u){var d=this.g;if(typeof u=="string"){var f={};f.__data__=u,u=f}else this.u&&(f={},f.__data__=wg(u),u=f);d.i.push(new MO(d.Ya++,u)),d.G==3&&fl(d)},$t.prototype.N=function(){this.g.l=null,delete this.j,kg(this.g),delete this.g,$t.aa.N.call(this)};function YT(u){Tg.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var d=u.__sm__;if(d){e:{for(let f in d){u=f;break e}u=void 0}(this.i=u)&&(u=this.i,d=d!==null&&u in d?d[u]:void 0),this.data=d}else this.data=u}w(YT,Tg);function ZT(){bg.call(this),this.status=1}w(ZT,bg);function Bo(u){this.g=u}w(Bo,QT),Bo.prototype.ua=function(){wt(this.g,"a")},Bo.prototype.ta=function(u){wt(this.g,new YT(u))},Bo.prototype.sa=function(u){wt(this.g,new ZT)},Bo.prototype.ra=function(){wt(this.g,"b")},gl.prototype.createWebChannel=gl.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,PI=Mr.createWebChannelTransport=function(){return new gl},MI=Mr.getStatEventTarget=function(){return rl()},NI=Mr.Event=Ai,rp=Mr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},il.NO_ERROR=0,il.TIMEOUT=8,il.HTTP_ERROR=6,Su=Mr.ErrorCode=il,fT.COMPLETE="complete",RI=Mr.EventType=fT,cT.EventType=Oa,Oa.OPEN="a",Oa.CLOSE="b",Oa.ERROR="c",Oa.MESSAGE="d",lt.prototype.listen=lt.prototype.K,oa=Mr.WebChannel=cT,vG=Mr.FetchXmlHttpFactory=Ha,Oe.prototype.listenOnce=Oe.prototype.L,Oe.prototype.getLastError=Oe.prototype.Ka,Oe.prototype.getLastErrorCode=Oe.prototype.Ba,Oe.prototype.getStatus=Oe.prototype.Z,Oe.prototype.getResponseJson=Oe.prototype.Oa,Oe.prototype.getResponseText=Oe.prototype.oa,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Ha,AI=Mr.XhrIo=Oe}).apply(typeof np<"u"?np:typeof self<"u"?self:typeof window<"u"?window:{});var MP="@firebase/firestore",PP="4.7.17";var rt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};rt.UNAUTHENTICATED=new rt(null),rt.GOOGLE_CREDENTIALS=new rt("google-credentials-uid"),rt.FIRST_PARTY=new rt("first-party-uid"),rt.MOCK_USER=new rt("mock-user");var ba="11.9.0";var bo=new Yn("@firebase/firestore");function sa(){return bo.logLevel}function B(n,...e){if(bo.logLevel<=fe.DEBUG){let t=e.map(wD);bo.debug(`Firestore (${ba}): ${n}`,...t)}}function Pr(n,...e){if(bo.logLevel<=fe.ERROR){let t=e.map(wD);bo.error(`Firestore (${ba}): ${n}`,...t)}}function fa(n,...e){if(bo.logLevel<=fe.WARN){let t=e.map(wD);bo.warn(`Firestore (${ba}): ${n}`,...t)}}function wD(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Q(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Tx(n,r,t)}function Tx(n,e,t){let r=`FIRESTORE (${ba}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Pr(r),new Error(r)}function Ie(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||Tx(e,i,r)}function J(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=class extends Yt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Cn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var lp=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},LI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(rt.UNAUTHENTICATED))}shutdown(){}},VI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},jI=class{constructor(e){this.t=e,this.currentUser=rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ie(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new Cn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Cn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>v(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Cn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string",31837,{l:r}),new lp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string",2055,{h:e}),new rt(e)}},UI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=rt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},BI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new UI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},dp=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},$I=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ie(this.o===void 0,3512);let r=o=>{o.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,B("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new dp(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ie(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new dp(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function _G(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function bx(){return new TextEncoder}var hp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=_G(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function de(n,e){return n<e?-1:n>e?1:0}function HI(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return de(r,i);{let o=bx(),s=EG(o.encode(xP(n,t)),o.encode(xP(e,t)));return s!==0?s:de(r,i)}}t+=r>65535?2:1}return de(n.length,e.length)}function xP(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function EG(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return de(n[t],e[t]);return de(n.length,e.length)}function pa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var kP=-62135596800,OP=1e6,ct=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*OP);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<kP)throw new $(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/OP}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-kP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ne=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new ct(0,0))}static max(){return new n(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var FP="__name__",fp=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Q(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Q(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return de(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):HI(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Nr.fromString(e.substring(4,e.length-2))}},ke=class n extends fp{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new $(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},IG=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Xt=class n extends fp{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return IG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FP}static keyField(){return new n([FP])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new $(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new $(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new $(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var K=class n{constructor(e){this.path=e}static fromPath(e){return new n(ke.fromString(e))}static fromName(e){return new n(ke.fromString(e).popFirst(5))}static empty(){return new n(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ke(e.slice()))}};var xu=-1,zI=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};zI.UNKNOWN_ID=-1;function wG(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new ct(t+1,0):new ct(t,r));return new Co(i,K.empty(),e)}function DG(n){return new Co(n.readTime,n.key,xu)}var Co=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ne.min(),K.empty(),xu)}static max(){return new n(ne.max(),K.empty(),xu)}};function TG(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=K.comparator(n.documentKey,e.documentKey),t!==0?t:de(n.largestBatchId,e.largestBatchId))}var bG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",qI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ca(n){return v(this,null,function*(){if(n.code!==P.FAILED_PRECONDITION||n.message!==bG)throw n;B("LocalStore","Unexpectedly lost primary lease")})}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function CG(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Sa(n){return n.name==="IndexedDbTransactionError"}var DD=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),TD=-1;function Wp(n){return n==null}function ku(n){return n===0&&1/n==-1/0}function SG(n){return typeof n=="number"&&Number.isInteger(n)&&!ku(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var Cx="";function AG(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=LP(e)),e=RG(n.get(t),e);return LP(e)}function RG(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case Cx:t+="";break;default:t+=o}}return t}function LP(n){return n+Cx+""}var NG="remoteDocuments",Sx="owner";var Ax="mutationQueues";var Rx="mutations";var Nx="documentMutations",MG="remoteDocumentsV14";var Mx="remoteDocumentGlobal";var Px="targets";var xx="targetDocuments";var kx="targetGlobal",Ox="collectionParents";var Fx="clientMetadata";var Lx="bundles";var Vx="namedQueries";var PG="indexConfiguration";var xG="indexState";var kG="indexEntries";var jx="documentOverlays";var OG="globals";var FG=[Ax,Rx,Nx,NG,Px,Sx,kx,xx,Fx,Mx,Ox,Lx,Vx],Kie=[...FG,jx],LG=[Ax,Rx,Nx,MG,Px,Sx,kx,xx,Fx,Mx,Ox,Lx,Vx,jx],VG=LG,jG=[...VG,PG,xG,kG];var Qie=[...jG,OG];function VP(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Si(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ux(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ve=class n{constructor(e,t){this.comparator=e,this.root=t||Xn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new la(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new la(this.root,e,this.comparator,!1)}getReverseIterator(){return new la(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new la(this.root,e,this.comparator,!0)}},la=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Xn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}};Xn.EMPTY=null,Xn.RED=!0,Xn.BLACK=!1;Xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Xn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var it=class n{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pp(this.data.getIterator())}getIteratorFrom(e){return new pp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},pp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var cn=class n{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new n([])}unionWith(e){let t=new it(Xt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pa(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var gp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var It=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new gp("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};It.EMPTY_BYTE_STRING=new It("");var UG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(n){if(Ie(!!n,39018),typeof n=="string"){let e=0,t=UG.exec(n);if(Ie(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Re(n.seconds),nanos:Re(n.nanos)}}function Re(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function kr(n){return typeof n=="string"?It.fromBase64String(n):It.fromUint8Array(n)}var Bx="server_timestamp",$x="__type__",Hx="__previous_value__",zx="__local_write_time__";function bD(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[$x])===null||t===void 0?void 0:t.stringValue)===Bx}function Kp(n){let e=n.mapValue.fields[Hx];return bD(e)?Kp(e):e}function Ou(n){let e=xr(n.mapValue.fields[zx].timestampValue);return new ct(e.seconds,e.nanos)}var GI=class{constructor(e,t,r,i,o,s,a,c,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l,this.isUsingEmulator=h}},mp="(default)",yp=class n{constructor(e,t){this.projectId=e,this.database=t||mp}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===mp}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var CD="__type__",qx="__max__",ip={mapValue:{fields:{__type__:{stringValue:qx}}}},SD="__vector__",ga="value";function Ti(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bD(n)?4:Wx(n)?9007199254740991:Gx(n)?10:11:Q(28295,{value:n})}function rr(n,e){if(n===e)return!0;let t=Ti(n);if(t!==Ti(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ou(n).isEqual(Ou(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=xr(i.timestampValue),a=xr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return kr(i.bytesValue).isEqual(kr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Re(i.geoPointValue.latitude)===Re(o.geoPointValue.latitude)&&Re(i.geoPointValue.longitude)===Re(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Re(i.integerValue)===Re(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Re(i.doubleValue),a=Re(o.doubleValue);return s===a?ku(s)===ku(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return pa(n.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(VP(s)!==VP(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!rr(s[c],a[c])))return!1;return!0}(n,e);default:return Q(52216,{left:n})}}function Fu(n,e){return(n.values||[]).find(t=>rr(t,e))!==void 0}function ma(n,e){if(n===e)return 0;let t=Ti(n),r=Ti(e);if(t!==r)return de(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return de(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Re(o.integerValue||o.doubleValue),c=Re(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return jP(n.timestampValue,e.timestampValue);case 4:return jP(Ou(n),Ou(e));case 5:return HI(n.stringValue,e.stringValue);case 6:return function(o,s){let a=kr(o),c=kr(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let h=de(a[l],c[l]);if(h!==0)return h}return de(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=de(Re(o.latitude),Re(s.latitude));return a!==0?a:de(Re(o.longitude),Re(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return UP(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,l,h;let p=o.fields||{},g=s.fields||{},m=(a=p[ga])===null||a===void 0?void 0:a.arrayValue,w=(c=g[ga])===null||c===void 0?void 0:c.arrayValue,A=de(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((h=w?.values)===null||h===void 0?void 0:h.length)||0);return A!==0?A:UP(m,w)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===ip.mapValue&&s===ip.mapValue)return 0;if(o===ip.mapValue)return 1;if(s===ip.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){let g=HI(c[p],h[p]);if(g!==0)return g;let m=ma(a[c[p]],l[h[p]]);if(m!==0)return m}return de(c.length,h.length)}(n.mapValue,e.mapValue);default:throw Q(23264,{Pe:t})}}function jP(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return de(n,e);let t=xr(n),r=xr(e),i=de(t.seconds,r.seconds);return i!==0?i:de(t.nanos,r.nanos)}function UP(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=ma(t[i],r[i]);if(o)return o}return de(t.length,r.length)}function ya(n){return WI(n)}function WI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=xr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return kr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return K.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=WI(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${WI(t.fields[s])}`;return i+"}"}(n.mapValue):Q(61005,{value:n})}function ap(n){switch(Ti(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Kp(n);return e?16+ap(e):16;case 5:return 2*n.stringValue.length;case 6:return kr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+ap(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Si(r.fields,(o,s)=>{i+=o.length+ap(s)}),i}(n.mapValue);default:throw Q(13486,{value:n})}}function BP(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function KI(n){return!!n&&"integerValue"in n}function AD(n){return!!n&&"arrayValue"in n}function $P(n){return!!n&&"nullValue"in n}function HP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cp(n){return!!n&&"mapValue"in n}function Gx(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[CD])===null||t===void 0?void 0:t.stringValue)===SD}function Ru(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Si(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ru(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ru(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Wx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===qx}var Zie={mapValue:{fields:{[CD]:{stringValue:SD},[ga]:{arrayValue:{}}}}};var Jt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!cp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ru(t)}setAll(e){let t=Xt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Ru(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());cp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];cp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Si(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Ru(this.value))}};function Kx(n){let e=[];return Si(n.fields,(t,r)=>{let i=new Xt([t]);if(cp(r)){let o=Kx(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new cn(e)}var Sn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ne.min(),ne.min(),ne.min(),Jt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ne.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ne.min(),ne.min(),Jt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ne.min(),ne.min(),Jt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var va=class{constructor(e,t){this.position=e,this.inclusive=t}};function zP(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=K.comparator(K.fromName(s.referenceValue),t.key):r=ma(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function qP(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!rr(n.position[t],e.position[t]))return!1;return!0}var _a=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function BG(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var vp=class{},Ke=class n extends vp{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new YI(e,t,r):t==="array-contains"?new XI(e,r):t==="in"?new ew(e,r):t==="not-in"?new tw(e,r):t==="array-contains-any"?new nw(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new ZI(e,r):new JI(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ma(t,this.value)):t!==null&&Ti(this.value)===Ti(t)&&this.matchesComparison(ma(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},An=class n extends vp{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return Qx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function Qx(n){return n.op==="and"}function Yx(n){return $G(n)&&Qx(n)}function $G(n){for(let e of n.filters)if(e instanceof An)return!1;return!0}function QI(n){if(n instanceof Ke)return n.field.canonicalString()+n.op.toString()+ya(n.value);if(Yx(n))return n.filters.map(e=>QI(e)).join(",");{let e=n.filters.map(t=>QI(t)).join(",");return`${n.op}(${e})`}}function Zx(n,e){return n instanceof Ke?function(r,i){return i instanceof Ke&&r.op===i.op&&r.field.isEqual(i.field)&&rr(r.value,i.value)}(n,e):n instanceof An?function(r,i){return i instanceof An&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Zx(s,i.filters[a]),!0):!1}(n,e):void Q(19439)}function Jx(n){return n instanceof Ke?function(t){return`${t.field.canonicalString()} ${t.op} ${ya(t.value)}`}(n):n instanceof An?function(t){return t.op.toString()+" {"+t.getFilters().map(Jx).join(" ,")+"}"}(n):"Filter"}var YI=class extends Ke{constructor(e,t,r){super(e,t,r),this.key=K.fromName(r.referenceValue)}matches(e){let t=K.comparator(e.key,this.key);return this.matchesComparison(t)}},ZI=class extends Ke{constructor(e,t){super(e,"in",t),this.keys=Xx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},JI=class extends Ke{constructor(e,t){super(e,"not-in",t),this.keys=Xx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Xx(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>K.fromName(r.referenceValue))}var XI=class extends Ke{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return AD(t)&&Fu(t.arrayValue,this.value)}},ew=class extends Ke{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Fu(this.value.arrayValue,t)}},tw=class extends Ke{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Fu(this.value.arrayValue,t)}},nw=class extends Ke{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!AD(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Fu(this.value.arrayValue,r))}};var rw=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function GP(n,e=null,t=[],r=[],i=null,o=null,s=null){return new rw(n,e,t,r,i,o,s)}function RD(n){let e=J(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>QI(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Wp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ya(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ya(r)).join(",")),e.Ie=t}return e.Ie}function ND(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!BG(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Zx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qP(n.startAt,e.startAt)&&qP(n.endAt,e.endAt)}function iw(n){return K.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var So=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function HG(n,e,t,r,i,o,s,a){return new So(n,e,t,r,i,o,s,a)}function Qp(n){return new So(n)}function WP(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ek(n){return n.collectionGroup!==null}function Nu(n){let e=J(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new it(Xt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new _a(o,r))}),t.has(Xt.keyField().canonicalString())||e.Ee.push(new _a(Xt.keyField(),r))}return e.Ee}function er(n){let e=J(n);return e.de||(e.de=zG(e,Nu(n))),e.de}function zG(n,e){if(n.limitType==="F")return GP(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new _a(i.field,o)});let t=n.endAt?new va(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new va(n.startAt.position,n.startAt.inclusive):null;return GP(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function ow(n,e){let t=n.filters.concat([e]);return new So(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function sw(n,e,t){return new So(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Yp(n,e){return ND(er(n),er(e))&&n.limitType===e.limitType}function tk(n){return`${RD(er(n))}|lt:${n.limitType}`}function aa(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Jx(i)).join(", ")}]`),Wp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ya(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ya(i)).join(",")),`Target(${r})`}(er(n))}; limitType=${n.limitType})`}function Zp(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):K.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Nu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let l=zP(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,Nu(r),i)||r.endAt&&!function(s,a,c){let l=zP(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,Nu(r),i))}(n,e)}function qG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function nk(n){return(e,t)=>{let r=!1;for(let i of Nu(n)){let o=GG(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function GG(n,e,t){let r=n.field.isKeyField()?K.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?ma(c,l):Q(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Q(19790,{direction:n.dir})}}var Or=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Si(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Ux(this.inner)}size(){return this.innerSize}};var WG=new Ve(K.comparator);function Fr(){return WG}var rk=new Ve(K.comparator);function Au(...n){let e=rk;for(let t of n)e=e.insert(t.key,t);return e}function ik(n){let e=rk;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function wo(){return Mu()}function ok(){return Mu()}function Mu(){return new Or(n=>n.toString(),(n,e)=>n.isEqual(e))}var KG=new Ve(K.comparator),QG=new it(K.comparator);function pe(...n){let e=QG;for(let t of n)e=e.add(t);return e}var YG=new it(de);function ZG(){return YG}function MD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ku(e)?"-0":e}}function sk(n){return{integerValue:""+n}}function ak(n,e){return SG(e)?sk(e):MD(n,e)}var Ea=class{constructor(){this._=void 0}};function JG(n,e,t){return n instanceof Ao?function(i,o){let s={fields:{[$x]:{stringValue:Bx},[zx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&bD(o)&&(o=Kp(o)),o&&(s.fields[Hx]=o),{mapValue:s}}(t,e):n instanceof Ro?uk(n,e):n instanceof No?lk(n,e):function(i,o){let s=ck(i,o),a=KP(s)+KP(i.Re);return KI(s)&&KI(i.Re)?sk(a):MD(i.serializer,a)}(n,e)}function XG(n,e,t){return n instanceof Ro?uk(n,e):n instanceof No?lk(n,e):t}function ck(n,e){return n instanceof Mo?function(r){return KI(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ao=class extends Ea{},Ro=class extends Ea{constructor(e){super(),this.elements=e}};function uk(n,e){let t=dk(e);for(let r of n.elements)t.some(i=>rr(i,r))||t.push(r);return{arrayValue:{values:t}}}var No=class extends Ea{constructor(e){super(),this.elements=e}};function lk(n,e){let t=dk(e);for(let r of n.elements)t=t.filter(i=>!rr(i,r));return{arrayValue:{values:t}}}var Mo=class extends Ea{constructor(e,t){super(),this.serializer=e,this.Re=t}};function KP(n){return Re(n.integerValue||n.doubleValue)}function dk(n){return AD(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var _p=class{constructor(e,t){this.field=e,this.transform=t}};function e9(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ro&&i instanceof Ro||r instanceof No&&i instanceof No?pa(r.elements,i.elements,rr):r instanceof Mo&&i instanceof Mo?rr(r.Re,i.Re):r instanceof Ao&&i instanceof Ao}(n.transform,e.transform)}var aw=class{constructor(e,t){this.version=e,this.transformResults=t}},tr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function up(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ia=class{};function hk(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Lu(n.key,tr.none()):new Po(n.key,n.data,tr.none());{let t=n.data,r=Jt.empty(),i=new it(Xt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ir(n.key,r,new cn(i.toArray()),tr.none())}}function t9(n,e,t){n instanceof Po?function(i,o,s){let a=i.value.clone(),c=YP(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof ir?function(i,o,s){if(!up(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=YP(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(fk(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Pu(n,e,t,r){return n instanceof Po?function(o,s,a,c){if(!up(o.precondition,s))return a;let l=o.value.clone(),h=ZP(o.fieldTransforms,c,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof ir?function(o,s,a,c){if(!up(o.precondition,s))return a;let l=ZP(o.fieldTransforms,c,s),h=s.data;return h.setAll(fk(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return up(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function n9(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=ck(r.transform,i||null);o!=null&&(t===null&&(t=Jt.empty()),t.set(r.field,o))}return t||null}function QP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&pa(r,i,(o,s)=>e9(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Po=class extends Ia{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ir=class extends Ia{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function fk(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function YP(n,e,t){let r=new Map;Ie(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,XG(s,a,t[i]))}return r}function ZP(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,JG(o,s,e))}return r}var Lu=class extends Ia{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},cw=class extends Ia{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var uw=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&t9(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Pu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Pu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=ok();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=hk(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pe())}isEqual(e){return this.batchId===e.batchId&&pa(this.mutations,e.mutations,(t,r)=>QP(t,r))&&pa(this.baseMutations,e.baseMutations,(t,r)=>QP(t,r))}},lw=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ie(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return KG}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var dw=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var hw=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ge,me;function r9(n){switch(n){case P.OK:return Q(64938);case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return Q(15467,{code:n})}}function pk(n){if(n===void 0)return Pr("GRPC error has no .code"),P.UNKNOWN;switch(n){case Ge.OK:return P.OK;case Ge.CANCELLED:return P.CANCELLED;case Ge.UNKNOWN:return P.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return P.INTERNAL;case Ge.UNAVAILABLE:return P.UNAVAILABLE;case Ge.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Ge.NOT_FOUND:return P.NOT_FOUND;case Ge.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Ge.ABORTED:return P.ABORTED;case Ge.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Ge.DATA_LOSS:return P.DATA_LOSS;default:return Q(39323,{code:n})}}(me=Ge||(Ge={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";var JP=null;var i9=new Nr([4294967295,4294967295],0);function XP(n){let e=bx().encode(n),t=new SI;return t.update(e),new Uint8Array(t.digest())}function ex(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Nr([t,r],0),new Nr([i,o],0)]}var fw=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Do(`Invalid padding: ${t}`);if(r<0)throw new Do(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Do(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Do(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Nr.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Nr.fromNumber(r)));return i.compare(i9)===1&&(i=new Nr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=XP(e),[r,i]=ex(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=XP(e),[r,i]=ex(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Do=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ep=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ne.min(),i,new Ve(de),Fr(),pe())}},Vu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,pe(),pe(),pe())}};var da=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},Ip=class{constructor(e,t){this.targetId=e,this.Ce=t}},wp=class{constructor(e,t,r=It.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Dp=class{constructor(){this.Fe=0,this.Me=tx(),this.xe=It.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=pe(),t=pe(),r=pe();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Q(38017,{changeType:o})}}),new Vu(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=tx()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ie(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},pw=class{constructor(e){this.ze=e,this.je=new Map,this.He=Fr(),this.Je=op(),this.Ye=op(),this.Ze=new Ve(de)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(iw(o))if(r===0){let s=new K(o.path);this.tt(t,s,Sn.newNoDocument(s,ne.min()))}else Ie(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),c=a?this.lt(a,e,s):1;if(c!==0){this.st(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}JP?.ht(function(h,p,g,m,w){var A,R,k,H,z,ge;let $e={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},ve=p.unchangedNames;return ve&&($e.bloomFilter={applied:w===0,hashCount:(A=ve?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(H=(k=(R=ve?.bits)===null||R===void 0?void 0:R.bitmap)===null||k===void 0?void 0:k.length)!==null&&H!==void 0?H:0,padding:(ge=(z=ve?.bits)===null||z===void 0?void 0:z.padding)!==null&&ge!==void 0?ge:0,mightContain:T=>{var _;return(_=m?.mightContain(T))!==null&&_!==void 0&&_}}),$e}(s,e.Ce,this.ze.Pt(),a,c))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=kr(r).toUint8Array()}catch(c){if(c instanceof gp)return fa("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new fw(s,i,o)}catch(c){return fa(c instanceof Do?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&iw(a.target)){let c=new K(a.target.path);this.Et(c).has(s)||this.dt(s,c)||this.tt(s,c,Sn.newNoDocument(c,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=pe();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this._t(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new Ep(e,t,this.Ze,this.He,r);return this.He=Fr(),this.Je=op(),this.Ye=op(),this.Ze=new Ve(de),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Dp,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new it(de),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new it(de),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||B("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Dp),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function op(){return new Ve(K.comparator)}function tx(){return new Ve(K.comparator)}var o9={asc:"ASCENDING",desc:"DESCENDING"},s9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},a9={and:"AND",or:"OR"},gw=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function mw(n,e){return n.useProto3Json||Wp(e)?e:{value:e}}function Tp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gk(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function c9(n,e){return Tp(n,e.toTimestamp())}function nr(n){return Ie(!!n,49232),ne.fromTimestamp(function(t){let r=xr(t);return new ct(r.seconds,r.nanos)}(n))}function PD(n,e){return yw(n,e).canonicalString()}function yw(n,e){let t=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function mk(n){let e=ke.fromString(n);return Ie(Ik(e),10190,{key:e.toString()}),e}function vw(n,e){return PD(n.databaseId,e.path)}function xI(n,e){let t=mk(e);if(t.get(1)!==n.databaseId.projectId)throw new $(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new K(vk(t))}function yk(n,e){return PD(n.databaseId,e)}function u9(n){let e=mk(n);return e.length===4?ke.emptyPath():vk(e)}function _w(n){return new ke(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vk(n){return Ie(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function nx(n,e,t){return{name:vw(n,e),fields:t.value.mapValue.fields}}function l9(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ie(h===void 0||typeof h=="string",58123),It.fromBase64String(h||"")):(Ie(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),It.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?P.UNKNOWN:pk(l.code);return new $(h,l.message||"")}(s);t=new wp(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=xI(n,r.document.name),o=nr(r.document.updateTime),s=r.document.createTime?nr(r.document.createTime):ne.min(),a=new Jt({mapValue:{fields:r.document.fields}}),c=Sn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new da(l,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=xI(n,r.document),o=r.readTime?nr(r.readTime):ne.min(),s=Sn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new da([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=xI(n,r.document),o=r.removedTargetIds||[];t=new da([],o,i,null)}else{if(!("filter"in e))return Q(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new hw(i,o),a=r.targetId;t=new Ip(a,s)}}return t}function d9(n,e){let t;if(e instanceof Po)t={update:nx(n,e.key,e.value)};else if(e instanceof Lu)t={delete:vw(n,e.key)};else if(e instanceof ir)t={update:nx(n,e.key,e.data),updateMask:E9(e.fieldMask)};else{if(!(e instanceof cw))return Q(16599,{ft:e.type});t={verify:vw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Ao)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ro)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof No)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Mo)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw Q(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:c9(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q(27497)}(n,e.precondition)),t}function h9(n,e){return n&&n.length>0?(Ie(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?nr(i.updateTime):nr(o);return s.isEqual(ne.min())&&(s=nr(o)),new aw(s,i.transformResults||[])}(t,e))):[]}function f9(n,e){return{documents:[yk(n,e.path)]}}function p9(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=yk(n,i);let o=function(l){if(l.length!==0)return Ek(An.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:ca(g.field),direction:y9(g.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=mw(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:t,parent:i}}function g9(n){let e=u9(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ie(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let g=_k(p);return g instanceof An&&Yx(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(g=>function(w){return new _a(ua(w.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,Wp(g)?null:g}(t.limit));let c=null;t.startAt&&(c=function(p){let g=!!p.before,m=p.values||[];return new va(m,g)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let g=!p.before,m=p.values||[];return new va(m,g)}(t.endAt)),HG(e,i,s,o,a,"F",c,l)}function m9(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _k(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=ua(t.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ua(t.unaryFilter.field);return Ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ua(t.unaryFilter.field);return Ke.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ua(t.unaryFilter.field);return Ke.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ke.create(ua(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return An.create(t.compositeFilter.filters.map(r=>_k(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(t.compositeFilter.op))}(n):Q(30097,{filter:n})}function y9(n){return o9[n]}function v9(n){return s9[n]}function _9(n){return a9[n]}function ca(n){return{fieldPath:n.canonicalString()}}function ua(n){return Xt.fromServerFormat(n.fieldPath)}function Ek(n){return n instanceof Ke?function(t){if(t.op==="=="){if(HP(t.value))return{unaryFilter:{field:ca(t.field),op:"IS_NAN"}};if($P(t.value))return{unaryFilter:{field:ca(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(HP(t.value))return{unaryFilter:{field:ca(t.field),op:"IS_NOT_NAN"}};if($P(t.value))return{unaryFilter:{field:ca(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ca(t.field),op:v9(t.op),value:t.value}}}(n):n instanceof An?function(t){let r=t.getFilters().map(i=>Ek(i));return r.length===1?r[0]:{compositeFilter:{op:_9(t.op),filters:r}}}(n):Q(54877,{filter:n})}function E9(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ik(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var ju=class n{constructor(e,t,r,i,o=ne.min(),s=ne.min(),a=It.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Ew=class{constructor(e){this.wt=e}};function I9(n){let e=g9({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?sw(e,e.limit,"L"):e}var bp=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Re(e.integerValue));else if("doubleValue"in e){let r=Re(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),ku(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=xr(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(kr(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?Wx(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):Gx(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):Q(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=ga,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(Re(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),K.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};bp.Wt=new bp;var Iw=class{constructor(){this.Cn=new ww}addToCollectionParentIndex(e,t){return this.Cn.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(Co.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(Co.min())}updateCollectionGroup(e,t,r){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},ww=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new it(ke.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(ke.comparator)).toArray()}};var Jie=new Uint8Array(0);var rx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wk=41943040,an=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(wk,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);var Uu=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var ix="LruGarbageCollector",w9=1048576;function ox([n,e],[t,r]){let i=de(n,t);return i===0?de(e,r):i}var Dw=class{constructor(e){this.Er=e,this.buffer=new it(ox),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();ox(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},Tw=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){B(ix,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Sa(t)?B(ix,"Ignoring IndexedDB error during garbage collection: ",t):yield Ca(t)}yield this.mr(3e5)}))}},bw=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return x.resolve(DD.le);let r=new Dw(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(rx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rx):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,s,a,c,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),sa()<=fe.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(l-c)+`ms
Total Duration: ${l-h}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function D9(n,e){return new bw(n,e)}var Cw=class{constructor(){this.changes=new Or(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?x.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Sw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Aw=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Pu(r.mutation,i,cn.empty(),ct.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=pe()){let i=wo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Au();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=wo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,pe()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Fr(),s=Mu(),a=function(){return Mu()}();return t.forEach((c,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof ir)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Pu(h.mutation,l,h.mutation.getFieldMask(),ct.now())):s.set(l.key,cn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new Sw(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Mu(),i=new Ve((s,a)=>s-a),o=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let h=r.get(c)||cn.empty();h=a.applyToLocalView(l,h),r.set(c,h);let p=(i.get(a.batchId)||pe()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,h=c.value,p=ok();h.forEach(g=>{if(!o.has(g)){let m=hk(t.get(g),r.get(g));m!==null&&p.set(g,m),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return K.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ek(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):x.resolve(wo()),a=xu,c=o;return s.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,pe())).next(h=>({batchId:a,changes:ik(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new K(t)).next(r=>{let i=Au();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Au();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,c=>{let l=function(p,g){return new So(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Sn.newInvalidDocument(h)))});let a=Au();return s.forEach((c,l)=>{let h=o.get(c);h!==void 0&&Pu(h.mutation,l,cn.empty(),ct.now()),Zp(t,l)&&(a=a.insert(c,l))}),a})}};var Rw=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return x.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:nr(i.createTime)}}(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:I9(i.bundledQuery),readTime:nr(i.readTime)}}(t)),x.resolve()}};var Nw=class{constructor(){this.overlays=new Ve(K.comparator),this.Qr=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let r=wo();return x.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),x.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),x.resolve()}getOverlaysForCollection(e,t,r){let i=wo(),o=t.length+1,s=new K(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return x.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ve((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=wo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=wo(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new dw(t,r));let o=this.Qr.get(t);o===void 0&&(o=pe(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}};var Mw=class{constructor(){this.sessionToken=It.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,x.resolve()}};var Bu=class{constructor(){this.$r=new it(We.Ur),this.Kr=new it(We.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let r=new We(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new We(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){let t=new K(new ke([])),r=new We(t,e),i=new We(t,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new K(new ke([])),r=new We(t,e),i=new We(t,e+1),o=pe();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new We(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},We=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return K.comparator(e.key,t.key)||de(e.Zr,t.Zr)}static Wr(e,t){return de(e.Zr,t.Zr)||K.comparator(e.key,t.key)}};var Pw=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new it(We.Ur)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new uw(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new We(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,t){return x.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ti(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?TD:this.nr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new We(t,0),i=new We(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new it(de);return t.forEach(i=>{let o=new We(i,0),s=new We(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),x.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;K.isDocumentKey(o)||(o=o.child(""));let s=new We(new K(o),0),a=new it(de);return this.Xr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.Zr)),!0)},s),x.resolve(this.ni(a))}ni(e){let t=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ie(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return x.forEach(t.mutations,i=>{let o=new We(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){let r=new We(t,0),i=this.Xr.firstAfterOrEqual(r);return x.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var xw=class{constructor(e){this.ii=e,this.docs=function(){return new Ve(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return x.resolve(r?r.document.mutableCopy():Sn.newInvalidDocument(t))}getEntries(e,t){let r=Fr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Sn.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Fr(),s=t.path,a=new K(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:h}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||TG(DG(h),r)<=0||(i.has(h.key)||Zp(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Q(9500)}si(e,t){return x.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new kw(this)}getSize(e){return x.resolve(this.size)}},kw=class extends Cw{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),x.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var Ow=class{constructor(e){this.persistence=e,this.oi=new Or(t=>RD(t),ND),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this._i=0,this.ai=new Bu,this.targetCount=0,this.ui=Uu.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),x.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new Uu(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.Tr(t),x.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let r=this.oi.get(t)||null;return x.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),x.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),x.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ai.Yr(t);return x.resolve(r)}containsKey(e,t){return x.resolve(this.ai.containsKey(t))}};var Cp=class{constructor(e,t){this.ci={},this.overlays={},this.li=new DD(0),this.hi=!1,this.hi=!0,this.Pi=new Mw,this.referenceDelegate=e(this),this.Ti=new Ow(this),this.indexManager=new Iw,this.remoteDocumentCache=function(i){return new xw(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Ew(t),this.Ei=new Rw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Nw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new Pw(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){B("MemoryPersistence","Starting transaction:",e);let i=new Fw(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return x.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}},Fw=class extends qI{constructor(e){super(),this.currentSequenceNumber=e}},Lw=class n{constructor(e){this.persistence=e,this.Vi=new Bu,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw Q(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),x.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),x.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.gi,r=>{let i=K.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,ne.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return x.or([()=>x.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},Sp=class n{constructor(e,t){this.persistence=e,this.yi=new Or(r=>AG(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=D9(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return x.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return x.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?x.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ne.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),x.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),x.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ap(e.data.value)),t}Dr(e,t,r){return x.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.yi.get(t);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Vw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=pe(),i=pe();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var jw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Uw=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return tM()?8:CG(nt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ws(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new jw;return this.Ss(e,t,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,t,s,a.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(sa()<=fe.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",aa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),x.resolve()):(sa()<=fe.DEBUG&&B("QueryEngine","Query:",aa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(sa()<=fe.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",aa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,er(t))):x.resolve())}ws(e,t){if(WP(t))return x.resolve(null);let r=er(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=sw(t,null,"F"),r=er(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=pe(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.vs(t,a);return this.Cs(t,l,s,c.readTime)?this.ws(e,sw(t,null,"F")):this.Fs(e,l,t,c)}))})))}bs(e,t,r,i){return WP(t)||i.isEqual(ne.min())?x.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(t,o);return this.Cs(t,s,r,i)?x.resolve(null):(sa()<=fe.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),aa(t)),this.Fs(e,s,t,wG(i,xu)).next(a=>a))})}vs(e,t){let r=new it(nk(e));return t.forEach((i,o)=>{Zp(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return sa()<=fe.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",aa(t)),this.ys.getDocumentsMatchingQuery(e,t,Co.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var xD="LocalStore",T9=3e8,Bw=class{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new Ve(de),this.Os=new Or(o=>RD(o),ND),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Aw(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function b9(n,e,t,r){return new Bw(n,e,t,r)}function Dk(n,e){return v(this,null,function*(){let t=J(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=pe();for(let l of i){s.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(r,c).next(l=>({ks:l,removedBatchIds:s,addedBatchIds:a}))})})})}function C9(n,e){let t=J(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){let p=l.batch,g=p.keys(),m=x.resolve();return g.forEach(w=>{m=m.next(()=>h.getEntry(c,w)).next(A=>{let R=l.docVersions.get(w);Ie(R!==null,48541),A.version.compareTo(R)<0&&(p.applyToRemoteDocument(A,l),A.isValidDocument()&&(A.setReadTime(l.commitVersion),h.addEntry(A)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=pe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Tk(n){let e=J(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function S9(n,e){let t=J(n),r=e.snapshotVersion,i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ti.addMatchingKeys(o,h.addedDocuments,p)));let m=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(It.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(p,m),function(A,R,k){return A.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=T9?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(g,m,h)&&a.push(t.Ti.updateTargetData(o,m))});let c=Fr(),l=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(A9(o,s,e.documentUpdates).next(h=>{c=h.qs,l=h.Qs})),!r.isEqual(ne.min())){let h=t.Ti.getLastRemoteSnapshotVersion(o).next(p=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.xs=i,o))}function A9(n,e,t){let r=pe(),i=pe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Fr();return t.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ne.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):B(xD,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{qs:s,Qs:i}})}function R9(n,e){let t=J(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=TD),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function N9(n,e){let t=J(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new ju(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}function $w(n,e,t){return v(this,null,function*(){let r=J(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Sa(s))throw s;B(xD,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function sx(n,e,t){let r=J(n),i=ne.min(),o=pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,h){let p=J(c),g=p.Os.get(h);return g!==void 0?x.resolve(p.xs.get(g)):p.Ti.getTargetData(l,h)}(r,s,er(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:ne.min(),t?o:pe())).next(a=>(M9(r,qG(e),a),{documents:a,$s:o})))}function M9(n,e,t){let r=n.Ns.get(e)||ne.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}var Ap=class{constructor(){this.activeTargetIds=ZG()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Hw=class{constructor(){this.xo=new Ap,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Ap,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var zw=class{No(e){}shutdown(){}};var ax="ConnectivityMonitor",Rp=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){B(ax,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){B(ax,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var sp=null;function qw(){return sp===null?sp=function(){return 268435456+Math.round(2147483648*Math.random())}():sp++,"0x"+sp.toString(16)}var kI="RestConnection",P9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Gw=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===mp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){let s=qw(),a=this.jo(e,t.toUriEncodedString());B(kI,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,o);let{host:l}=new URL(a),h=pi(l);return this.Jo(e,a,c,r,h).then(p=>(B(kI,`Received RPC '${e}' ${s}: `,p),p),p=>{throw fa(kI,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,t,r,i,o,s){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ba}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){let r=P9[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}};var Ww=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var _t="WebChannelConnection",Kw=class extends Gw{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=qw();return new Promise((a,c)=>{let l=new AI;l.setWithCredentials(!0),l.listenOnce(RI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Su.NO_ERROR:let p=l.getResponseJson();B(_t,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Su.TIMEOUT:B(_t,`RPC '${e}' ${s} timed out`),c(new $(P.DEADLINE_EXCEEDED,"Request time out"));break;case Su.HTTP_ERROR:let g=l.getStatus();if(B(_t,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let w=m?.error;if(w&&w.status&&w.message){let A=function(k){let H=k.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(H)>=0?H:P.UNKNOWN}(w.status);c(new $(A,w.message))}else c(new $(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new $(P.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{h_:e,streamId:s,P_:l.getLastErrorCode(),T_:l.getLastError()})}}finally{B(_t,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);B(_t,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}I_(e,t,r){let i=qw(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=PI(),a=MI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let h=o.join("");B(_t,`Creating RPC '${e}' stream ${i}: ${h}`,c);let p=s.createWebChannel(h,c);this.E_(p);let g=!1,m=!1,w=new Ww({Zo:R=>{m?B(_t,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(g||(B(_t,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),B(_t,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Xo:()=>p.close()}),A=(R,k,H)=>{R.listen(k,z=>{try{H(z)}catch(ge){setTimeout(()=>{throw ge},0)}})};return A(p,oa.EventType.OPEN,()=>{m||(B(_t,`RPC '${e}' stream ${i} transport opened.`),w.__())}),A(p,oa.EventType.CLOSE,()=>{m||(m=!0,B(_t,`RPC '${e}' stream ${i} transport closed`),w.u_(),this.d_(p))}),A(p,oa.EventType.ERROR,R=>{m||(m=!0,fa(_t,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),w.u_(new $(P.UNAVAILABLE,"The operation could not be completed")))}),A(p,oa.EventType.MESSAGE,R=>{var k;if(!m){let H=R.data[0];Ie(!!H,16349);let z=H,ge=z?.error||((k=z[0])===null||k===void 0?void 0:k.error);if(ge){B(_t,`RPC '${e}' stream ${i} received error:`,ge);let $e=ge.status,ve=function(I){let D=Ge[I];if(D!==void 0)return pk(D)}($e),T=ge.message;ve===void 0&&(ve=P.INTERNAL,T="Unknown error status: "+$e+" with message "+ge.message),m=!0,w.u_(new $(ve,T)),p.close()}else B(_t,`RPC '${e}' stream ${i} received:`,H),w.c_(H)}}),A(a,NI.STAT_EVENT,R=>{R.stat===rp.PROXY?B(_t,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===rp.NOPROXY&&B(_t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.a_()},0),w}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}};function OI(){return typeof document<"u"?document:null}function Jp(n){return new gw(n,!0)}var Np=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();let t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}};var cx="PersistentStream",Mp=class{constructor(e,t,r,i,o,s,a,c){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Np(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}stop(){return v(this,null,function*(){this.O_()&&(yield this.close(0))})}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}q_(){return v(this,null,function*(){if(this.N_())return this.close(0)})}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}close(e,t){return v(this,null,function*(){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(Pr(t.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}W_(){}auth(){this.state=1;let e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{let i=new $(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){let r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(()=>v(this,null,function*(){this.state=0,this.start()}))}j_(e){return B(cx,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(B(cx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Qw=class extends Mp{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();let t=l9(this.serializer,e),r=function(o){if(!("targetChange"in o))return ne.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?nr(s.readTime):ne.min()}(e);return this.listener.Y_(t,r)}Z_(e){let t={};t.database=_w(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=iw(c)?{documents:f9(o,c)}:{query:p9(o,c).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=gk(o,s.resumeToken);let l=mw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ne.min())>0){a.readTime=Tp(o,s.snapshotVersion.toTimestamp());let l=mw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=m9(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){let t={};t.database=_w(this.serializer),t.removeTarget=e,this.Q_(t)}},Yw=class extends Mp{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();let t=h9(e.writeResults,e.commitTime),r=nr(e.commitTime);return this.listener.ra(r,t)}ia(){let e={};e.database=_w(this.serializer),this.Q_(e)}ta(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>d9(this.serializer,r))};this.Q_(t)}};var Zw=class{},Jw=class extends Zw{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new $(P.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,yw(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(P.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,yw(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(P.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}},Xw=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Pr(t),this.ua=!1):B("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}};var xo="RemoteStore",eD=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(s=>{r.enqueueAndForget(()=>v(this,null,function*(){Fo(this)&&(B(xo,"Restarting streams for network reachability change."),yield function(c){return v(this,null,function*(){let l=J(c);l.da.add(4),yield Qu(l),l.Va.set("Unknown"),l.da.delete(4),yield Xp(l)})}(this))}))}),this.Va=new Xw(r,i)}};function Xp(n){return v(this,null,function*(){if(Fo(n))for(let e of n.Aa)yield e(!0)})}function Qu(n){return v(this,null,function*(){for(let e of n.Aa)yield e(!1)})}function bk(n,e){let t=J(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),LD(t)?FD(t):Aa(t).N_()&&OD(t,e))}function kD(n,e){let t=J(n),r=Aa(t);t.Ea.delete(e),r.N_()&&Ck(t,e),t.Ea.size===0&&(r.N_()?r.k_():Fo(t)&&t.Va.set("Unknown"))}function OD(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Aa(n).Z_(e)}function Ck(n,e){n.ma.Ke(e),Aa(n).X_(e)}function FD(n){n.ma=new pw({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Aa(n).start(),n.Va.ca()}function LD(n){return Fo(n)&&!Aa(n).O_()&&n.Ea.size>0}function Fo(n){return J(n).da.size===0}function Sk(n){n.ma=void 0}function x9(n){return v(this,null,function*(){n.Va.set("Online")})}function k9(n){return v(this,null,function*(){n.Ea.forEach((e,t)=>{OD(n,e)})})}function O9(n,e){return v(this,null,function*(){Sk(n),LD(n)?(n.Va.Pa(e),FD(n)):n.Va.set("Unknown")})}function F9(n,e,t){return v(this,null,function*(){if(n.Va.set("Online"),e instanceof wp&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ea.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ea.delete(a),i.ma.removeTarget(a))})}(n,e)}catch(r){B(xo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Pp(n,r)}else if(e instanceof da?n.ma.Xe(e):e instanceof Ip?n.ma.ot(e):n.ma.nt(e),!t.isEqual(ne.min()))try{let r=yield Tk(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.ma.It(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let h=o.Ea.get(l);h&&o.Ea.set(l,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let h=o.Ea.get(c);if(!h)return;o.Ea.set(c,h.withResumeToken(It.EMPTY_BYTE_STRING,h.snapshotVersion)),Ck(o,c);let p=new ju(h.target,c,l,h.sequenceNumber);OD(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){B(xo,"Failed to raise snapshot:",r),yield Pp(n,r)}})}function Pp(n,e,t){return v(this,null,function*(){if(!Sa(e))throw e;n.da.add(1),yield Qu(n),n.Va.set("Offline"),t||(t=()=>Tk(n.localStore)),n.asyncQueue.enqueueRetryable(()=>v(null,null,function*(){B(xo,"Retrying IndexedDB access"),yield t(),n.da.delete(1),yield Xp(n)}))})}function Ak(n,e){return e().catch(t=>Pp(n,t,e))}function eg(n){return v(this,null,function*(){let e=J(n),t=bi(e),r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:TD;for(;L9(e);)try{let i=yield R9(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,V9(e,i)}catch(i){yield Pp(e,i)}Rk(e)&&Nk(e)})}function L9(n){return Fo(n)&&n.Ia.length<10}function V9(n,e){n.Ia.push(e);let t=bi(n);t.N_()&&t.ea&&t.ta(e.mutations)}function Rk(n){return Fo(n)&&!bi(n).O_()&&n.Ia.length>0}function Nk(n){bi(n).start()}function j9(n){return v(this,null,function*(){bi(n).ia()})}function U9(n){return v(this,null,function*(){let e=bi(n);for(let t of n.Ia)e.ta(t.mutations)})}function B9(n,e,t){return v(this,null,function*(){let r=n.Ia.shift(),i=lw.from(r,e,t);yield Ak(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield eg(n)})}function $9(n,e){return v(this,null,function*(){e&&bi(n).ea&&(yield function(r,i){return v(this,null,function*(){if(function(s){return r9(s)&&s!==P.ABORTED}(i.code)){let o=r.Ia.shift();bi(r).L_(),yield Ak(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield eg(r)}})}(n,e)),Rk(n)&&Nk(n)})}function ux(n,e){return v(this,null,function*(){let t=J(n);t.asyncQueue.verifyOperationInProgress(),B(xo,"RemoteStore received new credentials");let r=Fo(t);t.da.add(3),yield Qu(t),r&&t.Va.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),yield Xp(t)})}function H9(n,e){return v(this,null,function*(){let t=J(n);e?(t.da.delete(2),yield Xp(t)):e||(t.da.add(2),yield Qu(t),t.Va.set("Unknown"))})}function Aa(n){return n.fa||(n.fa=function(t,r,i){let o=J(t);return o.oa(),new Qw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:x9.bind(null,n),n_:k9.bind(null,n),i_:O9.bind(null,n),Y_:F9.bind(null,n)}),n.Aa.push(e=>v(null,null,function*(){e?(n.fa.L_(),LD(n)?FD(n):n.Va.set("Unknown")):(yield n.fa.stop(),Sk(n))}))),n.fa}function bi(n){return n.ga||(n.ga=function(t,r,i){let o=J(t);return o.oa(),new Yw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:j9.bind(null,n),i_:$9.bind(null,n),na:U9.bind(null,n),ra:B9.bind(null,n)}),n.Aa.push(e=>v(null,null,function*(){e?(n.ga.L_(),yield eg(n)):(yield n.ga.stop(),n.Ia.length>0&&(B(xo,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))}))),n.ga}var tD=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function VD(n,e){if(Pr("AsyncQueue",`${e}: ${n}`),Sa(n))return new $(P.UNAVAILABLE,`${e}: ${n}`);throw n}var xp=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||K.comparator(t.key,r.key):(t,r)=>K.comparator(t.key,r.key),this.keyedMap=Au(),this.sortedSet=new Ve(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var kp=class{constructor(){this.pa=new Ve(K.comparator)}track(e){let t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Q(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){let e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}},wa=class n{constructor(e,t,r,i,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,xp.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var nD=class{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}},rD=class{constructor(){this.queries=lx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=J(t),o=i.queries;i.queries=lx(),o.forEach((s,a)=>{for(let c of a.Sa)c.onError(r)})})(this,new $(P.ABORTED,"Firestore shutting down"))}};function lx(){return new Or(n=>tk(n),Yp)}function jD(n,e){return v(this,null,function*(){let t=J(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new nD,r=e.va()?0:1);try{switch(r){case 0:o.ba=yield t.onListen(i,!0);break;case 1:o.ba=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=VD(s,`Initialization of query '${aa(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&BD(t)})}function UD(n,e){return v(this,null,function*(){let t=J(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function z9(n,e){let t=J(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.Sa)a.Ma(i)&&(r=!0);s.ba=i}}r&&BD(t)}function q9(n,e,t){let r=J(n),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(t);r.queries.delete(e)}function BD(n){n.Ca.forEach(e=>{e.next()})}var iD,dx;(dx=iD||(iD={})).xa="default",dx.Cache="cache";var $u=class{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new wa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;let r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;let t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==iD.Cache}};var Op=class{constructor(e){this.key=e}},Fp=class{constructor(e){this.key=e}},oD=class{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=pe(),this.mutatedKeys=pe(),this.Za=nk(e),this.Xa=new xp(this.Za)}get eu(){return this.Ha}tu(e,t){let r=t?t.nu:new kp,i=t?t.Xa:this.Xa,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),m=Zp(this.query,p)?p:null,w=!!g&&this.mutatedKeys.has(g.key),A=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),R=!1;g&&m?g.data.isEqual(m.data)?w!==A&&(r.track({type:3,doc:m}),R=!0):this.ru(g,m)||(r.track({type:2,doc:m}),R=!0,(c&&this.Za(m,c)>0||l&&this.Za(m,l)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),R=!0):g&&!m&&(r.track({type:1,doc:g}),R=!0,(c||l)&&(a=!0)),R&&(m?(s=s.add(m),o=A?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Xa:s,nu:r,Cs:a,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;let s=e.nu.wa();s.sort((h,p)=>function(m,w){let A=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{Vt:R})}};return A(m)-A(w)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),i=i!=null&&i;let a=t&&!i?this.su():[],c=this.Ya.size===0&&this.current&&!i?1:0,l=c!==this.Ja;return this.Ja=c,s.length!==0||l?{snapshot:new wa(this.query,e.Xa,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new kp,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];let e=this.Ya;this.Ya=pe(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});let t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new Fp(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new Op(r))}),t}au(e){this.Ha=e.$s,this.Ya=pe();let t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return wa.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}},$D="SyncEngine",sD=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},aD=class{constructor(e){this.key=e,this.cu=!1}},cD=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new Or(a=>tk(a),Yp),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ve(K.comparator),this.Eu=new Map,this.du=new Bu,this.Au={},this.Ru=new Map,this.Vu=Uu.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}};function G9(n,e,t=!0){return v(this,null,function*(){let r=Fk(n),i,o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=yield Mk(r,e,t,!0),i})}function W9(n,e){return v(this,null,function*(){let t=Fk(n);yield Mk(t,e,!0,!1)})}function Mk(n,e,t,r){return v(this,null,function*(){let i=yield N9(n.localStore,er(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield K9(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&bk(n.remoteStore,i),a})}function K9(n,e,t,r,i){return v(this,null,function*(){n.fu=(p,g,m)=>function(A,R,k,H){return v(this,null,function*(){let z=R.view.tu(k);z.Cs&&(z=yield sx(A.localStore,R.query,!1).then(({documents:T})=>R.view.tu(T,z)));let ge=H&&H.targetChanges.get(R.targetId),$e=H&&H.targetMismatches.get(R.targetId)!=null,ve=R.view.applyChanges(z,A.isPrimaryClient,ge,$e);return fx(A,R.targetId,ve.ou),ve.snapshot})}(n,p,g,m);let o=yield sx(n.localStore,e,!0),s=new oD(e,o.$s),a=s.tu(o.documents),c=Vu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,c);fx(n,t,l.ou);let h=new sD(e,t,s);return n.hu.set(e,h),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),l.snapshot})}function Q9(n,e,t){return v(this,null,function*(){let r=J(n),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!Yp(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield $w(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&kD(r.remoteStore,i.targetId),uD(r,i.targetId)}).catch(Ca))):(uD(r,i.targetId),yield $w(r.localStore,i.targetId,!0))})}function Y9(n,e){return v(this,null,function*(){let t=J(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),kD(t.remoteStore,r.targetId))})}function Z9(n,e,t){return v(this,null,function*(){let r=iW(n);try{let i=yield function(s,a){let c=J(s),l=ct.now(),h=a.reduce((m,w)=>m.add(w.key),pe()),p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=Fr(),A=pe();return c.Bs.getEntries(m,h).next(R=>{w=R,w.forEach((k,H)=>{H.isValidDocument()||(A=A.add(k))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,w)).next(R=>{p=R;let k=[];for(let H of a){let z=n9(H,p.get(H.key).overlayedDocument);z!=null&&k.push(new ir(H.key,z,Kx(z.value.mapValue),tr.exists(!0)))}return c.mutationQueue.addMutationBatch(m,l,k,a)}).next(R=>{g=R;let k=R.applyToLocalDocumentSet(p,A);return c.documentOverlayCache.saveOverlays(m,R.batchId,k)})}).then(()=>({batchId:g.batchId,changes:ik(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.Au[s.currentUser.toKey()];l||(l=new Ve(de)),l=l.insert(a,c),s.Au[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Yu(r,i.changes),yield eg(r.remoteStore)}catch(i){let o=VD(i,"Failed to persist write");t.reject(o)}})}function Pk(n,e){return v(this,null,function*(){let t=J(n);try{let r=yield S9(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?Ie(s.cu,14607):i.removedDocuments.size>0&&(Ie(s.cu,42227),s.cu=!1))}),yield Yu(t,r,e)}catch(r){yield Ca(r)}})}function hx(n,e,t){let r=J(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.hu.forEach((o,s)=>{let a=s.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=J(s);c.onlineState=a;let l=!1;c.queries.forEach((h,p)=>{for(let g of p.Sa)g.Fa(a)&&(l=!0)}),l&&BD(c)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function J9(n,e,t){return v(this,null,function*(){let r=J(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Ve(K.comparator);s=s.insert(o,Sn.newNoDocument(o,ne.min()));let a=pe().add(o),c=new Ep(ne.min(),new Map,new Ve(de),s,a);yield Pk(r,c),r.Iu=r.Iu.remove(o),r.Eu.delete(e),HD(r)}else yield $w(r.localStore,e,!1).then(()=>uD(r,e,t)).catch(Ca)})}function X9(n,e){return v(this,null,function*(){let t=J(n),r=e.batch.batchId;try{let i=yield C9(t.localStore,e);kk(t,r,null),xk(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Yu(t,i)}catch(i){yield Ca(i)}})}function eW(n,e,t){return v(this,null,function*(){let r=J(n);try{let i=yield function(s,a){let c=J(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return c.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ie(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(l,p))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>c.localDocuments.getDocuments(l,h))})}(r.localStore,e);kk(r,e,t),xk(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Yu(r,i)}catch(i){yield Ca(i)}})}function xk(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function kk(n,e,t){let r=J(n),i=r.Au[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function uD(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||Ok(n,r)})}function Ok(n,e){n.Tu.delete(e.path.canonicalString());let t=n.Iu.get(e);t!==null&&(kD(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),HD(n))}function fx(n,e,t){for(let r of t)r instanceof Op?(n.du.addReference(r.key,e),tW(n,r)):r instanceof Fp?(B($D,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||Ok(n,r.key)):Q(19791,{pu:r})}function tW(n,e){let t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(B($D,"New document in limbo: "+t),n.Tu.add(r),HD(n))}function HD(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){let e=n.Tu.values().next().value;n.Tu.delete(e);let t=new K(ke.fromString(e)),r=n.Vu.next();n.Eu.set(r,new aD(t)),n.Iu=n.Iu.insert(t,r),bk(n.remoteStore,new ju(er(Qp(t.path)),r,"TargetPurposeLimboResolution",DD.le))}}function Yu(n,e,t){return v(this,null,function*(){let r=J(n),i=[],o=[],s=[];r.hu.isEmpty()||(r.hu.forEach((a,c)=>{s.push(r.fu(c,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Vw.Rs(c.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.lu.Y_(i),yield function(c,l){return v(this,null,function*(){let h=J(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,g=>x.forEach(g.ds,m=>h.persistence.referenceDelegate.addReference(p,g.targetId,m)).next(()=>x.forEach(g.As,m=>h.persistence.referenceDelegate.removeReference(p,g.targetId,m)))))}catch(p){if(!Sa(p))throw p;B(xD,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let m=h.xs.get(g),w=m.snapshotVersion,A=m.withLastLimboFreeSnapshotVersion(w);h.xs=h.xs.insert(g,A)}}})}(r.localStore,o))})}function nW(n,e){return v(this,null,function*(){let t=J(n);if(!t.currentUser.isEqual(e)){B($D,"User change. New user:",e.toKey());let r=yield Dk(t.localStore,e);t.currentUser=e,function(o,s){o.Ru.forEach(a=>{a.forEach(c=>{c.reject(new $(P.CANCELLED,s))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Yu(t,r.ks)}})}function rW(n,e){let t=J(n),r=t.Eu.get(e);if(r&&r.cu)return pe().add(r.key);{let i=pe(),o=t.Pu.get(e);if(!o)return i;for(let s of o){let a=t.hu.get(s);i=i.unionWith(a.view.eu)}return i}}function Fk(n){let e=J(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=J9.bind(null,e),e.lu.Y_=z9.bind(null,e.eventManager),e.lu.gu=q9.bind(null,e.eventManager),e}function iW(n){let e=J(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=X9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eW.bind(null,e),e}var Lk=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return v(this,null,function*(){this.serializer=Jp(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),yield this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)})}vu(t,r){return null}Cu(t,r){return null}Du(t){return b9(this.persistence,new Uw,t.initialUser,this.serializer)}Su(t){return new Cp(Lw.fi,this.serializer)}bu(t){return new Hw}terminate(){return v(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),lD=class extends Lk{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Ie(this.persistence.referenceDelegate instanceof Sp,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Tw(r,e.asyncQueue,t)}Su(e){let t=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new Cp(r=>Sp.fi(r,t),this.serializer)}};var oW=(()=>{class n{initialize(t,r){return v(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>hx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=nW.bind(null,this.syncEngine),yield H9(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new rD}()}createDatastore(t){let r=Jp(t.databaseInfo.databaseId),i=function(s){return new Kw(s)}(t.databaseInfo);return function(s,a,c,l){return new Jw(s,a,c,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new eD(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>hx(this.syncEngine,r,0),function(){return Rp.C()?new Rp:new zw}())}createSyncEngine(t,r){return function(o,s,a,c,l,h,p){let g=new cD(o,s,a,c,l,h);return p&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var t,r;yield function(o){return v(this,null,function*(){let s=J(o);B(xo,"RemoteStore shutting down."),s.da.add(5),yield Qu(s),s.Ra.shutdown(),s.Va.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Hu=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Pr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Ci="FirestoreClient",dD=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=rt.UNAUTHENTICATED,this.clientId=hp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){B(Ci,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(B(Ci,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=VD(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function FI(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),B(Ci,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>v(null,null,function*(){r.isEqual(i)||(yield Dk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function px(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield sW(n);B(Ci,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>ux(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>ux(e.remoteStore,i)),n._onlineComponents=e})}function sW(n){return v(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){B(Ci,"Using user provided OfflineComponentProvider");try{yield FI(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;fa("Error using user provided cache. Falling back to memory cache: "+t),yield FI(n,new Lk)}}else B(Ci,"Using default OfflineComponentProvider"),yield FI(n,new lD(void 0));return n._offlineComponents})}function Vk(n){return v(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(B(Ci,"Using user provided OnlineComponentProvider"),yield px(n,n._uninitializedComponentsProvider._online)):(B(Ci,"Using default OnlineComponentProvider"),yield px(n,new oW))),n._onlineComponents})}function aW(n){return Vk(n).then(e=>e.syncEngine)}function Lp(n){return v(this,null,function*(){let e=yield Vk(n),t=e.eventManager;return t.onListen=G9.bind(null,e.syncEngine),t.onUnlisten=Q9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=W9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Y9.bind(null,e.syncEngine),t})}function cW(n,e,t={}){let r=new Cn;return n.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return function(o,s,a,c,l){let h=new Hu({next:g=>{h.xu(),s.enqueueAndForget(()=>UD(o,p));let m=g.docs.has(a);!m&&g.fromCache?l.reject(new $(P.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&c&&c.source==="server"?l.reject(new $(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new $u(Qp(a.path),h,{includeMetadataChanges:!0,Qa:!0});return jD(o,p)}(yield Lp(n),n.asyncQueue,e,t,r)})),r.promise}function uW(n,e,t={}){let r=new Cn;return n.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return function(o,s,a,c,l){let h=new Hu({next:g=>{h.xu(),s.enqueueAndForget(()=>UD(o,p)),g.fromCache&&c.source==="server"?l.reject(new $(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new $u(a,h,{includeMetadataChanges:!0,Qa:!0});return jD(o,p)}(yield Lp(n),n.asyncQueue,e,t,r)})),r.promise}function jk(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var gx=new Map;function Uk(n,e,t){if(!t)throw new $(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function lW(n,e,t,r){if(e===!0&&r===!0)throw new $(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function mx(n){if(!K.isDocumentKey(n))throw new $(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function yx(n){if(K.isDocumentKey(n))throw new $(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function tg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Q(12329,{type:typeof n})}function Bt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=tg(n);throw new $(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Bk="firestore.googleapis.com",vx=!0,Vp=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bk,this.ssl=vx}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:vx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<w9)throw new $(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Da=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new LI;switch(r.type){case"firstParty":return new BI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=gx.get(t);r&&(B("ComponentProvider","Removing Datastore"),gx.delete(t),r.terminate())}(this),Promise.resolve()}};function $k(n,e,t,r={}){var i;n=Bt(n,Da);let o=pi(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(If(`https://${c}`),wf("Firestore",!0)),s.host!==Bk&&s.host!==c&&fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!Qn(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=rt.MOCK_USER;else{h=QN(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new $(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new rt(g)}n._authCredentials=new VI(new lp(h,p))}}var ko=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Et=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Di=class n extends ko{constructor(e,t,r){super(e,t,Qp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new K(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Hk(n,e,...t){if(n=Ae(n),Uk("collection","path",e),n instanceof Da){let r=ke.fromString(e,...t);return yx(r),new Di(n,null,r)}{if(!(n instanceof Et||n instanceof Di))throw new $(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ke.fromString(e,...t));return yx(r),new Di(n.firestore,null,r)}}function zD(n,e,...t){if(n=Ae(n),arguments.length===1&&(e=hp.newId()),Uk("doc","path",e),n instanceof Da){let r=ke.fromString(e,...t);return mx(r),new Et(n,null,new K(r))}{if(!(n instanceof Et||n instanceof Di))throw new $(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ke.fromString(e,...t));return mx(r),new Et(n.firestore,n instanceof Di?n.converter:null,new K(r))}}var _x="AsyncQueue",jp=class{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Np(this,"async_queue_retry"),this.rc=()=>{let r=OI();r&&B(_x,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;let t=OI();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;let t=OI();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});let t=new Cn;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}ac(){return v(this,null,function*(){if(this.Ju.length!==0){try{yield this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Sa(e))throw e;B(_x,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}})}_c(e){let t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Pr("INTERNAL UNHANDLED ERROR: ",Ex(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);let i=tD.createAndSchedule(this,e,t,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&Q(47125,{cc:Ex(this.Xu)})}verifyOperationInProgress(){}lc(){return v(this,null,function*(){let e;do e=this.sc,yield e;while(e!==this.sc)})}hc(e){for(let t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){let t=this.Zu.indexOf(e);this.Zu.splice(t,1)}};function Ex(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function Ix(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Rn=class extends Da{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new jp,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new jp(e),this._firestoreClient=void 0,yield e}})}};function ng(n,e){let t=typeof n=="object"?n:go(),r=typeof n=="string"?n:e||mp,i=Zs(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=KN("firestore");o&&$k(i,...o)}return i}function rg(n){if(n._terminated)throw new $(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||dW(n),n._firestoreClient}function dW(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,l,h){return new GI(a,c,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,jk(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new dD(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var zu=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(It.fromBase64String(e))}catch(t){throw new $(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ta=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Oo=class{constructor(e){this._methodName=e}};var qu=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}};var Gu=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var hW=/^__.*__$/,hD=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ir(e,this.data,this.fieldMask,t,this.fieldTransforms):new Po(e,this.data,t,this.fieldTransforms)}},Up=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ir(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function zk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{Ic:n})}}var fD=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return $p(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(zk(this.Ic)&&hW.test(e))throw this.gc('Document fields cannot begin and end with "__"')}},pD=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Jp(e)}bc(e,t,r,i=!1){return new fD({Ic:e,methodName:t,wc:r,path:Xt.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ig(n){let e=n._freezeSettings(),t=Jp(n._databaseId);return new pD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function qk(n,e,t,r,i,o={}){let s=n.bc(o.merge||o.mergeFields?2:0,e,t,i);qD("Data must be an object, but it was:",s,r);let a=Gk(r,s),c,l;if(o.merge)c=new cn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=yD(e,p,t);if(!s.contains(g))throw new $(P.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Kk(h,g)||h.push(g)}c=new cn(h),l=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,l=s.fieldTransforms;return new hD(new Jt(a),c,l)}var Bp=class n extends Oo{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};var gD=class n extends Oo{_toFieldTransform(e){return new _p(e.path,new Ao)}isEqual(e){return e instanceof n}};var mD=class n extends Oo{constructor(e,t){super(e),this.Dc=t}_toFieldTransform(e){let t=new Mo(e.serializer,ak(e.serializer,this.Dc));return new _p(e.path,t)}isEqual(e){return e instanceof n&&this.Dc===e.Dc}};function fW(n,e,t,r){let i=n.bc(1,e,t);qD("Data must be an object, but it was:",i,r);let o=[],s=Jt.empty();Si(r,(c,l)=>{let h=GD(e,c,t);l=Ae(l);let p=i.mc(h);if(l instanceof Bp)o.push(h);else{let g=Zu(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new cn(o);return new Up(s,a,i.fieldTransforms)}function pW(n,e,t,r,i,o){let s=n.bc(1,e,t),a=[yD(e,r,t)],c=[i];if(o.length%2!=0)throw new $(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(yD(e,o[g])),c.push(o[g+1]);let l=[],h=Jt.empty();for(let g=a.length-1;g>=0;--g)if(!Kk(l,a[g])){let m=a[g],w=c[g];w=Ae(w);let A=s.mc(m);if(w instanceof Bp)l.push(m);else{let R=Zu(w,A);R!=null&&(l.push(m),h.set(m,R))}}let p=new cn(l);return new Up(h,p,s.fieldTransforms)}function gW(n,e,t,r=!1){return Zu(t,n.bc(r?4:3,e))}function Zu(n,e){if(Wk(n=Ae(n)))return qD("Unsupported field value:",e,n),Gk(n,e);if(n instanceof Oo)return function(r,i){if(!zk(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=Zu(a,i.fc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Ae(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ak(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ct.fromDate(r);return{timestampValue:Tp(i.serializer,o)}}if(r instanceof ct){let o=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Tp(i.serializer,o)}}if(r instanceof qu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zu)return{bytesValue:gk(i.serializer,r._byteString)};if(r instanceof Et){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:PD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Gu)return function(s,a){return{mapValue:{fields:{[CD]:{stringValue:SD},[ga]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.gc("VectorValues must only contain numeric values.");return MD(a.serializer,l)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${tg(r)}`)}(n,e)}function Gk(n,e){let t={};return Ux(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Si(n,(r,i)=>{let o=Zu(i,e.Ac(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function Wk(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ct||n instanceof qu||n instanceof zu||n instanceof Et||n instanceof Oo||n instanceof Gu)}function qD(n,e,t){if(!Wk(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=tg(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function yD(n,e,t){if((e=Ae(e))instanceof Ta)return e._internalPath;if(typeof e=="string")return GD(n,e);throw $p("Field path arguments must be of type string or ",n,!1,void 0,t)}var mW=new RegExp("[~\\*/\\[\\]]");function GD(n,e,t){if(e.search(mW)>=0)throw $p(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ta(...e.split("."))._internalPath}catch{throw $p(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $p(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new $(P.INVALID_ARGUMENT,a+n+c)}function Kk(n,e){return n.some(t=>t.isEqual(e))}var Hp=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new vD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(WD("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},vD=class extends Hp{data(){return super.data()}};function WD(n,e){return typeof e=="string"?GD(n,e):e instanceof Ta?e._internalPath:e._delegate._internalPath}function Qk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new $(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Wu=class{},_D=class extends Wu{};function Yk(n,e,...t){let r=[];e instanceof Wu&&r.push(e),r=r.concat(t),function(o){let s=o.filter(c=>c instanceof ED).length,a=o.filter(c=>c instanceof zp).length;if(s>1||s>0&&a>0)throw new $(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var zp=class n extends _D{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return Jk(e._query,t),new ko(e.firestore,e.converter,ow(e._query,t))}_parse(e){let t=ig(e.firestore);return function(o,s,a,c,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new $(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Dx(p,h);let w=[];for(let A of p)w.push(wx(c,o,A));g={arrayValue:{values:w}}}else g=wx(c,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Dx(p,h),g=gW(a,s,p,h==="in"||h==="not-in");return Ke.create(l,h,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function Zk(n,e,t){let r=e,i=WD("where",n);return zp._create(i,r,t)}var ED=class n extends Wu{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:An.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)Jk(s,c),s=ow(s,c)}(e._query,t),new ko(e.firestore,e.converter,ow(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function wx(n,e,t){if(typeof(t=Ae(t))=="string"){if(t==="")throw new $(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ek(e)&&t.indexOf("/")!==-1)throw new $(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(ke.fromString(t));if(!K.isDocumentKey(r))throw new $(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return BP(n,new K(r))}if(t instanceof Et)return BP(n,t._key);throw new $(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tg(t)}.`)}function Dx(n,e){if(!Array.isArray(n)||n.length===0)throw new $(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Jk(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new $(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var ID=class{convertValue(e,t="none"){switch(Ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Si(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[ga].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Re(s.doubleValue));return new Gu(o)}convertGeoPoint(e){return new qu(Re(e.latitude),Re(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Kp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ou(e));default:return null}}convertTimestamp(e){let t=xr(e);return new ct(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ke.fromString(e);Ie(Ik(r),9688,{name:e});let i=new yp(r.get(1),r.get(3)),o=new K(r.popFirst(5));return i.isEqual(t)||Pr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function Xk(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var To=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},qp=class extends Hp{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ha(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(WD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},ha=class extends qp{data(e={}){return super.data(e)}},Gp=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new To(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ha(this._firestore,this._userDataWriter,r.key,r,new To(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new ha(i._firestore,i._userDataWriter,a.doc.key,a.doc,new To(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new ha(i._firestore,i._userDataWriter,a.doc.key,a.doc,new To(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:yW(a.type),doc:c,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function yW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:n})}}function eO(n){n=Bt(n,Et);let e=Bt(n.firestore,Rn);return cW(rg(e),n._key).then(t=>oO(e,n,t))}var Ku=class extends ID{constructor(e){super(),this.firestore=e}convertBytes(e){return new zu(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,t)}};function tO(n){n=Bt(n,ko);let e=Bt(n.firestore,Rn),t=rg(e),r=new Ku(e);return Qk(n._query),uW(t,n._query).then(i=>new Gp(e,r,n,i))}function nO(n,e,t){n=Bt(n,Et);let r=Bt(n.firestore,Rn),i=Xk(n.converter,e,t);return sg(r,[qk(ig(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,tr.none())])}function rO(n,e,t,...r){n=Bt(n,Et);let i=Bt(n.firestore,Rn),o=ig(i),s;return s=typeof(e=Ae(e))=="string"||e instanceof Ta?pW(o,"updateDoc",n._key,e,t,r):fW(o,"updateDoc",n._key,e),sg(i,[s.toMutation(n._key,tr.exists(!0))])}function iO(n){return sg(Bt(n.firestore,Rn),[new Lu(n._key,tr.none())])}function og(n,e){let t=Bt(n.firestore,Rn),r=zD(n),i=Xk(n.converter,e);return sg(t,[qk(ig(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,tr.exists(!1))]).then(()=>r)}function KD(n,...e){var t,r,i;n=Ae(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Ix(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Ix(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,l,h;if(n instanceof Et)l=Bt(n.firestore,Rn),h=Qp(n._key.path),c={next:p=>{e[s]&&e[s](oO(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Bt(n,ko);l=Bt(p.firestore,Rn),h=p._query;let g=new Ku(l);c={next:m=>{e[s]&&e[s](new Gp(l,g,p,m))},error:e[s+1],complete:e[s+2]},Qk(n._query)}return function(g,m,w,A){let R=new Hu(A),k=new $u(m,R,w);return g.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return jD(yield Lp(g),k)})),()=>{R.xu(),g.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return UD(yield Lp(g),k)}))}}(rg(l),h,a,c)}function sg(n,e){return function(r,i){let o=new Cn;return r.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return Z9(yield aW(r),i,o)})),o.promise}(rg(n),e)}function oO(n,e,t){let r=t.docs.get(e._key),i=new Ku(n);return new qp(n,i,e._key,r,new To(t.hasPendingWrites,t.fromCache),e.converter)}function sO(){return new gD("serverTimestamp")}function aO(n){return new mD("increment",n)}(function(e,t=!0){(function(i){ba=i})(mi),Dn(new Ct("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Rn(new jI(r.getProvider("auth-internal")),new $I(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new $(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yp(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Le(MP,PP,e),Le(MP,PP,"esm2017")})();var ag=function(){return ag=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ag.apply(this,arguments)};var EW={includeMetadataChanges:!1};function cO(n,e){return e===void 0&&(e=EW),new re(function(t){var r=KD(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function uO(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:ag(ag({},r),(t={},t[e.idField]=n.id,t))}function lO(n){return cO(n,{includeMetadataChanges:!0}).pipe(ee(function(e){return e.docs}))}function dO(n,e){return e===void 0&&(e={}),lO(n).pipe(ee(function(t){return t.map(function(r){return uO(r,e)})}))}var Lo=class{constructor(e){return e}},hO="firestore",QD=class{constructor(){return ra(hO)}};var YD=new V("angularfire2.firestore-instances");function IW(n,e){let t=Du(hO,n,e);return t&&new Lo(t)}function wW(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Lo(r)}}var DW={provide:QD,deps:[[new bt,YD]]},TW={provide:Lo,useFactory:IW,deps:[[new bt,YD],Rr]};function fse(n,...e){return Le("angularfire",Ei.full,"fst"),qt([TW,DW,{provide:YD,useFactory:wW(n),multi:!0,deps:[he,Ue,Ii,Eo,[new bt,Cu],[new bt,ia],...e]}])}var pse=qe(dO,!0);var gse=qe(og,!0,2);var cg=qe(Hk,!0,2);var mse=qe(iO,!0,2);var Vo=qe(zD,!0,2);var ug=qe(eO,!0);var lg=qe(tO,!0);var yse=qe(ng,!0);var fO=qe(aO,!0,2);var dg=qe(Yk,!0,2);var Ju=qe(nO,!0,2);var Xu=qe(rO,!0,2);var hg=qe(Zk,!0,2);var pO=class n{constructor(e){this.firestore=e;AP(this._auth,t=>v(this,null,function*(){if(!t){this.userNameSubject.next(null),this.userRoleSubject.next(null);return}let r=t.uid,i=null;if(t.providerData[0]?.providerId==="google.com")i=t.displayName||t.email||null;else{let o=Vo(this.firestore,"usuarios",r),s=yield ug(o);if(s.exists()){let a=s.data();i=a?.nombre||t.email||null,this.userRoleSubject.next(a?.role||"user")}}this.userNameSubject.next(i)}))}_auth=M(Io);roles="user";auth=wu();userNameSubject=new He(null);userName$=this.userNameSubject.asObservable();userRoleSubject=new He(null);userRole$=this.userRoleSubject.asObservable();loadUserRole(e,t){return v(this,null,function*(){let r=Vo(this.firestore,"usuarios",e),o=(yield ug(r)).data();if(o){this.userRoleSubject.next(o?.role||"user");let s=o?.nombre;this.userNameSubject.next(s&&s.trim()!==""?s:"USUARIO"),console.log("Usuario encontrado en usuarios:",e,s)}else if(t){let s=Vo(this.firestore,"numeros",t),a=yield ug(s);if(a.exists()){let l=a.data()?.nombre||"USUARIO";this.userNameSubject.next(l),this.userRoleSubject.next("user"),console.log("Nombre encontrado en numeros:",l),yield Ju(r,{nombre:l,role:"user",telefono:t,creadoEn:new Date})}else yield Ju(s,{telefono:t,nombre:"USUARIOW",creadoEn:new Date}),this.userNameSubject.next("USUARIOW"),this.userRoleSubject.next("user"),yield Ju(r,{nombre:"USUARIOW",role:"user",telefono:t,creadoEn:new Date}),console.log("Nuevo documento creado en numeros con nombre USUARIOW")}})}incrementarIntentosPorEmail(e){return v(this,null,function*(){let t=cg(this.firestore,"usuarios"),r=dg(t,hg("email","==",e)),i=yield lg(r);if(i.empty)console.warn(`No se encontr\xF3 un usuario con el email: ${e}`);else{let o=i.docs[0],s=o.id,l=(o.data().intentos??0)+1;yield Xu(Vo(this.firestore,"usuarios",s),{intentos:l}),console.log(`Intentos para ${e}: ${l}`),l>=3&&alert("\xA1Este usuario ha superado el l\xEDmite de intentos!")}})}cambiarPassword(e,t){return v(this,null,function*(){try{let i=(yield Iu(this._auth,e.email,e.password)).user;yield Yf(i,t),console.log("Contrase\xF1a actualizada correctamente.")}catch(r){throw console.error("Error al cambiar la contrase\xF1a:",r),r}})}updateUserName(e){let t=e?.displayName||e?.email||null;this.userNameSubject.next(t)}signUp(e){return v(this,null,function*(){let t=yield Qf(this._auth,e.email,e.password);return this.updateUserName(t.user),yield Ju(Vo(this.firestore,"usuarios",t.user.uid),{email:e.email,nombre:e.nombre,telefono:"",intentos:0,role:this.roles||"user"}),yield this.loadUserRole(t.user.uid),t})}signIn(e){return v(this,null,function*(){let t=cg(this.firestore,"usuarios"),r=dg(t,hg("email","==",e.email)),i=yield lg(r);if(i.empty)throw new Error("Usuario no encontrado");let o=i.docs[0],s=o.data();if(s.intentos>=3)throw alert("Demasiados intentos, cambia tu clave para poder ingresar"),new Error("Demasiados intentos fallidos. Intenta m\xE1s tarde.");try{let a=yield Iu(this._auth,e.email,e.password);yield Xu(o.ref,{intentos:0});let c=s.nombre||a.user.email||null;return this.userNameSubject.next(c),this.userRoleSubject.next(s.role||"user"),a}catch{throw yield Xu(o.ref,{intentos:fO(1),ultimoIntento:sO()}),alert("datos incorrectos"),new Error("Correo o contrase\xF1a incorrectos")}})}signInWithGoogle(){return v(this,null,function*(){let e=new dI,t=yield Xf(this._auth,e),r=t.user;this.updateUserName(r),yield this.loadUserRole(r.uid);let i=ng(),o=cg(i,"usuarios"),s=dg(o,hg("email","==",r.email)),a=yield lg(s);return a.empty?yield og(o,{uid:r.uid,email:r.email,nombre:r.displayName||"",intentos:0,telefono:""}):a.forEach(c=>v(this,null,function*(){let l=Vo(i,"usuarios",c.id);yield Xu(l,{intentos:0})})),t})}cerrarSesion(){return Zf(this._auth).then(()=>{this.userNameSubject.next(null),console.log("Sesi\xF3n cerrada correctamente.")}).catch(e=>{console.error("Error al cerrar sesi\xF3n:",e)})}getCurrentUser(){return new Promise(e=>{let t=this.auth.onAuthStateChanged(r=>{t(),e(r)})})}static \u0275fac=function(t){return new(t||n)(G(Lo))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})};export{CW as a,SW as b,v as c,Fe as d,re as e,Ko as f,Ne as g,He as h,W as i,Jo as j,pm as k,ee as l,tc as m,Xo as n,gm as o,Xe as p,M1 as q,dr as r,P1 as s,hr as t,Kr as u,k1 as v,O1 as w,Jl as x,vm as y,st as z,j as A,kt as B,V as C,G as D,M as E,uF as F,nn as G,AZ as H,RZ as I,jn as J,Ue as K,Kb as L,Me as M,he as N,On as O,mt as P,ei as Q,_v as R,Iv as S,Bn as T,iV as U,oV as V,NZ as W,MZ as X,Ki as Y,ms as Z,q as _,ri as $,$0 as aa,Lt as ba,Ee as ca,Uv as da,yt as ea,T2 as fa,Ss as ga,z2 as ha,ah as ia,BZ as ja,$Z as ka,HZ as la,zZ as ma,qZ as na,rA as oa,iA as pa,Wv as qa,oA as ra,sA as sa,aU as ta,GZ as ua,$n as va,WZ as wa,KZ as xa,QZ as ya,vU as za,cA as Aa,uA as Ba,YZ as Ca,lA as Da,dA as Ea,ZZ as Fa,JZ as Ga,EU as Ha,hA as Ia,IU as Ja,wU as Ka,XZ as La,DU as Ma,on as Na,eJ as Oa,tJ as Pa,nJ as Qa,rJ as Ra,iJ as Sa,oJ as Ta,sJ as Ua,ii as Va,Yv as Wa,oi as Xa,Be as Ya,nB as Za,OA as _a,rB as $a,iB as ab,oB as bb,sB as cb,o_ as db,uB as eb,TB as fb,MB as gb,iR as hb,e$ as ib,t$ as jb,Qt as kb,Kn as lb,V_ as mb,In as nb,nf as ob,MH as pb,kH as qb,OH as rb,$H as sb,IN as tb,dN as ub,une as vb,lne as wb,d4 as xb,nu as yb,p4 as zb,hne as Ab,m4 as Bb,v4 as Cb,E4 as Db,UN as Eb,fne as Fb,pne as Gb,S4 as Hb,R4 as Ib,gne as Jb,mne as Kb,yne as Lb,Xre as Mb,eie as Nb,Iu as Ob,Yf as Pb,pI as Qb,QE as Rb,dP as Sb,wu as Tb,Pie as Ub,xie as Vb,Hk as Wb,zD as Xb,ng as Yb,Yk as Zb,Zk as _b,tO as $b,rO as ac,Lo as bc,fse as cc,pse as dc,gse as ec,cg as fc,mse as gc,Vo as hc,yse as ic,Xu as jc,pO as kc};
