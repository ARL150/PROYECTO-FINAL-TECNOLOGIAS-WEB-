var IO=Object.create;var bg=Object.defineProperty,wO=Object.defineProperties,DO=Object.getOwnPropertyDescriptor,TO=Object.getOwnPropertyDescriptors,bO=Object.getOwnPropertyNames,RT=Object.getOwnPropertySymbols,MT=Object.getPrototypeOf,PT=Object.prototype.hasOwnProperty,CO=Object.prototype.propertyIsEnumerable,SO=Reflect.get;var NT=(n,e,t)=>e in n?bg(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,O=(n,e)=>{for(var t in e||={})PT.call(e,t)&&NT(n,t,e[t]);if(RT)for(var t of RT(e))CO.call(e,t)&&NT(n,t,e[t]);return n},ue=(n,e)=>wO(n,TO(e));var F9=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var AO=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of bO(e))!PT.call(n,i)&&i!==t&&bg(n,i,{get:()=>e[i],enumerable:!(r=DO(e,i))||r.enumerable});return n};var L9=(n,e,t)=>(t=n!=null?IO(MT(n)):{},AO(e||!n||!n.__esModule?bg(t,"default",{value:n,enumerable:!0}):t,n));var Lr=(n,e,t)=>SO(MT(n),t,e);var v=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});function Rg(n,e){return Object.is(n,e)}var Ke=null,ll=!1,Ng=1,Qt=Symbol("SIGNAL");function ae(n){let e=Ke;return Ke=n,e}function Mg(){return Ke}var za={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function qa(n){if(ll)throw new Error("");if(Ke===null)return;Ke.consumerOnSignalRead(n);let e=Ke.nextProducerIndex++;if(pl(Ke),e<Ke.producerNode.length&&Ke.producerNode[e]!==n&&Ha(Ke)){let t=Ke.producerNode[e];fl(t,Ke.producerIndexOfThis[e])}Ke.producerNode[e]!==n&&(Ke.producerNode[e]=n,Ke.producerIndexOfThis[e]=Ha(Ke)?kT(n,Ke,e):0),Ke.producerLastReadVersion[e]=n.version}function xT(){Ng++}function Pg(n){if(!(Ha(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Ng)){if(!n.producerMustRecompute(n)&&!Fg(n)){Ag(n);return}n.producerRecomputeValue(n),Ag(n)}}function xg(n){if(n.liveConsumerNode===void 0)return;let e=ll;ll=!0;try{for(let t of n.liveConsumerNode)t.dirty||RO(t)}finally{ll=e}}function kg(){return Ke?.consumerAllowSignalWrites!==!1}function RO(n){n.dirty=!0,xg(n),n.consumerMarkedDirty?.(n)}function Ag(n){n.dirty=!1,n.lastCleanEpoch=Ng}function hl(n){return n&&(n.nextProducerIndex=0),ae(n)}function Og(n,e){if(ae(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ha(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)fl(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Fg(n){pl(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Pg(t),r!==t.version))return!0}return!1}function Lg(n){if(pl(n),Ha(n))for(let e=0;e<n.producerNode.length;e++)fl(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function kT(n,e,t){if(OT(n),n.liveConsumerNode.length===0&&FT(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=kT(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function fl(n,e){if(OT(n),n.liveConsumerNode.length===1&&FT(n))for(let r=0;r<n.producerNode.length;r++)fl(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];pl(i),i.producerIndexOfThis[r]=e}}function Ha(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function pl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function OT(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function FT(n){return n.producerNode!==void 0}function Vg(n,e){let t=Object.create(NO);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Pg(t),qa(t),t.value===dl)throw t.error;return t.value};return r[Qt]=t,r}var Cg=Symbol("UNSET"),Sg=Symbol("COMPUTING"),dl=Symbol("ERRORED"),NO=ue(O({},za),{value:Cg,dirty:!0,error:null,equal:Rg,kind:"computed",producerMustRecompute(n){return n.value===Cg||n.value===Sg},producerRecomputeValue(n){if(n.value===Sg)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Sg;let t=hl(n),r,i=!1;try{r=n.computation(),ae(null),i=e!==Cg&&e!==dl&&r!==dl&&n.equal(e,r)}catch(o){r=dl,n.error=o}finally{Og(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function MO(){throw new Error}var LT=MO;function VT(n){LT(n)}function jg(n){LT=n}var PO=null;function Ug(n,e){let t=Object.create(gl);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(qa(t),t.value);return r[Qt]=t,r}function Ga(n,e){kg()||VT(n),n.equal(n.value,e)||(n.value=e,xO(n))}function Bg(n,e){kg()||VT(n),Ga(n,e(n.value))}var gl=ue(O({},za),{equal:Rg,value:void 0,kind:"signal"});function xO(n){n.version++,xT(),xg(n),PO?.()}function $g(n){let e=ae(null);try{return n()}finally{ae(e)}}var Hg;function Wa(){return Hg}function or(n){let e=Hg;return Hg=n,e}var ml=Symbol("NotFound");function J(n){return typeof n=="function"}function Uo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var yl=Uo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ri(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Fe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(J(r))try{r()}catch(o){e=o instanceof yl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{jT(o)}catch(s){e=e??[],s instanceof yl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new yl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)jT(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ri(t,e)}remove(e){let{_finalizers:t}=this;t&&Ri(t,e),e instanceof n&&e._removeParent(this)}};Fe.EMPTY=(()=>{let n=new Fe;return n.closed=!0,n})();var zg=Fe.EMPTY;function vl(n){return n instanceof Fe||n&&"closed"in n&&J(n.remove)&&J(n.add)&&J(n.unsubscribe)}function jT(n){J(n)?n():n.unsubscribe()}var un={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Bo={setTimeout(n,e,...t){let{delegate:r}=Bo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Bo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function _l(n){Bo.setTimeout(()=>{let{onUnhandledError:e}=un;if(e)e(n);else throw n})}function Ka(){}var UT=qg("C",void 0,void 0);function BT(n){return qg("E",void 0,n)}function $T(n){return qg("N",n,void 0)}function qg(n,e,t){return{kind:n,value:e,error:t}}var Ni=null;function $o(n){if(un.useDeprecatedSynchronousErrorHandling){let e=!Ni;if(e&&(Ni={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Ni;if(Ni=null,t)throw r}}else n()}function HT(n){un.useDeprecatedSynchronousErrorHandling&&Ni&&(Ni.errorThrown=!0,Ni.error=n)}var Mi=class extends Fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,vl(e)&&e.add(this)):this.destination=jO}static create(e,t,r){return new sr(e,t,r)}next(e){this.isStopped?Wg($T(e),this):this._next(e)}error(e){this.isStopped?Wg(BT(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Wg(UT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},LO=Function.prototype.bind;function Gg(n,e){return LO.call(n,e)}var Kg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){El(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){El(r)}else El(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){El(t)}}},sr=class extends Mi{constructor(e,t,r){super();let i;if(J(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&un.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Gg(e.next,o),error:e.error&&Gg(e.error,o),complete:e.complete&&Gg(e.complete,o)}):i=e}this.destination=new Kg(i)}};function El(n){un.useDeprecatedSynchronousErrorHandling?HT(n):_l(n)}function VO(n){throw n}function Wg(n,e){let{onStoppedNotification:t}=un;t&&Bo.setTimeout(()=>t(n,e))}var jO={closed:!0,next:Ka,error:VO,complete:Ka};var Ho=typeof Symbol=="function"&&Symbol.observable||"@@observable";function jt(n){return n}function Il(...n){return Qg(n)}function Qg(n){return n.length===0?jt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ne=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=BO(t)?t:new sr(t,r,i);return $o(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=zT(r),new r((i,o)=>{let s=new sr({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ho](){return this}pipe(...t){return Qg(t)(this)}toPromise(t){return t=zT(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function zT(n){var e;return(e=n??un.Promise)!==null&&e!==void 0?e:Promise}function UO(n){return n&&J(n.next)&&J(n.error)&&J(n.complete)}function BO(n){return n&&n instanceof Mi||UO(n)&&vl(n)}function Yg(n){return J(n?.lift)}function ce(n){return e=>{if(Yg(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function oe(n,e,t,r,i){return new Zg(n,e,t,r,i)}var Zg=class extends Mi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function zo(){return ce((n,e)=>{let t=null;n._refCount++;let r=oe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var qo=class extends ne{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Yg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fe;let t=this.getSubject();e.add(this.source.subscribe(oe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fe.EMPTY)}return e}refCount(){return zo()(this)}};var qT=Uo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ne=(()=>{class n extends ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new wl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new qT}next(t){$o(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){$o(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){$o(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?zg:(this.currentObservers=null,o.push(t),new Fe(()=>{this.currentObservers=null,Ri(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ne;return t.source=this,t}}return n.create=(e,t)=>new wl(e,t),n})(),wl=class extends Ne{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:zg}};var $e=class extends Ne{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Jg={now(){return(Jg.delegate||Date).now()},delegate:void 0};var Dl=class extends Fe{constructor(e,t){super()}schedule(e,t=0){return this}};var Qa={setInterval(n,e,...t){let{delegate:r}=Qa;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Qa;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Go=class extends Dl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Qa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Qa.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ri(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Wo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Wo.now=Jg.now;var Ko=class extends Wo{constructor(e,t=Wo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Vr=new Ko(Go),Xg=Vr;var Tl=class extends Go{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var bl=class extends Ko{};var em=new bl(Tl);var Ct=new ne(n=>n.complete());function Cl(n){return n&&J(n.schedule)}function GT(n){return n[n.length-1]}function Sl(n){return J(GT(n))?n.pop():void 0}function jr(n){return Cl(GT(n))?n.pop():void 0}function Al(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function KT(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function WT(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pi(n){return this instanceof Pi?(this.v=n,this):new Pi(n)}function QT(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(w){return Promise.resolve(w).then(m,p)}}function a(m,w){r[m]&&(i[m]=function(A){return new Promise(function(R,k){o.push([m,A,R,k])>1||u(m,A)})},w&&(i[m]=w(i[m])))}function u(m,w){try{l(r[m](w))}catch(A){g(o[0][3],A)}}function l(m){m.value instanceof Pi?Promise.resolve(m.value.v).then(h,p):g(o[0][2],m)}function h(m){u("next",m)}function p(m){u("throw",m)}function g(m,w){m(w),o.shift(),o.length&&u(o[0][0],o[0][1])}}function YT(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof WT=="function"?WT(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Rl=n=>n&&typeof n.length=="number"&&typeof n!="function";function Nl(n){return J(n?.then)}function Ml(n){return J(n[Ho])}function Pl(n){return Symbol.asyncIterator&&J(n?.[Symbol.asyncIterator])}function xl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function $O(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var kl=$O();function Ol(n){return J(n?.[kl])}function Fl(n){return QT(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Pi(t.read());if(i)return yield Pi(void 0);yield yield Pi(r)}}finally{t.releaseLock()}})}function Ll(n){return J(n?.getReader)}function Se(n){if(n instanceof ne)return n;if(n!=null){if(Ml(n))return HO(n);if(Rl(n))return zO(n);if(Nl(n))return qO(n);if(Pl(n))return ZT(n);if(Ol(n))return GO(n);if(Ll(n))return WO(n)}throw xl(n)}function HO(n){return new ne(e=>{let t=n[Ho]();if(J(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function zO(n){return new ne(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function qO(n){return new ne(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,_l)})}function GO(n){return new ne(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function ZT(n){return new ne(e=>{KO(n,e).catch(t=>e.error(t))})}function WO(n){return ZT(Fl(n))}function KO(n,e){var t,r,i,o;return KT(this,void 0,void 0,function*(){try{for(t=YT(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function St(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ur(n,e=0){return ce((t,r)=>{t.subscribe(oe(r,i=>St(r,n,()=>r.next(i),e),()=>St(r,n,()=>r.complete(),e),i=>St(r,n,()=>r.error(i),e)))})}function Br(n,e=0){return ce((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function JT(n,e){return Se(n).pipe(Br(e),Ur(e))}function XT(n,e){return Se(n).pipe(Br(e),Ur(e))}function eb(n,e){return new ne(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function tb(n,e){return new ne(t=>{let r;return St(t,e,()=>{r=n[kl](),St(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>J(r?.return)&&r.return()})}function Vl(n,e){if(!n)throw new Error("Iterable cannot be null");return new ne(t=>{St(t,e,()=>{let r=n[Symbol.asyncIterator]();St(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function nb(n,e){return Vl(Fl(n),e)}function rb(n,e){if(n!=null){if(Ml(n))return JT(n,e);if(Rl(n))return eb(n,e);if(Nl(n))return XT(n,e);if(Pl(n))return Vl(n,e);if(Ol(n))return tb(n,e);if(Ll(n))return nb(n,e)}throw xl(n)}function we(n,e){return e?rb(n,e):Se(n)}function W(...n){let e=jr(n);return we(n,e)}function Qo(n,e){let t=J(n)?n:()=>n,r=i=>i.error(t());return new ne(e?i=>e.schedule(r,0,i):r)}function tm(n){return!!n&&(n instanceof ne||J(n.lift)&&J(n.subscribe))}var ar=Uo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ib(n){return n instanceof Date&&!isNaN(n)}function X(n,e){return ce((t,r)=>{let i=0;t.subscribe(oe(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:QO}=Array;function YO(n,e){return QO(e)?n(...e):n(e)}function jl(n){return X(e=>YO(n,e))}var{isArray:ZO}=Array,{getPrototypeOf:JO,prototype:XO,keys:e1}=Object;function Ul(n){if(n.length===1){let e=n[0];if(ZO(e))return{args:e,keys:null};if(t1(e)){let t=e1(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function t1(n){return n&&typeof n=="object"&&JO(n)===XO}function Bl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Ya(...n){let e=jr(n),t=Sl(n),{args:r,keys:i}=Ul(n);if(r.length===0)return we([],e);let o=new ne(n1(r,e,i?s=>Bl(i,s):jt));return t?o.pipe(jl(t)):o}function n1(n,e,t=jt){return r=>{ob(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)ob(e,()=>{let l=we(n[u],e),h=!1;l.subscribe(oe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function ob(n,e,t){n?St(t,n,e):e()}function sb(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},m=A=>l<r?w(A):u.push(A),w=A=>{o&&e.next(A),l++;let R=!1;Se(t(A,h++)).subscribe(oe(e,k=>{i?.(k),o?m(k):e.next(k)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let k=u.shift();s?St(e,s,()=>w(k)):w(k)}g()}catch(k){e.error(k)}}))};return n.subscribe(oe(e,m,()=>{p=!0,g()})),()=>{a?.()}}function je(n,e,t=1/0){return J(e)?je((r,i)=>X((o,s)=>e(r,o,i,s))(Se(n(r,i))),t):(typeof e=="number"&&(t=e),ce((r,i)=>sb(r,i,n,t)))}function $r(n=1/0){return je(jt,n)}function ab(){return $r(1)}function Yo(...n){return ab()(we(n,jr(n)))}function $l(n){return new ne(e=>{Se(n()).subscribe(e)})}function nm(...n){let e=Sl(n),{args:t,keys:r}=Ul(n),i=new ne(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Se(t[h]).subscribe(oe(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Bl(r,a):a),o.complete())}))}});return e?i.pipe(jl(e)):i}function cb(n=0,e,t=Xg){let r=-1;return e!=null&&(Cl(e)?t=e:r=e),new ne(i=>{let o=ib(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Ze(n,e){return ce((t,r)=>{let i=0;t.subscribe(oe(r,o=>n.call(e,o,i++)&&r.next(o)))})}function ub(n){return ce((e,t)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let l=i;i=null,t.next(l)}s&&t.complete()},u=()=>{o=null,s&&t.complete()};e.subscribe(oe(t,l=>{r=!0,i=l,o||Se(n(l)).subscribe(o=oe(t,a,u))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}function r1(n,e=Vr){return ub(()=>cb(n,e))}function cr(n){return ce((e,t)=>{let r=null,i=!1,o;r=e.subscribe(oe(t,void 0,void 0,s=>{o=Se(n(s,cr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function lb(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(oe(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function An(n,e){return J(e)?je(n,e,1):je(n,1)}function i1(n,e=Vr){return ce((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function u(){let l=s+n,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}a()}t.subscribe(oe(r,l=>{o=l,s=e.now(),i||(i=e.schedule(u,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function Hr(n){return ce((e,t)=>{let r=!1;e.subscribe(oe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ur(n){return n<=0?()=>Ct:ce((e,t)=>{let r=0;e.subscribe(oe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Hl(n=o1){return ce((e,t)=>{let r=!1;e.subscribe(oe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function o1(){return new ar}function zr(n){return ce((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function lr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ze((i,o)=>n(i,o,r)):jt,ur(1),t?Hr(e):Hl(()=>new ar))}function Zo(n){return n<=0?()=>Ct:ce((e,t)=>{let r=[];e.subscribe(oe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function rm(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ze((i,o)=>n(i,o,r)):jt,Zo(1),t?Hr(e):Hl(()=>new ar))}function zl(n,e){return ce(lb(n,e,arguments.length>=2,!0))}function s1(n={}){let{connector:e=()=>new Ne,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,u,l=0,h=!1,p=!1,g=()=>{a?.unsubscribe(),a=void 0},m=()=>{g(),s=u=void 0,h=p=!1},w=()=>{let A=s;m(),A?.unsubscribe()};return ce((A,R)=>{l++,!p&&!h&&g();let k=u=u??e();R.add(()=>{l--,l===0&&!p&&!h&&(a=im(w,i))}),k.subscribe(R),!s&&l>0&&(s=new sr({next:z=>k.next(z),error:z=>{p=!0,g(),a=im(m,t,z),k.error(z)},complete:()=>{h=!0,g(),a=im(m,r),k.complete()}}),Se(A).subscribe(s))})(o)}}function im(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new sr({next:()=>{r.unsubscribe(),n()}});return Se(e(...t)).subscribe(r)}function a1(n){return Ze((e,t)=>n<=t)}function ql(...n){let e=jr(n);return ce((t,r)=>{(e?Yo(n,t,e):Yo(n,t)).subscribe(r)})}function At(n,e){return ce((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(oe(r,u=>{i?.unsubscribe();let l=0,h=o++;Se(n(u,h)).subscribe(i=oe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function om(n){return ce((e,t)=>{Se(n).subscribe(oe(t,()=>t.complete(),Ka)),!t.closed&&e.subscribe(t)})}function st(n,e,t){let r=J(n)||e||t?{next:n,error:e,complete:t}:n;return r?ce((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(oe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):jt}var nC="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",L=class extends Error{code;constructor(e,t){super(Py(e,t)),this.code=e}};function c1(n){return`NG0${Math.abs(n)}`}function Py(n,e){return`${c1(n)}${e?": "+e:""}`}var rC=Symbol("InputSignalNode#UNSET"),u1=ue(O({},gl),{transformFn:void 0,applyValueToInputSignal(n,e){Ga(n,e)}});function iC(n,e){let t=Object.create(u1);t.value=n,t.transformFn=e?.transform;function r(){if(qa(t),t.value===rC){let i=null;throw new L(-950,i)}return t.value}return r[Qt]=t,r}function ac(n){return{toString:n}.toString()}var Gl="__parameters__";function l1(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function oC(n,e,t){return ac(()=>{let r=l1(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Gl)?u[Gl]:Object.defineProperty(u,Gl,{value:[]})[Gl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var is=globalThis;function be(n){for(let e in n)if(n[e]===be)return e;throw Error("Could not find renamed property on target object.")}function d1(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Mt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Mt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Em(n,e){return n?e?`${n} ${e}`:n:e||""}var h1=be({__forward_ref__:be});function Pt(n){return n.__forward_ref__=Pt,n.toString=function(){return Mt(this())},n}function Dt(n){return sC(n)?n():n}function sC(n){return typeof n=="function"&&n.hasOwnProperty(h1)&&n.__forward_ref__===Pt}function j(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Zt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Rd(n){return db(n,cC)||db(n,uC)}function aC(n){return Rd(n)!==null}function db(n,e){return n.hasOwnProperty(e)?n[e]:null}function f1(n){let e=n&&(n[cC]||n[uC]);return e||null}function hb(n){return n&&(n.hasOwnProperty(fb)||n.hasOwnProperty(p1))?n[fb]:null}var cC=be({\u0275prov:be}),fb=be({\u0275inj:be}),uC=be({ngInjectableDef:be}),p1=be({ngInjectorDef:be}),V=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=j({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function lC(n){return n&&!!n.\u0275providers}var g1=be({\u0275cmp:be}),m1=be({\u0275dir:be}),y1=be({\u0275pipe:be}),v1=be({\u0275mod:be}),rd=be({\u0275fac:be}),ec=be({__NG_ELEMENT_ID__:be}),pb=be({__NG_ENV_ID__:be});function Nd(n){return typeof n=="string"?n:n==null?"":String(n)}function _1(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Nd(n)}function dC(n,e){throw new L(-200,n)}function xy(n,e){throw new L(-201,!1)}var se=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(se||{}),Im;function hC(){return Im}function Rt(n){let e=Im;return Im=n,e}function fC(n,e,t){let r=Rd(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&se.Optional)return null;if(e!==void 0)return e;xy(n,"Injector")}var E1={},xi=E1,wm="__NG_DI_FLAG__",id=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?ml:xi,r)}},od="ngTempTokenPath",I1="ngTokenPath",w1=/\n/gm,D1="\u0275",gb="__source";function T1(n,e=se.Default){if(Wa()===void 0)throw new L(-203,!1);if(Wa()===null)return fC(n,void 0,e);{let t=Wa(),r;return t instanceof id?r=t.injector:r=t,r.get(n,e&se.Optional?null:void 0,e)}}function G(n,e=se.Default){return(hC()||T1)(Dt(n),e)}function M(n,e=se.Default){return G(n,Md(e))}function Md(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Dm(n){let e=[];for(let t=0;t<n.length;t++){let r=Dt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new L(900,!1);let i,o=se.Default;for(let s=0;s<r.length;s++){let a=r[s],u=b1(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(G(i,o))}else e.push(G(r))}return e}function pC(n,e){return n[wm]=e,n.prototype[wm]=e,n}function b1(n){return n[wm]}function C1(n,e,t,r){let i=n[od];throw e[gb]&&i.unshift(e[gb]),n.message=S1(`
`+n.message,i,t,r),n[I1]=i,n[od]=null,n}function S1(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==D1?n.slice(2):n;let i=Mt(e);if(Array.isArray(e))i=e.map(Mt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Mt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(w1,`
  `)}`}var Tt=pC(oC("Optional"),8);var gC=pC(oC("SkipSelf"),4);function Oi(n,e){let t=n.hasOwnProperty(rd);return t?n[rd]:null}function A1(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function R1(n){return n.flat(Number.POSITIVE_INFINITY)}function ky(n,e){n.forEach(t=>Array.isArray(t)?ky(t,e):e(t))}function mC(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function sd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function N1(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function M1(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Oy(n,e,t){let r=cc(n,e);return r>=0?n[r|1]=t:(r=~r,M1(n,r,e,t)),r}function sm(n,e){let t=cc(n,e);if(t>=0)return n[t|1]}function cc(n,e){return P1(n,e,1)}function P1(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Fi={},Nt=[],os=new V(""),yC=new V("",-1),vC=new V(""),ad=class{get(e,t=xi){if(t===xi){let r=new Error(`NullInjectorError: No provider for ${Mt(e)}!`);throw r.name="NullInjectorError",r}return t}};function _C(n,e){let t=n[v1]||null;if(!t&&e===!0)throw new Error(`Type ${Mt(n)} does not have '\u0275mod' property.`);return t}function Li(n){return n[g1]||null}function x1(n){return n[m1]||null}function k1(n){return n[y1]||null}function Bt(n){return{\u0275providers:n}}function O1(...n){return{\u0275providers:EC(!0,n),\u0275fromNgModule:!0}}function EC(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return ky(e,s=>{let a=s;Tm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&IC(i,o),t}function IC(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Fy(i,o=>{e(o,r)})}}function Tm(n,e,t,r){if(n=Dt(n),!n)return!1;let i=null,o=hb(n),s=!o&&Li(n);if(!o&&!s){let u=n.ngModule;if(o=hb(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Tm(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{ky(o.imports,h=>{Tm(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&IC(l,e)}if(!a){let l=Oi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Nt},i),e({provide:vC,useValue:i,multi:!0},i),e({provide:os,useValue:()=>G(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;Fy(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Fy(n,e){for(let t of n)lC(t)&&(t=t.\u0275providers),Array.isArray(t)?Fy(t,e):e(t)}var F1=be({provide:String,useValue:be});function wC(n){return n!==null&&typeof n=="object"&&F1 in n}function L1(n){return!!(n&&n.useExisting)}function V1(n){return!!(n&&n.useFactory)}function ss(n){return typeof n=="function"}function j1(n){return!!n.useClass}var Pd=new V(""),Zl={},mb={},am;function Ly(){return am===void 0&&(am=new ad),am}var Je=class{},tc=class extends Je{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Cm(e,s=>this.processProvider(s)),this.records.set(yC,Jo(void 0,this)),i.has("environment")&&this.records.set(Je,Jo(void 0,this));let o=this.records.get(Pd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(vC,Nt,se.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?ml:xi,r)}destroy(){Ja(this),this._destroyed=!0;let e=ae(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ae(e)}}onDestroy(e){return Ja(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ja(this);let t=or(this),r=Rt(void 0),i;try{return e()}finally{or(t),Rt(r)}}get(e,t=xi,r=se.Default){if(Ja(this),e.hasOwnProperty(pb))return e[pb](this);r=Md(r);let i,o=or(this),s=Rt(void 0);try{if(!(r&se.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=z1(e)&&Rd(e);l&&this.injectableDefInScope(l)?u=Jo(bm(e),Zl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let a=r&se.Self?Ly():this.parent;return t=r&se.Optional&&t===xi?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[od]=a[od]||[]).unshift(Mt(e)),o)throw a;return C1(a,e,"R3InjectorError",this.source)}else throw a}finally{Rt(s),or(o)}}resolveInjectorInitializers(){let e=ae(null),t=or(this),r=Rt(void 0),i;try{let o=this.get(os,Nt,se.Self);for(let s of o)s()}finally{or(t),Rt(r),ae(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Mt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Dt(e);let t=ss(e)?e:Dt(e&&e.provide),r=B1(e);if(!ss(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Jo(void 0,Zl,!0),i.factory=()=>Dm(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ae(null);try{return t.value===mb?dC(Mt(e)):t.value===Zl&&(t.value=mb,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&H1(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ae(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Dt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function bm(n){let e=Rd(n),t=e!==null?e.factory:Oi(n);if(t!==null)return t;if(n instanceof V)throw new L(204,!1);if(n instanceof Function)return U1(n);throw new L(204,!1)}function U1(n){if(n.length>0)throw new L(204,!1);let t=f1(n);return t!==null?()=>t.factory(n):()=>new n}function B1(n){if(wC(n))return Jo(void 0,n.useValue);{let e=DC(n);return Jo(e,Zl)}}function DC(n,e,t){let r;if(ss(n)){let i=Dt(n);return Oi(i)||bm(i)}else if(wC(n))r=()=>Dt(n.useValue);else if(V1(n))r=()=>n.useFactory(...Dm(n.deps||[]));else if(L1(n))r=(i,o)=>G(Dt(n.useExisting),o!==void 0&&o&se.Optional?se.Optional:void 0);else{let i=Dt(n&&(n.useClass||n.provide));if($1(n))r=()=>new i(...Dm(n.deps));else return Oi(i)||bm(i)}return r}function Ja(n){if(n.destroyed)throw new L(205,!1)}function Jo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function $1(n){return!!n.deps}function H1(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function z1(n){return typeof n=="function"||typeof n=="object"&&n instanceof V}function Cm(n,e){for(let t of n)Array.isArray(t)?Cm(t,e):t&&lC(t)?Cm(t.\u0275providers,e):e(t)}function et(n,e){let t;n instanceof tc?(Ja(n),t=n):t=new id(n);let r,i=or(t),o=Rt(void 0);try{return e()}finally{or(i),Rt(o)}}function TC(){return hC()!==void 0||Wa()!=null}function Vy(n){if(!TC())throw new L(-203,!1)}function q1(n){return typeof n=="function"}var pr=0,ee=1,Y=2,ft=3,hn=4,xt=5,as=6,cd=7,Qe=8,cs=9,dr=10,Pe=11,nc=12,yb=13,ys=14,Ut=15,Vi=16,Xo=17,hr=18,xd=19,bC=20,qr=21,cm=22,ud=23,Yt=24,ns=25,Xe=26,CC=1;var ji=7,ld=8,us=9,ht=10;function Gr(n){return Array.isArray(n)&&typeof n[CC]=="object"}function gr(n){return Array.isArray(n)&&n[CC]===!0}function jy(n){return(n.flags&4)!==0}function vs(n){return n.componentOffset>-1}function kd(n){return(n.flags&1)===1}function Nn(n){return!!n.template}function dd(n){return(n[Y]&512)!==0}function _s(n){return(n[Y]&256)===256}var Sm=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function SC(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Jt=(()=>{let n=()=>AC;return n.ngInherit=!0,n})();function AC(n){return n.type.prototype.ngOnChanges&&(n.setInput=W1),G1}function G1(){let n=NC(this),e=n?.current;if(e){let t=n.previous;if(t===Fi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function W1(n,e,t,r,i){let o=this.declaredInputs[r],s=NC(n)||K1(n,{previous:Fi,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Sm(l&&l.currentValue,t,u===Fi),SC(n,e,i,t)}var RC="__ngSimpleChanges__";function NC(n){return n[RC]||null}function K1(n,e){return n[RC]=e}var vb=null;var De=function(n,e=null,t){vb?.(n,e,t)},Q1="svg",Y1="math";function Mn(n){for(;Array.isArray(n);)n=n[pr];return n}function MC(n,e){return Mn(e[n])}function Fn(n,e){return Mn(e[n.index])}function Uy(n,e){return n.data[e]}function PC(n,e){return n[e]}function Z1(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Pn(n,e){let t=e[n];return Gr(t)?t:t[pr]}function J1(n){return(n[Y]&4)===4}function By(n){return(n[Y]&128)===128}function X1(n){return gr(n[ft])}function Wr(n,e){return e==null?null:n[e]}function xC(n){n[Xo]=0}function kC(n){n[Y]&1024||(n[Y]|=1024,By(n)&&uc(n))}function eF(n,e){for(;n>0;)e=e[ys],n--;return e}function Od(n){return!!(n[Y]&9216||n[Yt]?.dirty)}function Am(n){n[dr].changeDetectionScheduler?.notify(8),n[Y]&64&&(n[Y]|=1024),Od(n)&&uc(n)}function uc(n){n[dr].changeDetectionScheduler?.notify(0);let e=Ui(n);for(;e!==null&&!(e[Y]&8192||(e[Y]|=8192,!By(e)));)e=Ui(e)}function OC(n,e){if(_s(n))throw new L(911,!1);n[qr]===null&&(n[qr]=[]),n[qr].push(e)}function tF(n,e){if(n[qr]===null)return;let t=n[qr].indexOf(e);t!==-1&&n[qr].splice(t,1)}function Ui(n){let e=n[ft];return gr(e)?e[ft]:e}function $y(n){return n[cd]??=[]}function Hy(n){return n.cleanup??=[]}function nF(n,e,t,r){let i=$y(e);i.push(t),n.firstCreatePass&&Hy(n).push(r,i.length-1)}var le={lFrame:HC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Rm=!1;function rF(){return le.lFrame.elementDepthCount}function iF(){le.lFrame.elementDepthCount++}function oF(){le.lFrame.elementDepthCount--}function zy(){return le.bindingsEnabled}function FC(){return le.skipHydrationRootTNode!==null}function sF(n){return le.skipHydrationRootTNode===n}function aF(){le.skipHydrationRootTNode=null}function re(){return le.lFrame.lView}function xe(){return le.lFrame.tView}function VY(n){return le.lFrame.contextLView=n,n[Qe]}function jY(n){return le.lFrame.contextLView=null,n}function pt(){let n=LC();for(;n!==null&&n.type===64;)n=n.parent;return n}function LC(){return le.lFrame.currentTNode}function cF(){let n=le.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Gi(n,e){let t=le.lFrame;t.currentTNode=n,t.isParent=e}function qy(){return le.lFrame.isParent}function Gy(){le.lFrame.isParent=!1}function uF(){return le.lFrame.contextLView}function VC(){return Rm}function _b(n){let e=Rm;return Rm=n,e}function Wy(){let n=le.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function lF(n){return le.lFrame.bindingIndex=n}function Es(){return le.lFrame.bindingIndex++}function jC(n){let e=le.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function dF(){return le.lFrame.inI18n}function hF(n,e){let t=le.lFrame;t.bindingIndex=t.bindingRootIndex=n,Nm(e)}function fF(){return le.lFrame.currentDirectiveIndex}function Nm(n){le.lFrame.currentDirectiveIndex=n}function pF(n){let e=le.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function UC(){return le.lFrame.currentQueryIndex}function Ky(n){le.lFrame.currentQueryIndex=n}function gF(n){let e=n[ee];return e.type===2?e.declTNode:e.type===1?n[xt]:null}function BC(n,e,t){if(t&se.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&se.Host);)if(i=gF(o),i===null||(o=o[ys],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=le.lFrame=$C();return r.currentTNode=e,r.lView=n,!0}function Qy(n){let e=$C(),t=n[ee];le.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function $C(){let n=le.lFrame,e=n===null?null:n.child;return e===null?HC(n):e}function HC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function zC(){let n=le.lFrame;return le.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var qC=zC;function Yy(){let n=zC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function mF(n){return(le.lFrame.contextLView=eF(n,le.lFrame.contextLView))[Qe]}function Yr(){return le.lFrame.selectedIndex}function Bi(n){le.lFrame.selectedIndex=n}function Fd(){let n=le.lFrame;return Uy(n.tView,n.selectedIndex)}function yF(){return le.lFrame.currentNamespace}var GC=!0;function Ld(){return GC}function Vd(n){GC=n}function vF(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=AC(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Zy(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Jl(n,e,t){WC(n,e,3,t)}function Xl(n,e,t,r){(n[Y]&3)===t&&WC(n,e,t,r)}function um(n,e){let t=n[Y];(t&3)===e&&(t&=16383,t+=1,n[Y]=t)}function WC(n,e,t,r){let i=r!==void 0?n[Xo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Xo]+=65536),(a<o||o==-1)&&(_F(n,t,e,u),n[Xo]=(n[Xo]&4294901760)+u+2),u++}function Eb(n,e){De(4,n,e);let t=ae(null);try{e.call(n)}finally{ae(t),De(5,n,e)}}function _F(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Y]>>14<n[Xo]>>16&&(n[Y]&3)===e&&(n[Y]+=16384,Eb(a,o)):Eb(a,o)}var rs=-1,$i=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function EF(n){return(n.flags&8)!==0}function IF(n){return(n.flags&16)!==0}function wF(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];DF(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function KC(n){return n===3||n===4||n===6}function DF(n){return n.charCodeAt(0)===64}function ls(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Ib(n,t,i,null,e[++r]):Ib(n,t,i,null,null))}}return n}function Ib(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function QC(n){return n!==rs}function hd(n){return n&32767}function TF(n){return n>>16}function fd(n,e){let t=TF(n),r=e;for(;t>0;)r=r[ys],t--;return r}var Mm=!0;function pd(n){let e=Mm;return Mm=n,e}var bF=256,YC=bF-1,ZC=5,CF=0,Rn={};function SF(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ec)&&(r=t[ec]),r==null&&(r=t[ec]=CF++);let i=r&YC,o=1<<i;e.data[n+(i>>ZC)]|=o}function gd(n,e){let t=JC(n,e);if(t!==-1)return t;let r=e[ee];r.firstCreatePass&&(n.injectorIndex=e.length,lm(r.data,n),lm(e,null),lm(r.blueprint,null));let i=Jy(n,e),o=n.injectorIndex;if(QC(i)){let s=hd(i),a=fd(i,e),u=a[ee].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function lm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function JC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Jy(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=rS(i),r===null)return rs;if(t++,i=i[ys],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return rs}function Pm(n,e,t){SF(n,e,t)}function AF(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(KC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function XC(n,e,t){if(t&se.Optional||n!==void 0)return n;xy(e,"NodeInjector")}function eS(n,e,t,r){if(t&se.Optional&&r===void 0&&(r=null),(t&(se.Self|se.Host))===0){let i=n[cs],o=Rt(void 0);try{return i?i.get(e,r,t&se.Optional):fC(e,r,t&se.Optional)}finally{Rt(o)}}return XC(r,e,t)}function tS(n,e,t,r=se.Default,i){if(n!==null){if(e[Y]&2048&&!(r&se.Self)){let s=PF(n,e,t,r,Rn);if(s!==Rn)return s}let o=nS(n,e,t,r,Rn);if(o!==Rn)return o}return eS(e,t,r,i)}function nS(n,e,t,r,i){let o=NF(t);if(typeof o=="function"){if(!BC(e,n,r))return r&se.Host?XC(i,t,r):eS(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&se.Optional))xy(t);else return s}finally{qC()}}else if(typeof o=="number"){let s=null,a=JC(n,e),u=rs,l=r&se.Host?e[Ut][xt]:null;for((a===-1||r&se.SkipSelf)&&(u=a===-1?Jy(n,e):e[a+8],u===rs||!Db(r,!1)?a=-1:(s=e[ee],a=hd(u),e=fd(u,e)));a!==-1;){let h=e[ee];if(wb(o,a,h.data)){let p=RF(a,e,t,s,r,l);if(p!==Rn)return p}u=e[a+8],u!==rs&&Db(r,e[ee].data[a+8]===l)&&wb(o,a,e)?(s=h,a=hd(u),e=fd(u,e)):a=-1}}return i}function RF(n,e,t,r,i,o){let s=e[ee],a=s.data[n+8],u=r==null?vs(a)&&Mm:r!=s&&(a.type&3)!==0,l=i&se.Host&&o===a,h=ed(a,s,t,u,l);return h!==null?rc(e,s,h,a,i):Rn}function ed(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let m=p;m<g;m++){let w=s[m];if(m<u&&t===w||m>=u&&w.type===t)return m}if(i){let m=s[u];if(m&&Nn(m)&&m.type===t)return u}return null}function rc(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof $i){let a=o;a.resolving&&dC(_1(s[t]));let u=pd(a.canSeeViewProviders);a.resolving=!0;let l,h=a.injectImpl?Rt(a.injectImpl):null,p=BC(n,r,se.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&vF(t,s[t],e)}finally{h!==null&&Rt(h),pd(u),a.resolving=!1,qC()}}return o}function NF(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ec)?n[ec]:void 0;return typeof e=="number"?e>=0?e&YC:MF:e}function wb(n,e,t){let r=1<<n;return!!(t[e+(n>>ZC)]&r)}function Db(n,e){return!(n&se.Self)&&!(n&se.Host&&e)}var ki=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return tS(this._tNode,this._lView,e,Md(r),t)}};function MF(){return new ki(pt(),re())}function Ln(n){return ac(()=>{let e=n.prototype.constructor,t=e[rd]||xm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[rd]||xm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function xm(n){return sC(n)?()=>{let e=xm(Dt(n));return e&&e()}:Oi(n)}function PF(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Y]&2048&&!dd(s);){let a=nS(o,s,t,r|se.Self,Rn);if(a!==Rn)return a;let u=o.parent;if(!u){let l=s[bC];if(l){let h=l.get(t,Rn,r);if(h!==Rn)return h}u=rS(s),s=s[ys]}o=u}return i}function rS(n){let e=n[ee],t=e.type;return t===2?e.declTNode:t===1?n[xt]:null}function jd(n){return AF(pt(),n)}function Tb(n,e=null,t=null,r){let i=iS(n,e,t,r);return i.resolveInjectorInitializers(),i}function iS(n,e=null,t=null,r,i=new Set){let o=[t||Nt,O1(n)];return r=r||(typeof n=="object"?void 0:Mt(n)),new tc(o,e||Ly(),r||null,i)}var Ue=class n{static THROW_IF_NOT_FOUND=xi;static NULL=new ad;static create(e,t){if(Array.isArray(e))return Tb({name:""},t,e,"");{let r=e.name??"";return Tb({name:r},e.parent,e.providers,r)}}static \u0275prov=j({token:n,providedIn:"any",factory:()=>G(yC)});static __NG_ELEMENT_ID__=-1};var bb=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>jd(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},xF=new V("");xF.__NG_ELEMENT_ID__=n=>{let e=pt();if(e===null)throw new L(204,!1);if(e.type&2)return e.value;if(n&se.Optional)return null;throw new L(204,!1)};var oS=!1,Wi=(()=>{class n{static __NG_ELEMENT_ID__=kF;static __NG_ENV_ID__=t=>t}return n})(),km=class extends Wi{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return _s(t)?(e(),()=>{}):(OC(t,e),()=>tF(t,e))}};function kF(){return new km(re())}var Hi=class{},Ud=new V("",{providedIn:"root",factory:()=>!1});var sS=new V(""),aS=new V(""),Vn=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new $e(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),Bd=(()=>{class n{internalPendingTasks=M(Vn);scheduler=M(Hi);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return v(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),Om=class extends Ne{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,TC()&&(this.destroyRef=M(Wi,{optional:!0})??void 0,this.pendingTasks=M(Vn,{optional:!0})??void 0)}emit(e){let t=ae(null);try{super.next(e)}finally{ae(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Fe&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Me=Om;function md(...n){}function cS(n){let e,t;function r(){n=md;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Cb(n){return queueMicrotask(()=>n()),()=>{n=md}}var Xy="isAngularZone",yd=Xy+"_ID",OF=0,ge=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Me(!1);onMicrotaskEmpty=new Me(!1);onStable=new Me(!1);onError=new Me(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=oS}=e;if(typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,VF(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Xy)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new L(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,FF,md,md);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},FF={};function ev(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function LF(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){cS(()=>{n.callbackScheduled=!1,Fm(n),n.isCheckStableRunning=!0,ev(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Fm(n)}function VF(n){let e=()=>{LF(n)},t=OF++;n._inner=n._inner.fork({name:"angular",properties:{[Xy]:!0,[yd]:t,[yd+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(jF(u))return r.invokeTask(o,s,a,u);try{return Sb(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Ab(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return Sb(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!UF(u)&&e(),Ab(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Fm(n),ev(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Fm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Sb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Ab(n){n._nesting--,ev(n)}var Lm=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Me;onMicrotaskEmpty=new Me;onStable=new Me;onError=new Me;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function jF(n){return uS(n,"__ignore_ng_zone__")}function UF(n){return uS(n,"__scheduler_tick__")}function uS(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var xn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},BF=new V("",{providedIn:"root",factory:()=>{let n=M(ge),e=M(xn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function Rb(n,e){return iC(n,e)}function $F(n){return iC(rC,n)}var lS=(Rb.required=$F,Rb);function HF(){return Is(pt(),re())}function Is(n,e){return new gt(Fn(n,e))}var gt=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=HF}return n})();function zF(n){return n instanceof gt?n.nativeElement:n}function qF(n){return typeof n=="function"&&n[Qt]!==void 0}function Ki(n,e){let t=Ug(n,e?.equal),r=t[Qt];return t.set=i=>Ga(r,i),t.update=i=>Bg(r,i),t.asReadonly=GF.bind(t),t}function GF(){let n=this[Qt];if(n.readonlyFn===void 0){let e=()=>this();e[Qt]=n,n.readonlyFn=e}return n.readonlyFn}function dS(n){return qF(n)&&typeof n.set=="function"}function WF(){return this._results[Symbol.iterator]()}var Vm=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ne}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=R1(e);(this._changesDetected=!A1(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=WF};function hS(n){return(n.flags&128)===128}var fS=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(fS||{}),pS=new Map,KF=0;function QF(){return KF++}function YF(n){pS.set(n[xd],n)}function jm(n){pS.delete(n[xd])}var Nb="__ngContext__";function ws(n,e){Gr(e)?(n[Nb]=e[xd],YF(e)):n[Nb]=e}function gS(n){return yS(n[nc])}function mS(n){return yS(n[hn])}function yS(n){for(;n!==null&&!gr(n);)n=n[hn];return n}var Um;function vS(n){Um=n}function ZF(){if(Um!==void 0)return Um;if(typeof document<"u")return document;throw new L(210,!1)}var tv=new V("",{providedIn:"root",factory:()=>JF}),JF="ng",nv=new V(""),Zr=new V("",{providedIn:"platform",factory:()=>"unknown"});var rv=new V("",{providedIn:"root",factory:()=>ZF().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var XF="h",eL="b";var _S=!1,tL=new V("",{providedIn:"root",factory:()=>_S});var iv=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(iv||{}),Ds=new V(""),Mb=new Set;function Jr(n){Mb.has(n)||(Mb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var ES=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=nL}return n})();function nL(){return new ES(re(),pt())}var es=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(es||{}),IS=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),rL=[es.EarlyRead,es.Write,es.MixedReadWrite,es.Read],iL=(()=>{class n{ngZone=M(ge);scheduler=M(Hi);errorHandler=M(xn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){M(Ds,{optional:!0})}execute(){let t=this.sequences.size>0;t&&De(16),this.executing=!0;for(let r of rL)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&De(17)}register(t){let{view:r}=t;r!==void 0?((r[ns]??=[]).push(t),uc(r),r[Y]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(iv.AFTER_NEXT_RENDER,t):t()}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),Bm=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[ns];e&&(this.view[ns]=e.filter(t=>t!==this))}};function ov(n,e){!e?.injector&&Vy(ov);let t=e?.injector??M(Ue);return Jr("NgAfterNextRender"),sL(n,t,e,!0)}function oL(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function sL(n,e,t,r){let i=e.get(IS);i.impl??=e.get(iL);let o=e.get(Ds,null,{optional:!0}),s=t?.phase??es.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(Wi):null,u=e.get(ES,null,{optional:!0}),l=new Bm(i.impl,oL(n,s),u?.view,r,a,o?.snapshot(null));return i.impl.register(l),l}var aL=(n,e,t,r)=>{};function cL(n,e,t,r){aL(n,e,t,r)}var uL=()=>null;function wS(n,e,t=!1){return uL(n,e,t)}function DS(n,e){let t=n.contentQueries;if(t!==null){let r=ae(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Ky(o),a.contentQueries(2,e[s],s)}}}finally{ae(r)}}}function $m(n,e,t){Ky(0);let r=ae(null);try{e(n,t)}finally{ae(r)}}function sv(n,e,t){if(jy(e)){let r=ae(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{ae(r)}}}var kn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(kn||{}),Wl;function TS(){if(Wl===void 0&&(Wl=null,is.trustedTypes))try{Wl=is.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Wl}function $d(n){return TS()?.createHTML(n)||n}function lL(n){return TS()?.createScriptURL(n)||n}var Kl;function dL(){if(Kl===void 0&&(Kl=null,is.trustedTypes))try{Kl=is.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Kl}function Pb(n){return dL()?.createScriptURL(n)||n}var fr=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nC})`}},Hm=class extends fr{getTypeName(){return"HTML"}},zm=class extends fr{getTypeName(){return"Style"}},qm=class extends fr{getTypeName(){return"Script"}},Gm=class extends fr{getTypeName(){return"URL"}},Wm=class extends fr{getTypeName(){return"ResourceURL"}};function fn(n){return n instanceof fr?n.changingThisBreaksApplicationSecurity:n}function Xr(n,e){let t=hL(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${nC})`)}return t===e}function hL(n){return n instanceof fr&&n.getTypeName()||null}function bS(n){return new Hm(n)}function CS(n){return new zm(n)}function SS(n){return new qm(n)}function AS(n){return new Gm(n)}function RS(n){return new Wm(n)}function fL(n){let e=new Qm(n);return pL()?new Km(e):e}var Km=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString($d(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Qm=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=$d(e),t}};function pL(){try{return!!new window.DOMParser().parseFromString($d(""),"text/html")}catch{return!1}}var gL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Hd(n){return n=String(n),n.match(gL)?n:"unsafe:"+n}function mr(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function lc(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var NS=mr("area,br,col,hr,img,wbr"),MS=mr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),PS=mr("rp,rt"),mL=lc(PS,MS),yL=lc(MS,mr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vL=lc(PS,mr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xb=lc(NS,yL,vL,mL),xS=mr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_L=mr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),EL=mr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),IL=lc(xS,_L,EL),wL=mr("script,style,template"),Ym=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=bL(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=TL(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=kb(e).toLowerCase();if(!xb.hasOwnProperty(t))return this.sanitizedSomething=!0,!wL.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!IL.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=o.value;xS[a]&&(u=Hd(u)),this.buf.push(" ",s,'="',Ob(u),'"')}return this.buf.push(">"),!0}endElement(e){let t=kb(e).toLowerCase();xb.hasOwnProperty(t)&&!NS.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Ob(e))}};function DL(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function TL(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw kS(e);return e}function bL(n){let e=n.firstChild;if(e&&DL(n,e))throw kS(e);return e}function kb(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function kS(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var CL=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,SL=/([^\#-~ |!])/g;function Ob(n){return n.replace(/&/g,"&amp;").replace(CL,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(SL,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Ql;function OS(n,e){let t=null;try{Ql=Ql||fL(n);let r=e?String(e):"";t=Ql.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Ql.getInertBodyElement(r)}while(r!==o);let a=new Ym().sanitizeChildren(Fb(t)||t);return $d(a)}finally{if(t){let r=Fb(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function Fb(n){return"content"in n&&AL(n)?n.content:null}function AL(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var jn=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(jn||{});function RL(n){let e=LS();return e?e.sanitize(jn.URL,n)||"":Xr(n,"URL")?fn(n):Hd(Nd(n))}function NL(n){let e=LS();if(e)return Pb(e.sanitize(jn.RESOURCE_URL,n)||"");if(Xr(n,"ResourceURL"))return Pb(fn(n));throw new L(904,!1)}function UY(n){return lL(n[0])}function ML(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?NL:RL}function FS(n,e,t){return ML(e,t)(n)}function LS(){let n=re();return n&&n[dr].sanitizer}var PL=/^>|^->|<!--|-->|--!>|<!-$/g,xL=/(<|>)/g,kL="\u200B$1\u200B";function OL(n){return n.replace(PL,e=>e.replace(xL,kL))}function VS(n){return n instanceof Function?n():n}function FL(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var jS="ng-template";function LL(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&FL(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(av(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function av(n){return n.type===4&&n.value!==jS}function VL(n,e,t){let r=n.type===4&&!t?jS:n.value;return e===r}function jL(n,e,t){let r=4,i=n.attrs,o=i!==null?$L(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!ln(r)&&!ln(u))return!1;if(s&&ln(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!VL(n,u,t)||u===""&&e.length===1){if(ln(r))return!1;s=!0}}else if(r&8){if(i===null||!LL(n,i,u,t)){if(ln(r))return!1;s=!0}}else{let l=e[++a],h=UL(u,i,av(n),t);if(h===-1){if(ln(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(ln(r))return!1;s=!0}}}}return ln(r)||s}function ln(n){return(n&1)===0}function UL(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return HL(e,n)}function US(n,e,t=!1){for(let r=0;r<e.length;r++)if(jL(n,e[r],t))return!0;return!1}function BL(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function $L(n){for(let e=0;e<n.length;e++){let t=n[e];if(KC(t))return e}return n.length}function HL(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function zL(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Lb(n,e){return n?":not("+e.trim()+")":e}function qL(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!ln(s)&&(e+=Lb(o,i),i=""),r=s,o=o||!ln(r);t++}return i!==""&&(e+=Lb(o,i)),e}function GL(n){return n.map(qL).join(",")}function WL(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!ln(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Xt={};function KL(n,e){return n.createText(e)}function QL(n,e,t){n.setValue(e,t)}function YL(n,e){return n.createComment(OL(e))}function BS(n,e,t){return n.createElement(e,t)}function vd(n,e,t,r,i){n.insertBefore(e,t,r,i)}function $S(n,e,t){n.appendChild(e,t)}function Vb(n,e,t,r,i){r!==null?vd(n,e,t,r,i):$S(n,e,t)}function ZL(n,e,t){n.removeChild(null,e,t)}function JL(n,e,t){n.setAttribute(e,"style",t)}function XL(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function HS(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&wF(n,e,r),i!==null&&XL(n,e,i),o!==null&&JL(n,e,o)}function cv(n,e,t,r,i,o,s,a,u,l,h){let p=Xe+r,g=p+i,m=eV(p,g),w=typeof l=="function"?l():l;return m[ee]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:w,incompleteFirstPass:!1,ssrId:h}}function eV(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Xt);return t}function tV(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=cv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function uv(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[pr]=i,p[Y]=r|4|128|8|64|1024,(l!==null||n&&n[Y]&2048)&&(p[Y]|=2048),xC(p),p[ft]=p[ys]=n,p[Qe]=t,p[dr]=s||n&&n[dr],p[Pe]=a||n&&n[Pe],p[cs]=u||n&&n[cs]||null,p[xt]=o,p[xd]=QF(),p[as]=h,p[bC]=l,p[Ut]=e.type==2?n[Ut]:p,p}function nV(n,e,t){let r=Fn(e,n),i=tV(t),o=n[dr].rendererFactory,s=lv(n,uv(n,i,null,zS(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function zS(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function qS(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function lv(n,e){return n[nc]?n[yb][hn]=e:n[nc]=e,n[yb]=e,e}function BY(n=1){GS(xe(),re(),Yr()+n,!1)}function GS(n,e,t,r){if(!r)if((e[Y]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Jl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Xl(e,o,0,t)}Bi(t)}var zd=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(zd||{});function Zm(n,e,t,r){let i=ae(null);try{let[o,s,a]=n.inputs[t],u=null;(s&zd.SignalBased)!==0&&(u=e[o][Qt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):SC(e,u,o,r)}finally{ae(i)}}function WS(n,e,t,r,i){let o=Yr(),s=r&2;try{Bi(-1),s&&e.length>Xe&&GS(n,e,Xe,!1),De(s?2:0,i),t(r,i)}finally{Bi(o),De(s?3:1,i)}}function qd(n,e,t){cV(n,e,t),(t.flags&64)===64&&uV(n,e,t)}function dv(n,e,t=Fn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function rV(n,e,t,r){let o=r.get(tL,_S)||t===kn.ShadowDom,s=n.selectRootElement(e,o);return iV(s),s}function iV(n){oV(n)}var oV=()=>null;function sV(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function hv(n,e,t,r,i,o,s,a){if(!a&&pv(e,n,t,r,i)){vs(e)&&aV(t,e.index);return}if(e.type&3){let u=Fn(e,t);r=sV(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function aV(n,e){let t=Pn(e,n);t[Y]&16||(t[Y]|=64)}function cV(n,e,t){let r=t.directiveStart,i=t.directiveEnd;vs(t)&&nV(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||gd(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=rc(e,n,s,t);if(ws(u,e),o!==null&&fV(e,s-r,u,a,t,o),Nn(a)){let l=Pn(t.index,e);l[Qe]=rc(e,n,s,t)}}}function uV(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=fF();try{Bi(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Nm(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&lV(u,l)}}finally{Bi(-1),Nm(s)}}function lV(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function fv(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];US(e,o.selectors,!1)&&(r??=[],Nn(o)?r.unshift(o):r.push(o))}return r}function dV(n,e,t,r,i,o){let s=Fn(n,e);hV(e[Pe],s,o,n.value,t,r,i)}function hV(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Nd(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function fV(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Zm(r,t,u,l)}}function pV(n,e){let t=n[cs],r=t?t.get(xn,null):null;r&&r.handleError(e)}function pv(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Zm(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];Zm(h,l,r,i),a=!0}return a}function gV(n,e){let t=Pn(e,n),r=t[ee];mV(r,t);let i=t[pr];i!==null&&t[as]===null&&(t[as]=wS(i,t[cs])),De(18),gv(r,t,t[Qe]),De(19,t[Qe])}function mV(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function gv(n,e,t){Qy(e);try{let r=n.viewQuery;r!==null&&$m(1,r,t);let i=n.template;i!==null&&WS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[hr]?.finishViewCreation(n),n.staticContentQueries&&DS(n,e),n.staticViewQueries&&$m(2,n.viewQuery,t);let o=n.components;o!==null&&yV(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Y]&=-5,Yy()}}function yV(n,e){for(let t=0;t<e.length;t++)gV(n,e[t])}function dc(n,e,t,r){let i=ae(null);try{let o=e.tView,a=n[Y]&4096?4096:16,u=uv(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Vi]=l;let h=n[hr];return h!==null&&(u[hr]=h.createEmbeddedView(o)),gv(o,u,t),u}finally{ae(i)}}function ds(n,e){return!e||e.firstChild===null||hS(n)}var vV;function mv(n,e){return vV(n,e)}var On=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(On||{});function yv(n){return(n.flags&32)===32}function ts(n,e,t,r,i){if(r!=null){let o,s=!1;gr(r)?o=r:Gr(r)&&(s=!0,r=r[pr]);let a=Mn(r);n===0&&t!==null?i==null?$S(e,t,a):vd(e,t,a,i||null,!0):n===1&&t!==null?vd(e,t,a,i||null,!0):n===2?ZL(e,a,s):n===3&&e.destroyNode(a),o!=null&&AV(e,n,o,t,i)}}function _V(n,e){KS(n,e),e[pr]=null,e[xt]=null}function EV(n,e,t,r,i,o){r[pr]=i,r[xt]=e,Kd(n,r,t,1,i,o)}function KS(n,e){e[dr].changeDetectionScheduler?.notify(9),Kd(n,e,e[Pe],2,null,null)}function IV(n){let e=n[nc];if(!e)return dm(n[ee],n);for(;e;){let t=null;if(Gr(e))t=e[nc];else{let r=e[ht];r&&(t=r)}if(!t){for(;e&&!e[hn]&&e!==n;)Gr(e)&&dm(e[ee],e),e=e[ft];e===null&&(e=n),Gr(e)&&dm(e[ee],e),t=e&&e[hn]}e=t}}function vv(n,e){let t=n[us],r=t.indexOf(e);t.splice(r,1)}function Gd(n,e){if(_s(e))return;let t=e[Pe];t.destroyNode&&Kd(n,e,t,3,null,null),IV(e)}function dm(n,e){if(_s(e))return;let t=ae(null);try{e[Y]&=-129,e[Y]|=256,e[Yt]&&Lg(e[Yt]),DV(n,e),wV(n,e),e[ee].type===1&&e[Pe].destroy();let r=e[Vi];if(r!==null&&gr(e[ft])){r!==e[ft]&&vv(r,e);let i=e[hr];i!==null&&i.detachView(n)}jm(e)}finally{ae(t)}}function wV(n,e){let t=n.cleanup,r=e[cd];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[cd]=null);let i=e[qr];if(i!==null){e[qr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[ud];if(o!==null){e[ud]=null;for(let s of o)s.destroy()}}function DV(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof $i)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];De(4,a,u);try{u.call(a)}finally{De(5,a,u)}}else{De(4,i,o);try{o.call(i)}finally{De(5,i,o)}}}}}function QS(n,e,t){return TV(n,e.parent,t)}function TV(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[pr];if(vs(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===kn.None||i===kn.Emulated)return null}return Fn(r,t)}function YS(n,e,t){return CV(n,e,t)}function bV(n,e,t){return n.type&40?Fn(n,t):null}var CV=bV,jb;function Wd(n,e,t,r){let i=QS(n,r,e),o=e[Pe],s=r.parent||e[xt],a=YS(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)Vb(o,i,t[u],a,!1);else Vb(o,i,t,a,!1);jb!==void 0&&jb(o,r,e,t,i)}function Xa(n,e){if(e!==null){let t=e.type;if(t&3)return Fn(e,n);if(t&4)return Jm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Xa(n,r);{let i=n[e.index];return gr(i)?Jm(-1,i):Mn(i)}}else{if(t&128)return Xa(n,e.next);if(t&32)return mv(e,n)()||Mn(n[e.index]);{let r=ZS(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ui(n[Ut]);return Xa(i,r)}else return Xa(n,e.next)}}}return null}function ZS(n,e){if(e!==null){let r=n[Ut][xt],i=e.projection;return r.projection[i]}return null}function Jm(n,e){let t=ht+n+1;if(t<e.length){let r=e[t],i=r[ee].firstChild;if(i!==null)return Xa(r,i)}return e[ji]}function _v(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&ws(Mn(a),r),t.flags|=2),!yv(t))if(u&8)_v(n,e,t.child,r,i,o,!1),ts(e,n,i,a,o);else if(u&32){let l=mv(t,r),h;for(;h=l();)ts(e,n,i,h,o);ts(e,n,i,a,o)}else u&16?JS(n,e,r,t,i,o):ts(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Kd(n,e,t,r,i,o){_v(t,r,n.firstChild,e,i,o,!1)}function SV(n,e,t){let r=e[Pe],i=QS(n,t,e),o=t.parent||e[xt],s=YS(o,t,e);JS(r,0,e,t,i,s)}function JS(n,e,t,r,i,o){let s=t[Ut],u=s[xt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];ts(e,n,i,h,o)}else{let l=u,h=s[ft];hS(r)&&(l.flags|=128),_v(n,e,l,h,i,o,!0)}}function AV(n,e,t,r,i){let o=t[ji],s=Mn(t);o!==s&&ts(e,n,r,o,i);for(let a=ht;a<t.length;a++){let u=t[a];Kd(u[ee],u,n,e,r,o)}}function RV(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:On.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=On.Important),n.setStyle(t,r,i,o))}}function _d(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Mn(o)),gr(o)&&NV(o,r);let s=t.type;if(s&8)_d(n,e,t.child,r);else if(s&32){let a=mv(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=ZS(e,t);if(Array.isArray(a))r.push(...a);else{let u=Ui(e[Ut]);_d(u[ee],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function NV(n,e){for(let t=ht;t<n.length;t++){let r=n[t],i=r[ee].firstChild;i!==null&&_d(r[ee],r,i,e)}n[ji]!==n[pr]&&e.push(n[ji])}function XS(n){if(n[ns]!==null){for(let e of n[ns])e.impl.addSequence(e);n[ns].length=0}}var e0=[];function MV(n){return n[Yt]??PV(n)}function PV(n){let e=e0.pop()??Object.create(kV);return e.lView=n,e}function xV(n){n.lView[Yt]!==n&&(n.lView=null,e0.push(n))}var kV=ue(O({},za),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{uc(n.lView)},consumerOnSignalRead(){this.lView[Yt]=this}});function OV(n){let e=n[Yt]??Object.create(FV);return e.lView=n,e}var FV=ue(O({},za),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Ui(n.lView);for(;e&&!t0(e[ee]);)e=Ui(e);e&&kC(e)},consumerOnSignalRead(){this.lView[Yt]=this}});function t0(n){return n.type!==2}function n0(n){if(n[ud]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[ud])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[Y]&8192)}}var LV=100;function r0(n,e=!0,t=0){let i=n[dr].rendererFactory,o=!1;o||i.begin?.();try{VV(n,t)}catch(s){throw e&&pV(n,s),s}finally{o||i.end?.()}}function VV(n,e){let t=VC();try{_b(!0),Xm(n,e);let r=0;for(;Od(n);){if(r===LV)throw new L(103,!1);r++,Xm(n,1)}}finally{_b(t)}}function jV(n,e,t,r){if(_s(e))return;let i=e[Y],o=!1,s=!1;Qy(e);let a=!0,u=null,l=null;o||(t0(n)?(l=MV(e),u=hl(l)):Mg()===null?(a=!1,l=OV(e),u=hl(l)):e[Yt]&&(Lg(e[Yt]),e[Yt]=null));try{xC(e),lF(n.bindingStartIndex),t!==null&&WS(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let m=n.preOrderCheckHooks;m!==null&&Jl(e,m,null)}else{let m=n.preOrderHooks;m!==null&&Xl(e,m,0,null),um(e,0)}if(s||UV(e),n0(e),i0(e,0),n.contentQueries!==null&&DS(n,e),!o)if(h){let m=n.contentCheckHooks;m!==null&&Jl(e,m)}else{let m=n.contentHooks;m!==null&&Xl(e,m,1),um(e,1)}$V(n,e);let p=n.components;p!==null&&s0(e,p,0);let g=n.viewQuery;if(g!==null&&$m(2,g,r),!o)if(h){let m=n.viewCheckHooks;m!==null&&Jl(e,m)}else{let m=n.viewHooks;m!==null&&Xl(e,m,2),um(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[cm]){for(let m of e[cm])m();e[cm]=null}o||(XS(e),e[Y]&=-73)}catch(h){throw o||uc(e),h}finally{l!==null&&(Og(l,u),a&&xV(l)),Yy()}}function i0(n,e){for(let t=gS(n);t!==null;t=mS(t))for(let r=ht;r<t.length;r++){let i=t[r];o0(i,e)}}function UV(n){for(let e=gS(n);e!==null;e=mS(e)){if(!(e[Y]&2))continue;let t=e[us];for(let r=0;r<t.length;r++){let i=t[r];kC(i)}}}function BV(n,e,t){De(18);let r=Pn(e,n);o0(r,t),De(19,r[Qe])}function o0(n,e){By(n)&&Xm(n,e)}function Xm(n,e){let r=n[ee],i=n[Y],o=n[Yt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Fg(o)),s||=!1,o&&(o.dirty=!1),n[Y]&=-9217,s)jV(r,n,r.template,n[Qe]);else if(i&8192){n0(n),i0(n,1);let a=r.components;a!==null&&s0(n,a,1),XS(n)}}function s0(n,e,t){for(let r=0;r<e.length;r++)BV(n,e[r],t)}function $V(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Bi(~i);else{let o=i,s=t[++r],a=t[++r];hF(s,o);let u=e[o];De(24,u),a(2,u),De(25,u)}}}finally{Bi(-1)}}function Ev(n,e){let t=VC()?64:1088;for(n[dr].changeDetectionScheduler?.notify(e);n;){n[Y]|=t;let r=Ui(n);if(dd(n)&&!r)return n;n=r}return null}function a0(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function c0(n,e){let t=ht+e;if(t<n.length)return n[t]}function hc(n,e,t,r=!0){let i=e[ee];if(HV(i,e,n,t),r){let s=Jm(t,n),a=e[Pe],u=a.parentNode(n[ji]);u!==null&&EV(i,n[xt],a,e,u,s)}let o=e[as];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function u0(n,e){let t=ic(n,e);return t!==void 0&&Gd(t[ee],t),t}function ic(n,e){if(n.length<=ht)return;let t=ht+e,r=n[t];if(r){let i=r[Vi];i!==null&&i!==n&&vv(i,r),e>0&&(n[t-1][hn]=r[hn]);let o=sd(n,ht+e);_V(r[ee],r);let s=o[hr];s!==null&&s.detachView(o[ee]),r[ft]=null,r[hn]=null,r[Y]&=-129}return r}function HV(n,e,t,r){let i=ht+r,o=t.length;r>0&&(t[i-1][hn]=e),r<o-ht?(e[hn]=t[i],mC(t,ht+r,e)):(t.push(e),e[hn]=null),e[ft]=t;let s=e[Vi];s!==null&&t!==s&&l0(s,e);let a=e[hr];a!==null&&a.insertView(n),Am(e),e[Y]|=128}function l0(n,e){let t=n[us],r=e[ft];if(Gr(r))n[Y]|=2;else{let i=r[ft][Ut];e[Ut]!==i&&(n[Y]|=2)}t===null?n[us]=[e]:t.push(e)}var oc=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[ee];return _d(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[Qe]}set context(e){this._lView[Qe]=e}get destroyed(){return _s(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ft];if(gr(e)){let t=e[ld],r=t?t.indexOf(this):-1;r>-1&&(ic(e,r),sd(t,r))}this._attachedToViewContainer=!1}Gd(this._lView[ee],this._lView)}onDestroy(e){OC(this._lView,e)}markForCheck(){Ev(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Y]&=-129}reattach(){Am(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,r0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=dd(this._lView),t=this._lView[Vi];t!==null&&!e&&vv(t,this._lView),KS(this._lView[ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e;let t=dd(this._lView),r=this._lView[Vi];r!==null&&!t&&l0(r,this._lView),Am(this._lView)}};var zi=(()=>{class n{static __NG_ELEMENT_ID__=GV}return n})(),zV=zi,qV=class extends zV{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=dc(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new oc(i)}};function GV(){return Iv(pt(),re())}function Iv(n,e){return n.type&4?new qV(e,n,Is(n,e)):null}function fc(n,e,t,r,i){let o=n.data[e];if(o===null)o=WV(n,e,t,r,i),dF()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=cF();o.injectorIndex=s===null?-1:s.injectorIndex}return Gi(o,!0),o}function WV(n,e,t,r,i){let o=LC(),s=qy(),a=s?o:o&&o.parent,u=n.data[e]=QV(n,a,t,e,r,i);return KV(n,u,o,s),u}function KV(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function QV(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return FC()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var zY=new RegExp(`^(\\d+)*(${eL}|${XF})*(.*)`);var YV=()=>null;function hs(n,e){return YV(n,e)}var ZV=class{},d0=class{},ey=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Mt(e)}.`)}},Qd=class{static NULL=new ey},fs=class{},en=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>JV()}return n})();function JV(){let n=re(),e=pt(),t=Pn(e.index,n);return(Gr(t)?t:n)[Pe]}var XV=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>null})}return n})();var hm={},ty=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Md(r);let i=this.injector.get(e,hm,r);return i!==hm||t===hm?i:this.parentInjector.get(e,t,r)}};function ny(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Em(i,a);else if(o==2){let u=a,l=e[++s];r=Em(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function H(n,e=se.Default){let t=re();if(t===null)return G(n,e);let r=pt();return tS(r,t,Dt(n),e)}function h0(){let n="invalid";throw new Error(n)}function wv(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,u=null,l=null,h=tj(s);h===null?a=s:[a,u,l]=h,ij(n,e,t,a,o,u,l)}o!==null&&r!==null&&ej(t,r,o)}function ej(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new L(-301,!1);r.push(e[i],o)}}function tj(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&Nn(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,nj(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function nj(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function rj(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function ij(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let g=0;g<a;g++){let m=r[g];!u&&Nn(m)&&(u=!0,rj(n,t,g)),Pm(gd(t,e),n,m.type)}lj(t,n.data.length,a);for(let g=0;g<a;g++){let m=r[g];m.providersResolver&&m.providersResolver(m)}let l=!1,h=!1,p=qS(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let m=r[g];if(t.mergedAttrs=ls(t.mergedAttrs,m.hostAttrs),sj(n,t,e,p,m),uj(p,m,i),s!==null&&s.has(m)){let[A,R]=s.get(m);t.directiveToIndex.set(m.type,[p,A+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,p);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let w=m.type.prototype;!l&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(w.ngOnChanges||w.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}oj(n,t,o)}function oj(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))Ub(0,e,i,r),Ub(1,e,i,r),$b(e,r,!1);else{let o=t.get(i);Bb(0,e,o,r),Bb(1,e,o,r),$b(e,r,!0)}}}function Ub(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),f0(e,o)}}function Bb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),f0(e,s)}}function f0(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function $b(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||av(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function sj(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Oi(i.type,!0)),s=new $i(o,Nn(i),H);n.blueprint[r]=s,t[r]=s,aj(n,e,r,qS(n,t,i.hostVars,Xt),i)}function aj(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;cj(s)!=a&&s.push(a),s.push(t,r,o)}}function cj(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function uj(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Nn(e)&&(t[""]=n)}}function lj(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function p0(n,e,t,r,i,o,s,a){let u=e.consts,l=Wr(u,s),h=fc(e,n,2,r,l);return o&&wv(e,t,h,Wr(u,a),i),h.mergedAttrs=ls(h.mergedAttrs,h.attrs),h.attrs!==null&&ny(h,h.attrs,!1),h.mergedAttrs!==null&&ny(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function g0(n,e){Zy(n,e),jy(e)&&n.queries.elementEnd(e)}var Ed=class extends Qd{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Li(e);return new ps(t,this.ngModule)}};function dj(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&zd.SignalBased)!==0};return i&&(o.transform=i),o})}function hj(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function fj(n,e,t){let r=e instanceof Je?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new ty(t,r):t}function pj(n){let e=n.get(fs,null);if(e===null)throw new L(407,!1);let t=n.get(XV,null),r=n.get(Hi,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function gj(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return BS(e,t,t==="svg"?Q1:t==="math"?Y1:null)}var ps=class extends d0{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=dj(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=hj(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=GL(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){De(22);let o=ae(null);try{let s=this.componentDef,a=r?["ng-version","19.2.14"]:WL(this.componentDef.selectors[0]),u=cv(0,null,null,1,0,null,null,null,null,[a],null),l=fj(s,i||this.ngModule,e),h=pj(l),p=h.rendererFactory.createRenderer(null,s),g=r?rV(p,r,s.encapsulation,l):gj(s,p),m=uv(null,u,null,512|zS(s),null,null,h,p,l,null,wS(g,l,!0));m[Xe]=g,Qy(m);let w=null;try{let A=p0(Xe,u,m,"#host",()=>[this.componentDef],!0,0);g&&(HS(p,g,A),ws(g,m)),qd(u,m,A),sv(u,A,m),g0(u,A),t!==void 0&&mj(A,this.ngContentSelectors,t),w=Pn(A.index,m),m[Qe]=w[Qe],gv(u,m,null)}catch(A){throw w!==null&&jm(w),jm(m),A}finally{De(23),Yy()}return new ry(this.componentType,m)}finally{ae(o)}}},ry=class extends ZV{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=Uy(t[ee],Xe),this.location=Is(this._tNode,t),this.instance=Pn(this._tNode.index,t)[Qe],this.hostView=this.changeDetectorRef=new oc(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=pv(r,i[ee],i,e,t);this.previousInputValues.set(e,t);let s=Pn(r.index,i);Ev(s,1)}get injector(){return new ki(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function mj(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ei=(()=>{class n{static __NG_ELEMENT_ID__=yj}return n})();function yj(){let n=pt();return y0(n,re())}var vj=ei,m0=class extends vj{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Is(this._hostTNode,this._hostLView)}get injector(){return new ki(this._hostTNode,this._hostLView)}get parentInjector(){let e=Jy(this._hostTNode,this._hostLView);if(QC(e)){let t=fd(e,this._hostLView),r=hd(e),i=t[ee].data[r+8];return new ki(i,t)}else return new ki(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Hb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=hs(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,ds(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!q1(e),a;if(s)a=t;else{let w=t||{};a=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let u=s?e:new ps(Li(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let A=(s?l:this.parentInjector).get(Je,null);A&&(o=A)}let h=Li(u.componentType??{}),p=hs(this._lContainer,h?.id??null),g=p?.firstChild??null,m=u.create(l,i,g,o);return this.insertImpl(m.hostView,a,ds(this._hostTNode,p)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(X1(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[ft],l=new m0(u,u[xt],u[ft]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return hc(s,i,o,r),e.attachToViewContainerRef(),mC(fm(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Hb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=ic(this._lContainer,t);r&&(sd(fm(this._lContainer),t),Gd(r[ee],r))}detach(e){let t=this._adjustIndex(e,-1),r=ic(this._lContainer,t);return r&&sd(fm(this._lContainer),t)!=null?new oc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Hb(n){return n[ld]}function fm(n){return n[ld]||(n[ld]=[])}function y0(n,e){let t,r=e[n.index];return gr(r)?t=r:(t=a0(r,e,null,n),e[n.index]=t,lv(e,t)),Ej(t,e,n,r),new m0(t,n,e)}function _j(n,e){let t=n[Pe],r=t.createComment(""),i=Fn(e,n),o=t.parentNode(i);return vd(t,o,r,t.nextSibling(i),!1),r}var Ej=Dj,Ij=()=>!1;function wj(n,e,t){return Ij(n,e,t)}function Dj(n,e,t,r){if(n[ji])return;let i;t.type&8?i=Mn(r):i=_j(e,t),n[ji]=i}var iy=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},oy=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Dv(e,t).matches!==null&&this.queries[t].setDirty()}},Id=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=Mj(e):this.predicate=e}},sy=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},ay=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,Tj(t,o)),this.matchTNodeWithReadOption(e,t,ed(t,e,o,!1,!1))}else r===zi?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ed(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===gt||i===ei||i===zi&&t.type&4)this.addMatch(t.index,-2);else{let o=ed(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function Tj(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function bj(n,e){return n.type&11?Is(n,e):n.type&4?Iv(n,e):null}function Cj(n,e,t,r){return t===-1?bj(e,n):t===-2?Sj(n,e,r):rc(n,n[ee],t,e)}function Sj(n,e,t){if(t===gt)return Is(e,n);if(t===zi)return Iv(e,n);if(t===ei)return y0(e,n)}function v0(n,e,t,r){let i=e[hr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(Cj(e,h,s[u+1],t.metadata.read))}}i.matches=a}return i.matches}function cy(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=v0(n,e,i,t);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=ht;p<h.length;p++){let g=h[p];g[Vi]===g[ft]&&cy(g[ee],g,l,r)}if(h[us]!==null){let p=h[us];for(let g=0;g<p.length;g++){let m=p[g];cy(m[ee],m,l,r)}}}}}return r}function Aj(n,e){return n[hr].queries[e].queryList}function _0(n,e,t){let r=new Vm((t&4)===4);return nF(n,e,r,r.destroy),(e[hr]??=new oy).queries.push(new iy(r))-1}function Rj(n,e,t){let r=xe();return r.firstCreatePass&&(E0(r,new Id(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),_0(r,re(),e)}function Nj(n,e,t,r){let i=xe();if(i.firstCreatePass){let o=pt();E0(i,new Id(e,t,r),o.index),Pj(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return _0(i,re(),t)}function Mj(n){return n.split(",").map(e=>e.trim())}function E0(n,e,t){n.queries===null&&(n.queries=new sy),n.queries.track(new ay(e,t))}function Pj(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Dv(n,e){return n.queries.getByIndex(e)}function xj(n,e){let t=n[ee],r=Dv(t,e);return r.crossesNgTemplate?cy(t,n,e,[]):v0(t,n,r,e)}var gs=class{},Tv=class{};var uy=class extends gs{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ed(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=_C(e);this._bootstrapComponents=VS(o.bootstrap),this._r3Injector=iS(e,t,[{provide:gs,useValue:this},{provide:Qd,useValue:this.componentFactoryResolver},...r],Mt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ly=class extends Tv{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new uy(this.moduleType,e,[])}};var wd=class extends gs{injector;componentFactoryResolver=new Ed(this);instance=null;constructor(e){super();let t=new tc([...e.providers,{provide:gs,useValue:this},{provide:Qd,useValue:this.componentFactoryResolver}],e.parent||Ly(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function pc(n,e,t=null){return new wd({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var kj=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=EC(!1,t.type),i=r.length>0?pc([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=j({token:n,providedIn:"environment",factory:()=>new n(G(Je))})}return n})();function I0(n){return ac(()=>{let e=D0(n),t=ue(O({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===fS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(kj).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||kn.Emulated,styles:n.styles||Nt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Jr("NgStandalone"),T0(t);let r=n.dependencies;return t.directiveDefs=zb(r,!1),t.pipeDefs=zb(r,!0),t.id=jj(t),t})}function Oj(n){return Li(n)||x1(n)}function Fj(n){return n!==null}function tn(n){return ac(()=>({type:n.type,bootstrap:n.bootstrap||Nt,declarations:n.declarations||Nt,imports:n.imports||Nt,exports:n.exports||Nt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Lj(n,e){if(n==null)return Fi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=zd.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function Vj(n){if(n==null)return Fi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Ee(n){return ac(()=>{let e=D0(n);return T0(e),e})}function w0(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function D0(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Fi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Nt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Lj(n.inputs,e),outputs:Vj(n.outputs),debugInfo:null}}function T0(n){n.features?.forEach(e=>e(n))}function zb(n,e){if(!n)return null;let t=e?k1:Oj;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(Fj)}function jj(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Uj(n){return Object.getPrototypeOf(n.prototype).constructor}function mt(n){let e=Uj(n.type),t=!0,r=[n];for(;e;){let i;if(Nn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new L(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=pm(n.inputs),s.declaredInputs=pm(n.declaredInputs),s.outputs=pm(n.outputs);let a=i.hostBindings;a&&qj(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&Hj(n,u),l&&zj(n,l),Bj(n,i),d1(n.outputs,i.outputs),Nn(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===mt&&(t=!1)}}e=Object.getPrototypeOf(e)}$j(r)}function Bj(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function $j(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ls(i.hostAttrs,t=ls(t,i.hostAttrs))}}function pm(n){return n===Fi?{}:n===Nt?[]:n}function Hj(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function zj(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function qj(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function b0(n){return bv(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Gj(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function bv(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function C0(n,e,t){return n[e]=t}function Wj(n,e){return n[e]}function yr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Kj(n,e,t,r,i,o,s,a,u){let l=e.consts,h=fc(e,n,4,s||null,a||null);zy()&&wv(e,t,h,Wr(l,u),fv),h.mergedAttrs=ls(h.mergedAttrs,h.attrs),Zy(e,h);let p=h.tView=cv(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Dd(n,e,t,r,i,o,s,a,u,l){let h=t+Xe,p=e.firstCreatePass?Kj(h,e,n,r,i,o,s,a,u):e.data[h];Gi(p,!1);let g=Yj(e,n,p,t);Ld()&&Wd(e,n,g,p),ws(g,n);let m=a0(g,n,g,p);return n[h]=m,lv(n,m),wj(m,p,n),kd(p)&&qd(e,n,p),u!=null&&dv(n,p,l),p}function Qj(n,e,t,r,i,o,s,a){let u=re(),l=xe(),h=Wr(l.consts,o);return Dd(u,l,n,e,t,r,i,h,s,a),Qj}var Yj=Zj;function Zj(n,e,t,r){return Vd(!0),e[Pe].createComment("")}var Cv=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var S0=new V("");var Jj=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>new dy})}return n})(),dy=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function Qi(n){return!!n&&typeof n.then=="function"}function A0(n){return!!n&&typeof n.subscribe=="function"}var R0=new V("");function Sv(n){return Bt([{provide:R0,multi:!0,useValue:n}])}var N0=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=M(R0,{optional:!0})??[];injector=M(Ue);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=et(this.injector,i);if(Qi(o))t.push(o);else if(A0(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yd=new V("");function Xj(){jg(()=>{throw new L(600,!1)})}function e2(n){return n.isBoundToModule}var t2=10;var Kr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=M(BF);afterRenderManager=M(IS);zonelessEnabled=M(Ud);rootEffectScheduler=M(Jj);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ne;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=M(Vn).hasPendingTasks.pipe(X(t=>!t));constructor(){M(Ds,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=M(Je);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Ue.NULL){De(10);let o=t instanceof d0;if(!this._injector.get(N0).done){let m="";throw new L(405,m)}let a;o?a=t:a=this._injector.get(Qd).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let u=e2(a)?void 0:this._injector.get(gs),l=r||a.selector,h=a.create(i,[],l,u),p=h.location.nativeElement,g=h.injector.get(S0,null);return g?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),td(this.components,h),g?.unregisterApplication(p)}),this._loadComponent(h),De(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){De(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(iv.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new L(101,!1);let t=ae(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ae(t),this.afterTick.next(),De(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(fs,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<t2;)De(14),this.synchronizeOnce(),De(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)n2(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Od(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;td(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Yd,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>td(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new L(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function td(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function n2(n,e,t,r){if(!t&&!Od(n))return;r0(n,e,t&&!r?0:1)}function Ts(n,e,t,r){let i=re(),o=Es();if(yr(i,o,e)){let s=xe(),a=Fd();dV(a,i,n,e,t,r)}return Ts}function M0(n,e,t,r){return yr(n,Es(),t)?e+Nd(t)+r:Xt}function Yl(n,e){return n<<17|e<<2}function qi(n){return n>>17&32767}function r2(n){return(n&2)==2}function i2(n,e){return n&131071|e<<17}function hy(n){return n|2}function ms(n){return(n&131068)>>2}function gm(n,e){return n&-131069|e<<2}function o2(n){return(n&1)===1}function fy(n){return n|1}function s2(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=qi(s),u=ms(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||cc(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let g=qi(n[a+1]);n[r+1]=Yl(g,a),g!==0&&(n[g+1]=gm(n[g+1],r)),n[a+1]=i2(n[a+1],r)}else n[r+1]=Yl(a,0),a!==0&&(n[a+1]=gm(n[a+1],r)),a=r;else n[r+1]=Yl(u,0),a===0?a=r:n[u+1]=gm(n[u+1],r),u=r;l&&(n[r+1]=hy(n[r+1])),qb(n,h,r,!0),qb(n,h,r,!1),a2(e,h,n,r,o),s=Yl(a,u),o?e.classBindings=s:e.styleBindings=s}function a2(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&cc(o,e)>=0&&(t[r+1]=fy(t[r+1]))}function qb(n,e,t,r){let i=n[t+1],o=e===null,s=r?qi(i):ms(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];c2(u,e)&&(a=!0,n[s+1]=r?fy(l):hy(l)),s=r?qi(l):ms(l)}a&&(n[t+1]=r?hy(i):fy(i))}function c2(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?cc(n,e)>=0:!1}var dn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function u2(n){return n.substring(dn.key,dn.keyEnd)}function l2(n){return d2(n),P0(n,x0(n,0,dn.textEnd))}function P0(n,e){let t=dn.textEnd;return t===e?-1:(e=dn.keyEnd=h2(n,dn.key=e,t),x0(n,e,t))}function d2(n){dn.key=0,dn.keyEnd=0,dn.value=0,dn.valueEnd=0,dn.textEnd=n.length}function x0(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function h2(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function f2(n,e,t){let r=re(),i=Es();if(yr(r,i,e)){let o=xe(),s=Fd();hv(o,s,r,n,e,r[Pe],t,!1)}return f2}function py(n,e,t,r,i){pv(e,n,t,i?"class":"style",r)}function Zd(n,e){return g2(n,e,null,!0),Zd}function ZY(n){m2(w2,p2,n,!0)}function p2(n,e){for(let t=l2(e);t>=0;t=P0(e,t))Oy(n,u2(e),!0)}function g2(n,e,t,r){let i=re(),o=xe(),s=jC(2);if(o.firstUpdatePass&&O0(o,n,s,r),e!==Xt&&yr(i,s,e)){let a=o.data[Yr()];F0(o,a,i,i[Pe],n,i[s+1]=T2(e,t),r,s)}}function m2(n,e,t,r){let i=xe(),o=jC(2);i.firstUpdatePass&&O0(i,null,o,r);let s=re();if(t!==Xt&&yr(s,o,t)){let a=i.data[Yr()];if(L0(a,r)&&!k0(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(t=Em(u,t||"")),py(i,a,s,t,r)}else D2(i,a,s,s[Pe],s[o+1],s[o+1]=I2(n,e,t),r,o)}}function k0(n,e){return e>=n.expandoStartIndex}function O0(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Yr()],s=k0(n,t);L0(o,r)&&e===null&&!s&&(e=!1),e=y2(i,o,e,r),s2(i,o,e,t,s,r)}}function y2(n,e,t,r){let i=pF(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=mm(null,n,e,t,r),t=sc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=mm(i,n,e,t,r),o===null){let u=v2(n,e,r);u!==void 0&&Array.isArray(u)&&(u=mm(null,n,e,u[1],r),u=sc(u,e.attrs,r),_2(n,e,r,u))}else o=E2(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function v2(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ms(r)!==0)return n[qi(r)]}function _2(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[qi(i)]=r}function E2(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=sc(r,s,t)}return sc(r,e.attrs,t)}function mm(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=sc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function sc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Oy(n,s,t?!0:e[++o]))}return n===void 0?null:n}function I2(n,e,t){if(t==null||t==="")return Nt;let r=[],i=fn(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function w2(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&Oy(n,r,t)}function D2(n,e,t,r,i,o,s,a){i===Xt&&(i=Nt);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let g=u<i.length?i[u+1]:void 0,m=l<o.length?o[l+1]:void 0,w=null,A;h===p?(u+=2,l+=2,g!==m&&(w=p,A=m)):p===null||h!==null&&h<p?(u+=2,w=h):(l+=2,w=p,A=m),w!==null&&F0(n,e,t,r,w,A,s,a),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function F0(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=o2(l)?Gb(u,e,t,i,ms(l),s):void 0;if(!Td(h)){Td(o)||r2(l)&&(o=Gb(u,null,t,i,a,s));let p=MC(Yr(),t);RV(r,s,p,i,o)}}function Gb(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=t[i+1];g===Xt&&(g=p?Nt:void 0);let m=p?sm(g,r):h===r?g:void 0;if(l&&!Td(m)&&(m=sm(u,r)),Td(m)&&(a=m,s))return a;let w=n[i+1];i=s?qi(w):ms(w)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=sm(u,r))}return a}function Td(n){return n!==void 0}function T2(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Mt(fn(n)))),n}function L0(n,e){return(n.flags&(e?8:16))!==0}var gy=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function ym(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function b2(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=n.at(o),h=e[o],p=ym(o,l,o,h,t);if(p!==0){p<0&&n.updateValue(o,h),o++;continue}let g=n.at(s),m=e[u],w=ym(s,g,u,m,t);if(w!==0){w<0&&n.updateValue(s,m),s--,u--;continue}let A=t(o,l),R=t(s,g),k=t(o,h);if(Object.is(k,R)){let z=t(u,m);Object.is(z,A)?(n.swap(o,s),n.updateValue(s,m),u--,s--):n.move(s,o),n.updateValue(o,h),o++;continue}if(r??=new bd,i??=Kb(n,o,s,t),my(n,r,o,k))n.updateValue(o,h),o++,s++;else if(i.has(k))r.set(A,n.detach(o)),s--;else{let z=n.create(o,e[o]);n.attach(o,z),o++,s++}}for(;o<=u;)Wb(n,r,t,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let h=n.at(o),p=l.value,g=ym(o,h,o,p,t);if(g!==0)g<0&&n.updateValue(o,p),o++,l=u.next();else{r??=new bd,i??=Kb(n,o,s,t);let m=t(o,p);if(my(n,r,o,m))n.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(m))n.attach(o,n.create(o,p)),o++,s++,l=u.next();else{let w=t(o,h);r.set(w,n.detach(o)),s--}}}for(;!l.done;)Wb(n,r,t,n.length,l.value),l=u.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(u=>{n.destroy(u)})}function my(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function Wb(n,e,t,r,i){if(my(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function Kb(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var bd=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function JY(n,e){Jr("NgControlFlow");let t=re(),r=Es(),i=t[r]!==Xt?t[r]:-1,o=i!==-1?Cd(t,Xe+i):void 0,s=0;if(yr(t,r,n)){let a=ae(null);try{if(o!==void 0&&u0(o,s),n!==-1){let u=Xe+n,l=Cd(t,u),h=Ey(t[ee],u),p=hs(l,h.tView.ssrId),g=dc(t,h,e,{dehydratedView:p});hc(l,g,s,ds(h,p))}}finally{ae(a)}}else if(o!==void 0){let a=c0(o,s);a!==void 0&&(a[Qe]=e)}}var yy=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-ht}};function XY(n){return n}var vy=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function eZ(n,e,t,r,i,o,s,a,u,l,h,p,g){Jr("NgControlFlow");let m=re(),w=xe(),A=u!==void 0,R=re(),k=a?s.bind(R[Ut][Qe]):s,z=new vy(A,k);R[Xe+n]=z,Dd(m,w,n+1,e,t,r,i,Wr(w.consts,o)),A&&Dd(m,w,n+2,u,l,h,p,Wr(w.consts,g))}var _y=class extends gy{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-ht}at(e){return this.getLView(e)[Qe].$implicit}attach(e,t){let r=t[as];this.needsIndexUpdate||=e!==this.length,hc(this.lContainer,t,e,ds(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,C2(this.lContainer,e)}create(e,t){let r=hs(this.lContainer,this.templateTNode.tView.ssrId),i=dc(this.hostLView,this.templateTNode,new yy(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Gd(e[ee],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Qe].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Qe].$index=e}getLView(e){return S2(this.lContainer,e)}};function tZ(n){let e=ae(null),t=Yr();try{let r=re(),i=r[ee],o=r[t],s=t+1,a=Cd(r,s);if(o.liveCollection===void 0){let l=Ey(i,s);o.liveCollection=new _y(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(b2(u,n,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=Es(),h=u.length===0;if(yr(r,l,h)){let p=t+2,g=Cd(r,p);if(h){let m=Ey(i,p),w=hs(g,m.tView.ssrId),A=dc(r,m,void 0,{dehydratedView:w});hc(g,A,0,ds(m,w))}else u0(g,0)}}}finally{ae(e)}}function Cd(n,e){return n[e]}function C2(n,e){return ic(n,e)}function S2(n,e){return c0(n,e)}function Ey(n,e){return Uy(n,e)}function V0(n,e,t,r){let i=re(),o=xe(),s=Xe+n,a=i[Pe],u=o.firstCreatePass?p0(s,o,i,e,fv,zy(),t,r):o.data[s],l=A2(o,i,u,a,e,n);i[s]=l;let h=kd(u);return Gi(u,!0),HS(a,l,u),!yv(u)&&Ld()&&Wd(o,i,l,u),(rF()===0||h)&&ws(l,i),iF(),h&&(qd(o,i,u),sv(o,u,i)),r!==null&&dv(i,u),V0}function j0(){let n=pt();qy()?Gy():(n=n.parent,Gi(n,!1));let e=n;sF(e)&&aF(),oF();let t=xe();return t.firstCreatePass&&g0(t,e),e.classesWithoutHost!=null&&EF(e)&&py(t,e,re(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&IF(e)&&py(t,e,re(),e.stylesWithoutHost,!1),j0}function Av(n,e,t,r){return V0(n,e,t,r),j0(),Av}var A2=(n,e,t,r,i,o)=>(Vd(!0),BS(r,i,yF()));function R2(n,e,t,r,i){let o=e.consts,s=Wr(o,r),a=fc(e,n,8,"ng-container",s);s!==null&&ny(a,s,!0);let u=Wr(o,i);return zy()&&wv(e,t,a,u,fv),a.mergedAttrs=ls(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function U0(n,e,t){let r=re(),i=xe(),o=n+Xe,s=i.firstCreatePass?R2(o,i,r,e,t):i.data[o];Gi(s,!0);let a=M2(i,r,s,n);return r[o]=a,Ld()&&Wd(i,r,a,s),ws(a,r),kd(s)&&(qd(i,r,s),sv(i,s,r)),t!=null&&dv(r,s),U0}function B0(){let n=pt(),e=xe();return qy()?Gy():(n=n.parent,Gi(n,!1)),e.firstCreatePass&&(Zy(e,n),jy(n)&&e.queries.elementEnd(n)),B0}function N2(n,e,t){return U0(n,e,t),B0(),N2}var M2=(n,e,t,r)=>(Vd(!0),YL(e[Pe],""));function nZ(){return re()}var Sd="en-US";var P2=Sd;function x2(n){typeof n=="string"&&(P2=n.toLowerCase().replace(/_/g,"-"))}function Qb(n,e,t){return function r(i){if(i===Function)return t;let o=vs(n)?Pn(n.index,e):e;Ev(o,5);let s=e[Qe],a=Yb(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=Yb(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function Yb(n,e,t,r){let i=ae(null);try{return De(6,e,t),t(r)!==!1}catch(o){return k2(n,o),!1}finally{De(7,e,t),ae(i)}}function k2(n,e){let t=n[cs],r=t?t.get(xn,null):null;r&&r.handleError(e)}function Zb(n,e,t,r,i,o){let s=e[t],a=e[ee],l=a.data[t].outputs[r],h=s[l],p=a.firstCreatePass?Hy(a):null,g=$y(e),m=h.subscribe(o),w=g.length;g.push(o,m),p&&p.push(i,n.index,w,-(w+1))}function Un(n,e,t,r){let i=re(),o=xe(),s=pt();return $0(o,i,i[Pe],s,n,e,r),Un}function O2(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[cd],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function $0(n,e,t,r,i,o,s){let a=kd(r),l=n.firstCreatePass?Hy(n):null,h=$y(e),p=!0;if(r.type&3||s){let g=Fn(r,e),m=s?s(g):g,w=h.length,A=s?k=>s(Mn(k[r.index])):r.index,R=null;if(!s&&a&&(R=O2(n,e,i,r.index)),R!==null){let k=R.__ngLastListenerFn__||R;k.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,p=!1}else{o=Qb(r,e,o),cL(e,m,i,o);let k=t.listen(m,i,o);h.push(o,k),l&&l.push(i,A,w,w+1)}}else o=Qb(r,e,o);if(p){let g=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let w=0;w<m.length;w+=2){let A=m[w],R=m[w+1];Zb(r,e,A,R,i,o)}if(g&&g.length)for(let w of g)Zb(r,e,w,i,i,o)}}function rZ(n=1){return mF(n)}function F2(n,e){let t=null,r=BL(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?US(n,o,!0):zL(r,o))return i}return t}function iZ(n){let e=re()[Ut][xt];if(!e.projection){let t=n?n.length:1,r=e.projection=N1(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?F2(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function oZ(n,e=0,t,r,i,o){let s=re(),a=xe(),u=r?n+1:null;u!==null&&Dd(s,a,u,r,i,o,null,t);let l=fc(a,Xe+n,16,null,t||null);l.projection===null&&(l.projection=e),Gy();let p=!s[as]||FC();s[Ut][xt].projection[l.projection]===null&&u!==null?L2(s,a,u):p&&!yv(l)&&SV(a,s,l)}function L2(n,e,t){let r=Xe+t,i=e.data[r],o=n[r],s=hs(o,i.tView.ssrId),a=dc(n,i,void 0,{dehydratedView:s});hc(o,a,0,ds(i,s))}function V2(n,e,t,r,i){let o=re(),s=M0(o,e,t,r);if(s!==Xt){let a=xe(),u=Fd();hv(a,u,o,n,s,o[Pe],i,!1)}return V2}function H0(n,e,t,r){Nj(n,e,t,r)}function sZ(n,e,t){Rj(n,e,t)}function z0(n){let e=re(),t=xe(),r=UC();Ky(r+1);let i=Dv(t,r);if(n.dirty&&J1(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=xj(e,r);n.reset(o,zF),n.notifyOnChanges()}return!0}return!1}function q0(){return Aj(re(),UC())}function aZ(n){let e=uF();return PC(e,Xe+n)}function cZ(n,e=""){let t=re(),r=xe(),i=n+Xe,o=r.firstCreatePass?fc(r,i,1,e,null):r.data[i],s=j2(r,t,o,e,n);t[i]=s,Ld()&&Wd(r,t,s,o),Gi(o,!1)}var j2=(n,e,t,r,i)=>(Vd(!0),KL(e[Pe],r));function U2(n){return G0("",n,""),U2}function G0(n,e,t){let r=re(),i=M0(r,n,e,t);return i!==Xt&&B2(r,Yr(),i),G0}function B2(n,e,t){let r=MC(e,n);QL(n[Pe],r,t)}function $2(n,e,t){dS(e)&&(e=e());let r=re(),i=Es();if(yr(r,i,e)){let o=xe(),s=Fd();hv(o,s,r,n,e,r[Pe],t,!1)}return $2}function uZ(n,e){let t=dS(n);return t&&n.set(e),t}function H2(n,e){let t=re(),r=xe(),i=pt();return $0(r,t,t[Pe],i,n,e),H2}function z2(n,e,t){let r=xe();if(r.firstCreatePass){let i=Nn(n);Iy(t,r.data,r.blueprint,i,!0),Iy(e,r.data,r.blueprint,i,!1)}}function Iy(n,e,t,r,i){if(n=Dt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Iy(n[o],e,t,r,i);else{let o=xe(),s=re(),a=pt(),u=ss(n)?n:Dt(n.provide),l=DC(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(ss(n)||!n.multi){let m=new $i(l,i,H),w=_m(u,e,i?h:h+g,p);w===-1?(Pm(gd(a,s),o,u),vm(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[w]=m,s[w]=m)}else{let m=_m(u,e,h+g,p),w=_m(u,e,h,h+g),A=m>=0&&t[m],R=w>=0&&t[w];if(i&&!R||!i&&!A){Pm(gd(a,s),o,u);let k=W2(i?G2:q2,t.length,i,r,l);!i&&R&&(t[w].providerFactory=k),vm(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(k),s.push(k)}else{let k=W0(t[i?w:m],l,!i&&r);vm(o,n,m>-1?m:w,k)}!i&&r&&R&&t[w].componentProviders++}}}function vm(n,e,t,r){let i=ss(e),o=j1(e);if(i||o){let u=(o?Dt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function W0(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function _m(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function q2(n,e,t,r,i){return wy(this.multi,[])}function G2(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=rc(r,r[ee],this.providerFactory.index,i);s=u.slice(0,a),wy(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],wy(o,s);return s}function wy(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function W2(n,e,t,r,i){let o=new $i(n,t,H);return o.multi=[],o.index=e,o.componentProviders=0,W0(o,i,r&&!t),o}function nn(n,e=[]){return t=>{t.providersResolver=(r,i)=>z2(r,i?i(n):n,e)}}function lZ(n,e,t){let r=Wy()+n,i=re();return i[r]===Xt?C0(i,r,t?e.call(t):e()):Wj(i,r)}function dZ(n,e,t,r){return K0(re(),Wy(),n,e,t,r)}function K2(n,e){let t=n[e];return t===Xt?void 0:t}function K0(n,e,t,r,i,o){let s=e+t;return yr(n,s,i)?C0(n,s+1,o?r.call(o,i):r(i)):K2(n,s+1)}function hZ(n,e){let t=xe(),r,i=n+Xe;t.firstCreatePass?(r=Q2(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Oi(r.type,!0)),s,a=Rt(H);try{let u=pd(!1),l=o();return pd(u),Z1(t,re(),i,l),l}finally{Rt(a)}}function Q2(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function fZ(n,e,t){let r=n+Xe,i=re(),o=PC(i,r);return Y2(i,r)?K0(i,Wy(),e,o.transform,t,o):o.transform(t)}function Y2(n,e){return n[ee].data[e].pure}var Qr=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Q0=new Qr("19.2.14"),Dy=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Y0=(()=>{class n{compileModuleSync(t){return new ly(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=_C(t),o=VS(i.declarations).reduce((s,a)=>{let u=Li(a);return u&&s.push(new ps(u)),s},[]);return new Dy(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Z2=(()=>{class n{zone=M(ge);changeDetectionScheduler=M(Hi);applicationRef=M(Kr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),J2=new V("",{factory:()=>!1});function Z0({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ge(ue(O({},J0()),{scheduleInRootZone:t})),[{provide:ge,useFactory:n},{provide:os,multi:!0,useFactory:()=>{let r=M(Z2,{optional:!0});return()=>r.initialize()}},{provide:os,multi:!0,useFactory:()=>{let r=M(X2);return()=>{r.initialize()}}},e===!0?{provide:sS,useValue:!0}:[],{provide:aS,useValue:t??oS}]}function pZ(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=Z0({ngZoneFactory:()=>{let i=J0(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Jr("NgZone_CoalesceEvent"),new ge(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Bt([{provide:J2,useValue:!0},{provide:Ud,useValue:!1},r])}function J0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var X2=(()=>{class n{subscription=new Fe;initialized=!1;zone=M(ge);pendingTasks=M(Vn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ge.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var eU=(()=>{class n{appRef=M(Kr);taskService=M(Vn);ngZone=M(ge);zonelessEnabled=M(Ud);tracing=M(Ds,{optional:!0});disableScheduling=M(sS,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Fe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(yd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(aS,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Lm||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Cb:cS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(yd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Cb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tU(){return typeof $localize<"u"&&$localize.locale||Sd}var Rv=new V("",{providedIn:"root",factory:()=>M(Rv,se.Optional|se.SkipSelf)||tU()});var Ty=new V(""),nU=new V("");function Za(n){return!n.moduleRef}function rU(n){let e=Za(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ge);return t.run(()=>{Za(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(xn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Za(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Ty);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Ty);s.add(o),n.moduleRef.onDestroy(()=>{td(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return oU(r,t,()=>{let o=e.get(N0);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Rv,Sd);if(x2(s||Sd),!e.get(nU,!0))return Za(n)?e.get(Kr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Za(n)){let u=e.get(Kr);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return iU(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function iU(n,e){let t=n.injector.get(Kr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new L(-403,!1);e.push(n)}function oU(n,e,t){try{let r=t();return Qi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var nd=null;function sU(n=[],e){return Ue.create({name:e,providers:[{provide:Pd,useValue:"platform"},{provide:Ty,useValue:new Set([()=>nd=null])},...n]})}function aU(n=[]){if(nd)return nd;let e=sU(n);return nd=e,Xj(),cU(e),e}function cU(n){let e=n.get(nv,null);et(n,()=>{e?.forEach(t=>t())})}function Nv(){return!1}var ti=(()=>{class n{static __NG_ELEMENT_ID__=uU}return n})();function uU(n){return lU(pt(),re(),(n&16)===16)}function lU(n,e,t){if(vs(n)&&!t){let r=Pn(n.index,e);return new oc(r,r)}else if(n.type&175){let r=e[Ut];return new oc(r,e)}return null}var by=class{constructor(){}supports(e){return b0(e)}create(e){return new Cy(e)}},dU=(n,e)=>e,Cy=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||dU}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<Jb(r,i,o)?t:r,a=Jb(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let m=g<o.length?o[g]:o[g]=0,w=m+g;h<=w&&w<l&&(o[g]=m+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!b0(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,Gj(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Sy(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ad),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ad),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Sy=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Ay=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Ad=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Ay,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Jb(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var Ry=class{constructor(){}supports(e){return e instanceof Map||bv(e)}create(){return new Ny}},Ny=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||bv(e)))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new My(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},My=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function Xb(){return new Mv([new by])}var Mv=(()=>{class n{factories;static \u0275prov=j({token:n,providedIn:"root",factory:Xb});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Xb()),deps:[[n,new gC,new Tt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new L(901,!1)}}return n})();function eC(){return new Pv([new Ry])}var Pv=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:eC});factories;constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||eC()),deps:[[n,new gC,new Tt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new L(901,!1)}}return n})();function X0(n){De(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=aU(r),o=[Z0({}),{provide:Hi,useExisting:eU},...t||[]],s=new wd({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return rU({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{De(9)}}function ni(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function pn(n){return $g(n)}function Yi(n,e){return Vg(n,e?.equal)}var tC=class{[Qt];constructor(e){this[Qt]=e}destroy(){this[Qt].destroy()}};function eA(n){let e=Li(n);if(!e)return null;let t=new ps(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Be=new V("");var rA=null;function rn(){return rA}function xv(n){rA??=n}var gc=class{},mc=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(iA),providedIn:"platform"})}return n})(),kv=new V(""),iA=(()=>{class n extends mc{_location;_history;_doc=M(Be);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rn().getBaseHref(this._doc)}onPopState(t){let r=rn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=rn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Jd(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function tA(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function mn(n){return n&&n[0]!=="?"?`?${n}`:n}var yn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(eh),providedIn:"root"})}return n})(),Xd=new V(""),eh=(()=>{class n extends yn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(Be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Jd(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+mn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+mn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+mn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(G(mc),G(Xd,8))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ri=(()=>{class n{_subject=new Ne;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=pU(tA(nA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+mn(r))}normalize(t){return n.stripTrailingSlash(fU(this._basePath,nA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+mn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+mn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=mn;static joinWithSlash=Jd;static stripTrailingSlash=tA;static \u0275fac=function(r){return new(r||n)(G(yn))};static \u0275prov=j({token:n,factory:()=>hU(),providedIn:"root"})}return n})();function hU(){return new ri(G(yn))}function fU(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function nA(n){return n.replace(/\/index.html$/,"")}function pU(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Fv=(()=>{class n extends yn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Jd(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+mn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+mn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(G(mc),G(Xd,8))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();var Ov=/\s+/,oA=[],gU=(()=>{class n{_ngEl;_renderer;initialClasses=oA;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Ov):oA}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Ov):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Ov).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(H(gt),H(en))};static \u0275dir=Ee({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var th=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},cA=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new th(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),sA(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);sA(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(H(ei),H(zi),H(Mv))};static \u0275dir=Ee({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function sA(n,e){n.context.$implicit=e.item}var mU=(()=>{class n{_viewContainer;_context=new nh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){aA(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){aA(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(H(ei),H(zi))};static \u0275dir=Ee({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),nh=class{$implicit=null;ngIf=null};function aA(n,e){if(n&&!n.createEmbeddedView)throw new L(2020,!1)}var yU=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:On.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(H(gt),H(Pv),H(en))};static \u0275dir=Ee({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})();function vU(n,e){return new L(2100,!1)}var _U=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw vU(n,t);return t.toUpperCase()}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=w0({name:"uppercase",type:n,pure:!0})}return n})();var uA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=tn({type:n});static \u0275inj=Zt({})}return n})();function yc(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var rh="browser",lA="server";function EU(n){return n===rh}function ih(n){return n===lA}var Zi=class{};var dA=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>new Lv(M(Be),window)})}return n})(),Lv=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=IU(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function IU(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var ah=new V(""),Bv=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new L(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(G(ah),G(ge))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),vc=class{_doc;constructor(e){this._doc=e}manager},oh="ng-app-id";function hA(n){for(let e of n)e.remove()}function fA(n,e){let t=e.createElement("style");return t.textContent=n,t}function DU(n,e,t,r){let i=n.head?.querySelectorAll(`style[${oh}="${e}"],link[${oh}="${e}"]`);if(i)for(let o of i)o.removeAttribute(oh),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function jv(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var $v=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=ih(o),DU(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,fA);r?.forEach(i=>this.addUsage(i,this.external,jv))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(hA(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])hA(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,fA(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,jv(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(oh,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(G(Be),G(tv),G(rv,8),G(Zr))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),Vv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Hv=/%COMP%/g;var gA="%COMP%",TU=`_nghost-${gA}`,bU=`_ngcontent-${gA}`,CU=!0,SU=new V("",{providedIn:"root",factory:()=>CU});function AU(n){return bU.replace(Hv,n)}function RU(n){return TU.replace(Hv,n)}function mA(n,e){return e.map(t=>t.replace(Hv,n))}var zv=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=ih(a),this.defaultRenderer=new _c(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===kn.ShadowDom&&(r=ue(O({},r),{encapsulation:kn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof sh?i.applyToHost(t):i instanceof Ec&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case kn.Emulated:o=new sh(u,l,r,this.appId,h,s,a,p,g);break;case kn.ShadowDom:return new Uv(u,l,t,r,s,a,this.nonce,p,g);default:o=new Ec(u,l,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(G(Bv),G($v),G(tv),G(SU),G(Be),G(Zr),G(ge),G(rv),G(Ds,8))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),_c=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Vv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(pA(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(pA(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new L(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Vv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Vv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(On.DashCase|On.Important)?e.style.setProperty(t,r,i&On.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&On.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=rn().getGlobalEventTarget(this.doc,e),!e))throw new L(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function pA(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Uv=class extends _c{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=mA(i.id,h);for(let g of h){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=g,this.shadowRoot.appendChild(m)}let p=i.getExternalStyles?.();if(p)for(let g of p){let m=jv(g,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ec=class extends _c{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?mA(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},sh=class extends Ec{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=AU(h),this.hostAttr=RU(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var ch=class n extends gc{supportsDOMEvents=!0;static makeCurrent(){xv(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=NU();return t==null?null:MU(t)}resetBaseElement(){Ic=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return yc(document.cookie,e)}},Ic=null;function NU(){return Ic=Ic||document.head.querySelector("base"),Ic?Ic.getAttribute("href"):null}function MU(n){return new URL(n,document.baseURI).pathname}var PU=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),vA=(()=>{class n extends vc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(G(Be))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),yA=["alt","control","meta","shift"],xU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kU={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},_A=(()=>{class n extends vc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),yA.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=xU[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),yA.forEach(s=>{if(s!==i){let a=kU[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(G(Be))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function OU(n,e){return X0(O({rootComponent:n},FU(e)))}function FU(n){return{appProviders:[...BU,...n?.providers??[]],platformProviders:UU}}function LU(){ch.makeCurrent()}function VU(){return new xn}function jU(){return vS(document),document}var UU=[{provide:Zr,useValue:rh},{provide:nv,useValue:LU,multi:!0},{provide:Be,useFactory:jU}];var BU=[{provide:Pd,useValue:"root"},{provide:xn,useFactory:VU},{provide:ah,useClass:vA,multi:!0,deps:[Be]},{provide:ah,useClass:_A,multi:!0,deps:[Be]},zv,$v,Bv,{provide:fs,useExisting:zv},{provide:Zi,useClass:PU},[]];var Cs=class{},wc=class{},ii=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var lh=class{encodeKey(e){return EA(e)}encodeValue(e){return EA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function $U(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var HU=/%(\d[a-f0-9])/gi,zU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function EA(n){return encodeURIComponent(n).replace(HU,(e,t)=>zU[t]??e)}function uh(n){return`${n}`}var vr=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new lh,e.fromString){if(e.fromObject)throw new L(2805,!1);this.map=$U(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(uh):[uh(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(uh(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(uh(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var dh=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function qU(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function IA(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function wA(n){return typeof Blob<"u"&&n instanceof Blob}function DA(n){return typeof FormData<"u"&&n instanceof FormData}function GU(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var TA="Content-Type",bA="Accept",SA="X-Request-URL",AA="text/plain",RA="application/json",WU=`${RA}, ${AA}, */*`,bs=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(qU(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new ii,this.context??=new dh,!this.params)this.params=new vr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||IA(this.body)||wA(this.body)||DA(this.body)||GU(this.body)?this.body:this.body instanceof vr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||DA(this.body)?null:wA(this.body)?this.body.type||null:IA(this.body)?null:typeof this.body=="string"?AA:this.body instanceof vr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?RA:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((g,m)=>g.set(m,e.setHeaders[m]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,m)=>g.set(m,e.setParams[m]),h)),new n(t,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},Ji=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Ji||{}),Ss=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new ii,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},hh=class n extends Ss{constructor(e={}){super(e)}type=Ji.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Dc=class n extends Ss{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Ji.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Tc=class extends Ss{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},KU=200,QU=204;function qv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var NA=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof bs)o=t;else{let u;i.headers instanceof ii?u=i.headers:u=new ii(i.headers);let l;i.params&&(i.params instanceof vr?l=i.params:l=new vr({fromObject:i.params})),o=new bs(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=W(o).pipe(An(u=>this.handler.handle(u)));if(t instanceof bs||i.observe==="events")return s;let a=s.pipe(Ze(u=>u instanceof Dc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(X(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new L(2806,!1);return u.body}));case"blob":return a.pipe(X(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new L(2807,!1);return u.body}));case"text":return a.pipe(X(u=>{if(u.body!==null&&typeof u.body!="string")throw new L(2808,!1);return u.body}));case"json":default:return a.pipe(X(u=>u.body))}case"response":return a;default:throw new L(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new vr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,qv(i,r))}post(t,r,i={}){return this.request("POST",t,qv(i,r))}put(t,r,i={}){return this.request("PUT",t,qv(i,r))}static \u0275fac=function(r){return new(r||n)(G(Cs))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();var YU=new V("");function MA(n,e){return e(n)}function ZU(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function JU(n,e,t){return(r,i)=>et(t,()=>e(r,o=>n(o,i)))}var PA=new V(""),Wv=new V(""),xA=new V(""),Kv=new V("",{providedIn:"root",factory:()=>!0});function XU(){let n=null;return(e,t)=>{n===null&&(n=(M(PA,{optional:!0})??[]).reduceRight(ZU,MA));let r=M(Vn);if(M(Kv)){let o=r.add();return n(e,t).pipe(zr(()=>r.remove(o)))}else return n(e,t)}}var fh=(()=>{class n extends Cs{backend;injector;chain=null;pendingTasks=M(Vn);contributeToStability=M(Kv);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Wv),...this.injector.get(xA,[])]));this.chain=r.reduceRight((i,o)=>JU(i,o,this.injector),MA)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(zr(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(G(wc),G(Je))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();var eB=/^\)\]\}',?\n/,tB=RegExp(`^${SA}:`,"m");function nB(n){return"responseURL"in n&&n.responseURL?n.responseURL:tB.test(n.getAllResponseHeaders())?n.getResponseHeader(SA):null}var Gv=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new L(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?we(r.\u0275loadImpl()):W(null)).pipe(At(()=>new ne(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((A,R)=>s.setRequestHeader(A,R.join(","))),t.headers.has(bA)||s.setRequestHeader(bA,WU),!t.headers.has(TA)){let A=t.detectContentTypeHeader();A!==null&&s.setRequestHeader(TA,A)}if(t.responseType){let A=t.responseType.toLowerCase();s.responseType=A!=="json"?A:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let A=s.statusText||"OK",R=new ii(s.getAllResponseHeaders()),k=nB(s)||t.url;return u=new hh({headers:R,status:s.status,statusText:A,url:k}),u},h=()=>{let{headers:A,status:R,statusText:k,url:z}=l(),q=null;R!==QU&&(q=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=q?KU:0);let ye=R>=200&&R<300;if(t.responseType==="json"&&typeof q=="string"){let it=q;q=q.replace(eB,"");try{q=q!==""?JSON.parse(q):null}catch(ve){q=it,ye&&(ye=!1,q={error:ve,text:q})}}ye?(o.next(new Dc({body:q,headers:A,status:R,statusText:k,url:z||void 0})),o.complete()):o.error(new Tc({error:q,headers:A,status:R,statusText:k,url:z||void 0}))},p=A=>{let{url:R}=l(),k=new Tc({error:A,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(k)},g=!1,m=A=>{g||(o.next(l()),g=!0);let R={type:Ji.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(R.total=A.total),t.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},w=A=>{let R={type:Ji.UploadProgress,loaded:A.loaded};A.lengthComputable&&(R.total=A.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",m),a!==null&&s.upload&&s.upload.addEventListener("progress",w)),s.send(a),o.next({type:Ji.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",m),a!==null&&s.upload&&s.upload.removeEventListener("progress",w)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(G(Zi))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),kA=new V(""),rB="XSRF-TOKEN",iB=new V("",{providedIn:"root",factory:()=>rB}),oB="X-XSRF-TOKEN",sB=new V("",{providedIn:"root",factory:()=>oB}),bc=class{},aB=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=yc(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(G(Be),G(iB))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function cB(n,e){let t=n.url.toLowerCase();if(!M(kA)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=M(bc).getToken(),i=M(sB);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Qv=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Qv||{});function uB(n,e){return{\u0275kind:n,\u0275providers:e}}function OA(...n){let e=[NA,Gv,fh,{provide:Cs,useExisting:fh},{provide:wc,useFactory:()=>M(YU,{optional:!0})??M(Gv)},{provide:Wv,useValue:cB,multi:!0},{provide:kA,useValue:!0},{provide:bc,useClass:aB}];for(let t of n)e.push(...t.\u0275providers);return Bt(e)}var CA=new V("");function FA(){return uB(Qv.LegacyInterceptors,[{provide:CA,useFactory:XU},{provide:Wv,useExisting:CA,multi:!0}])}var lB=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=tn({type:n});static \u0275inj=Zt({providers:[OA(FA())]})}return n})();var LA=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(G(Be))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var dB=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=G(hB),i},providedIn:"root"})}return n})(),hB=(()=>{class n extends dB{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case jn.NONE:return r;case jn.HTML:return Xr(r,"HTML")?fn(r):OS(this._doc,String(r)).toString();case jn.STYLE:return Xr(r,"Style")?fn(r):r;case jn.SCRIPT:if(Xr(r,"Script"))return fn(r);throw new L(5200,!1);case jn.URL:return Xr(r,"URL")?fn(r):Hd(String(r));case jn.RESOURCE_URL:if(Xr(r,"ResourceURL"))return fn(r);throw new L(5201,!1);default:throw new L(5202,!1)}}bypassSecurityTrustHtml(t){return bS(t)}bypassSecurityTrustStyle(t){return CS(t)}bypassSecurityTrustScript(t){return SS(t)}bypassSecurityTrustUrl(t){return AS(t)}bypassSecurityTrustResourceUrl(t){return RS(t)}static \u0275fac=function(r){return new(r||n)(G(Be))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ie="primary",Vc=Symbol("RouteTitle"),e_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function to(n){return new e_(n)}function qA(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function pB(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Bn(n[t],e[t]))return!1;return!0}function Bn(n,e){let t=n?t_(n):void 0,r=e?t_(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!GA(n[i],e[i]))return!1;return!0}function t_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function GA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function WA(n){return n.length>0?n[n.length-1]:null}function ui(n){return tm(n)?n:Qi(n)?we(Promise.resolve(n)):W(n)}var gB={exact:QA,subset:YA},KA={exact:mB,subset:yB,ignored:()=>!0};function VA(n,e,t){return gB[t.paths](n.root,e.root,t.matrixParams)&&KA[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function mB(n,e){return Bn(n,e)}function QA(n,e,t){if(!Xi(n.segments,e.segments)||!mh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!QA(n.children[r],e.children[r],t))return!1;return!0}function yB(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>GA(n[t],e[t]))}function YA(n,e,t){return ZA(n,e,e.segments,t)}function ZA(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Xi(i,t)||e.hasChildren()||!mh(i,t,r))}else if(n.segments.length===t.length){if(!Xi(n.segments,t)||!mh(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!YA(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Xi(n.segments,i)||!mh(n.segments,i,r)||!n.children[ie]?!1:ZA(n.children[ie],e,o,r)}}function mh(n,e,t){return e.every((r,i)=>KA[t](n[i].parameters,r.parameters))}var Hn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new _e([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=to(this.queryParams),this._queryParamMap}toString(){return EB.serialize(this)}},_e=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yh(this)}},oi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=to(this.parameters),this._parameterMap}toString(){return XA(this)}};function vB(n,e){return Xi(n,e)&&n.every((t,r)=>Bn(t.parameters,e[r].parameters))}function Xi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function _B(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ie&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ie&&(t=t.concat(e(i,r)))}),t}var no=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>new si,providedIn:"root"})}return n})(),si=class{parse(e){let t=new r_(e);return new Hn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Cc(e.root,!0)}`,r=DB(e.queryParams),i=typeof e.fragment=="string"?`#${IB(e.fragment)}`:"";return`${t}${r}${i}`}},EB=new si;function yh(n){return n.segments.map(e=>XA(e)).join("/")}function Cc(n,e){if(!n.hasChildren())return yh(n);if(e){let t=n.children[ie]?Cc(n.children[ie],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ie&&r.push(`${i}:${Cc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=_B(n,(r,i)=>i===ie?[Cc(n.children[ie],!1)]:[`${i}:${Cc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ie]!=null?`${yh(n)}/${t[0]}`:`${yh(n)}/(${t.join("//")})`}}function JA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ph(n){return JA(n).replace(/%3B/gi,";")}function IB(n){return encodeURI(n)}function n_(n){return JA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vh(n){return decodeURIComponent(n)}function jA(n){return vh(n.replace(/\+/g,"%20"))}function XA(n){return`${n_(n.path)}${wB(n.parameters)}`}function wB(n){return Object.entries(n).map(([e,t])=>`;${n_(e)}=${n_(t)}`).join("")}function DB(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${ph(t)}=${ph(i)}`).join("&"):`${ph(t)}=${ph(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var TB=/^[^\/()?;#]+/;function Yv(n){let e=n.match(TB);return e?e[0]:""}var bB=/^[^\/()?;=#]+/;function CB(n){let e=n.match(bB);return e?e[0]:""}var SB=/^[^=?&#]+/;function AB(n){let e=n.match(SB);return e?e[0]:""}var RB=/^[^&#]+/;function NB(n){let e=n.match(RB);return e?e[0]:""}var r_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ie]=new _e(e,t)),r}parseSegment(){let e=Yv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new oi(vh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=CB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Yv(this.remaining);i&&(r=i,this.capture(r))}e[vh(t)]=vh(r)}parseQueryParam(e){let t=AB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=NB(this.remaining);s&&(r=s,this.capture(r))}let i=jA(t),o=jA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Yv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new L(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ie);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ie]:new _e([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}};function eR(n){return n.segments.length>0?new _e([],{[ie]:n}):n}function tR(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=tR(i);if(r===ie&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new _e(n.segments,e);return MB(t)}function MB(n){if(n.numberOfChildren===1&&n.children[ie]){let e=n.children[ie];return new _e(n.segments.concat(e.segments),e.children)}return n}function ai(n){return n instanceof Hn}function nR(n,e,t=null,r=null){let i=rR(n);return iR(i,e,t,r)}function rR(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new _e(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=eR(r);return e??i}function iR(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Zv(i,i,i,t,r);let o=PB(e);if(o.toRoot())return Zv(i,i,new _e([],{}),t,r);let s=xB(o,i,n),a=s.processChildren?Ac(s.segmentGroup,s.index,o.commands):sR(s.segmentGroup,s.index,o.commands);return Zv(i,s.segmentGroup,a,t,r)}function Eh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Nc(n){return typeof n=="object"&&n!=null&&n.outlets}function Zv(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=oR(n,e,t);let a=eR(tR(s));return new Hn(a,o,i)}function oR(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=oR(o,e,t)}),new _e(n.segments,r)}var Ih=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Eh(r[0]))throw new L(4003,!1);let i=r.find(Nc);if(i&&i!==WA(r))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function PB(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Ih(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ih(t,e,r)}var Ns=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function xB(n,e,t){if(n.isAbsolute)return new Ns(e,!0,0);if(!t)return new Ns(e,!1,NaN);if(t.parent===null)return new Ns(t,!0,0);let r=Eh(n.commands[0])?0:1,i=t.segments.length-1+r;return kB(t,i,n.numberOfDoubleDots)}function kB(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new L(4005,!1);i=r.segments.length}return new Ns(r,!1,i-o)}function OB(n){return Nc(n[0])?n[0].outlets:{[ie]:n}}function sR(n,e,t){if(n??=new _e([],{}),n.segments.length===0&&n.hasChildren())return Ac(n,e,t);let r=FB(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new _e(n.segments.slice(0,r.pathIndex),{});return o.children[ie]=new _e(n.segments.slice(r.pathIndex),n.children),Ac(o,0,i)}else return r.match&&i.length===0?new _e(n.segments,{}):r.match&&!n.hasChildren()?i_(n,e,t):r.match?Ac(n,0,i):i_(n,e,t)}function Ac(n,e,t){if(t.length===0)return new _e(n.segments,{});{let r=OB(t),i={};if(Object.keys(r).some(o=>o!==ie)&&n.children[ie]&&n.numberOfChildren===1&&n.children[ie].segments.length===0){let o=Ac(n.children[ie],e,t);return new _e(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=sR(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new _e(n.segments,i)}}function FB(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Nc(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!BA(u,l,s))return o;r+=2}else{if(!BA(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function i_(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Nc(o)){let u=LB(o.outlets);return new _e(r,u)}if(i===0&&Eh(t[0])){let u=n.segments[e];r.push(new oi(u.path,UA(t[0]))),i++;continue}let s=Nc(o)?o.outlets[ie]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Eh(a)?(r.push(new oi(s,UA(a))),i+=2):(r.push(new oi(s,{})),i++)}return new _e(r,{})}function LB(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=i_(new _e([],{}),0,r))}),e}function UA(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function BA(n,e,t){return n==t.path&&Bn(e,t.parameters)}var _h="imperative",Ye=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ye||{}),Ht=class{id;url;constructor(e,t){this.id=e,this.url=t}},ci=class extends Ht{type=Ye.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},zt=class extends Ht{urlAfterRedirects;type=Ye.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},kt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(kt||{}),Ps=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Ps||{}),$n=class extends Ht{reason;code;type=Ye.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},zn=class extends Ht{reason;code;type=Ye.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},xs=class extends Ht{error;target;type=Ye.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Mc=class extends Ht{urlAfterRedirects;state;type=Ye.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wh=class extends Ht{urlAfterRedirects;state;type=Ye.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dh=class extends Ht{urlAfterRedirects;state;shouldActivate;type=Ye.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Th=class extends Ht{urlAfterRedirects;state;type=Ye.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bh=class extends Ht{urlAfterRedirects;state;type=Ye.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ch=class{route;type=Ye.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Sh=class{route;type=Ye.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ah=class{snapshot;type=Ye.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rh=class{snapshot;type=Ye.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nh=class{snapshot;type=Ye.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mh=class{snapshot;type=Ye.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ks=class{routerEvent;position;anchor;type=Ye.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Pc=class{},Os=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function VB(n,e){return n.providers&&!n._injector&&(n._injector=pc(n.providers,e,`Route: ${n.path}`)),n._injector??e}function vn(n){return n.outlet||ie}function jB(n,e){let t=n.filter(r=>vn(r)===e);return t.push(...n.filter(r=>vn(r)!==e)),t}function jc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Ph=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return jc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ro(this.rootInjector)}},ro=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ph(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(G(Je))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=o_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=o_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=s_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return s_(e,this._root).map(t=>t.value)}};function o_(n,e){if(n===e.value)return e;for(let t of e.children){let r=o_(n,t);if(r)return r}return null}function s_(n,e){if(n===e.value)return[e];for(let t of e.children){let r=s_(n,t);if(r.length)return r.unshift(e),r}return[]}var $t=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Rs(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var xc=class extends xh{snapshot;constructor(e,t){super(e),this.snapshot=t,p_(this,e)}toString(){return this.snapshot.toString()}};function aR(n){let e=UB(n),t=new $e([new oi("",{})]),r=new $e({}),i=new $e({}),o=new $e({}),s=new $e(""),a=new qn(t,r,o,s,i,ie,n,e.root);return a.snapshot=e.root,new xc(new $t(a,[]),e)}function UB(n){let e={},t={},r={},i="",o=new eo([],e,r,i,t,ie,n,null,{});return new kc("",new $t(o,[]))}var qn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(X(l=>l[Vc]))??W(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>to(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>to(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function kh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),n.params),data:O(O({},e.data),n.data),resolve:O(O(O(O({},n.data),e.data),i?.data),n._resolvedData)}:r={params:O({},n.params),data:O({},n.data),resolve:O(O({},n.data),n._resolvedData??{})},i&&uR(i)&&(r.resolve[Vc]=i.title),r}var eo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Vc]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=to(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=to(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},kc=class extends xh{url;constructor(e,t){super(t),this.url=e,p_(this,t)}toString(){return cR(this._root)}};function p_(n,e){e.value._routerState=n,e.children.forEach(t=>p_(n,t))}function cR(n){let e=n.children.length>0?` { ${n.children.map(cR).join(", ")} } `:"";return`${n.value}${e}`}function Jv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Bn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Bn(e.params,t.params)||n.paramsSubject.next(t.params),pB(e.url,t.url)||n.urlSubject.next(t.url),Bn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function a_(n,e){let t=Bn(n.params,e.params)&&vB(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||a_(n.parent,e.parent))}function uR(n){return typeof n.title=="string"||n.title===null}var lR=new V(""),g_=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ie;activateEvents=new Me;deactivateEvents=new Me;attachEvents=new Me;detachEvents=new Me;routerOutletData=lS(void 0);parentContexts=M(ro);location=M(ei);changeDetector=M(ti);inputBinder=M(Uc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new c_(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ee({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Jt]})}return n})(),c_=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===qn?this.route:e===ro?this.childContexts:e===lR?this.outletData:this.parent.get(e,t)}},Uc=new V(""),m_=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Ya([r.queryParams,r.params,r.data]).pipe(At(([o,s,a],u)=>(a=O(O(O({},o),s),a),u===0?W(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=eA(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),y_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=I0({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Av(0,"router-outlet")},dependencies:[g_],encapsulation:2})}return n})();function v_(n){let e=n.children&&n.children.map(v_),t=e?ue(O({},n),{children:e}):O({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ie&&(t.component=y_),t}function BB(n,e,t){let r=Oc(n,e._root,t?t._root:void 0);return new xc(r,e)}function Oc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=$B(n,e,t);return new $t(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Oc(n,a)),s}}let r=HB(e.value),i=e.children.map(o=>Oc(n,o));return new $t(r,i)}}function $B(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Oc(n,r,i);return Oc(n,r)})}function HB(n){return new qn(new $e(n.url),new $e(n.params),new $e(n.queryParams),new $e(n.fragment),new $e(n.data),n.outlet,n.component,n)}var Fs=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},dR="ngNavigationCancelingError";function Oh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ai(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=hR(!1,kt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function hR(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[dR]=!0,t.cancellationCode=e,t}function zB(n){return fR(n)&&ai(n.url)}function fR(n){return!!n&&n[dR]}var qB=(n,e,t,r)=>X(i=>(new u_(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),u_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Jv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Rs(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Rs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Rs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Rs(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Mh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Rh(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Jv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Jv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Fh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ms=class{component;route;constructor(e,t){this.component=e,this.route=t}};function GB(n,e,t){let r=n._root,i=e?e._root:null;return Sc(r,i,t,[r.value])}function WB(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Vs(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!aC(n)?n:e.get(n):r}function Sc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Rs(e);return n.children.forEach(s=>{KB(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Rc(a,t.getContext(s),i)),i}function KB(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=QB(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Fh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Sc(n,e,a?a.children:null,r,i):Sc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ms(a.outlet.component,s))}else s&&Rc(e,a,i),i.canActivateChecks.push(new Fh(r)),o.component?Sc(n,null,a?a.children:null,r,i):Sc(n,null,t,r,i);return i}function QB(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Xi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Xi(n.url,e.url)||!Bn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!a_(n,e)||!Bn(n.queryParams,e.queryParams);case"paramsChange":default:return!a_(n,e)}}function Rc(n,e,t){let r=Rs(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Rc(s,e.children.getContext(o),t):Rc(s,null,t):Rc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ms(e.outlet.component,i)):t.canDeactivateChecks.push(new Ms(null,i)):t.canDeactivateChecks.push(new Ms(null,i))}function Bc(n){return typeof n=="function"}function YB(n){return typeof n=="boolean"}function ZB(n){return n&&Bc(n.canLoad)}function JB(n){return n&&Bc(n.canActivate)}function XB(n){return n&&Bc(n.canActivateChild)}function e$(n){return n&&Bc(n.canDeactivate)}function t$(n){return n&&Bc(n.canMatch)}function pR(n){return n instanceof ar||n?.name==="EmptyError"}var gh=Symbol("INITIAL_VALUE");function Ls(){return At(n=>Ya(n.map(e=>e.pipe(ur(1),ql(gh)))).pipe(X(e=>{for(let t of e)if(t!==!0){if(t===gh)return gh;if(t===!1||n$(t))return t}return!0}),Ze(e=>e!==gh),ur(1)))}function n$(n){return ai(n)||n instanceof Fs}function r$(n,e){return je(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?W(ue(O({},t),{guardsResult:!0})):i$(s,r,i,n).pipe(je(a=>a&&YB(a)?o$(r,o,n,e):W(a)),X(a=>ue(O({},t),{guardsResult:a})))})}function i$(n,e,t,r){return we(n).pipe(je(i=>l$(i.component,i.route,t,e,r)),lr(i=>i!==!0,!0))}function o$(n,e,t,r){return we(e).pipe(An(i=>Yo(a$(i.route.parent,r),s$(i.route,r),u$(n,i.path,t),c$(n,i.route,t))),lr(i=>i!==!0,!0))}function s$(n,e){return n!==null&&e&&e(new Nh(n)),W(!0)}function a$(n,e){return n!==null&&e&&e(new Ah(n)),W(!0)}function c$(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(o=>$l(()=>{let s=jc(e)??t,a=Vs(o,s),u=JB(a)?a.canActivate(e,n):et(s,()=>a(e,n));return ui(u).pipe(lr())}));return W(i).pipe(Ls())}function u$(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>WB(s)).filter(s=>s!==null).map(s=>$l(()=>{let a=s.guards.map(u=>{let l=jc(s.node)??t,h=Vs(u,l),p=XB(h)?h.canActivateChild(r,n):et(l,()=>h(r,n));return ui(p).pipe(lr())});return W(a).pipe(Ls())}));return W(o).pipe(Ls())}function l$(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(a=>{let u=jc(e)??i,l=Vs(a,u),h=e$(l)?l.canDeactivate(n,e,t,r):et(u,()=>l(n,e,t,r));return ui(h).pipe(lr())});return W(s).pipe(Ls())}function d$(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let o=i.map(s=>{let a=Vs(s,n),u=ZB(a)?a.canLoad(e,t):et(n,()=>a(e,t));return ui(u)});return W(o).pipe(Ls(),gR(r))}function gR(n){return Il(st(e=>{if(typeof e!="boolean")throw Oh(n,e)}),X(e=>e===!0))}function h$(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let o=i.map(s=>{let a=Vs(s,n),u=t$(a)?a.canMatch(e,t):et(n,()=>a(e,t));return ui(u)});return W(o).pipe(Ls(),gR(r))}var Fc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Lc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function As(n){return Qo(new Fc(n))}function f$(n){return Qo(new L(4e3,!1))}function p$(n){return Qo(hR(!1,kt.GuardRejected))}var l_=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[ie])return f$(`${e.redirectTo}`);i=i.children[ie]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,params:m,data:w,title:A}=i,R=et(o,()=>a({params:m,data:w,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,title:A}));if(R instanceof Hn)throw new Lc(R);t=R}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Lc(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Hn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new _e(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new L(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},d_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function g$(n,e,t,r,i){let o=mR(n,e,t);return o.matched?(r=VB(e,r),h$(r,e,t,i).pipe(X(s=>s===!0?o:O({},d_)))):W(o)}function mR(n,e,t){if(e.path==="**")return m$(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?O({},d_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||qA)(t,n,e);if(!i)return O({},d_);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?O(O({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function m$(n){return{matched:!0,parameters:n.length>0?WA(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function $A(n,e,t,r){return t.length>0&&_$(n,t,r)?{segmentGroup:new _e(e,v$(r,new _e(t,n.children))),slicedSegments:[]}:t.length===0&&E$(n,t,r)?{segmentGroup:new _e(n.segments,y$(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new _e(n.segments,n.children),slicedSegments:t}}function y$(n,e,t,r){let i={};for(let o of t)if(Vh(n,e,o)&&!r[vn(o)]){let s=new _e([],{});i[vn(o)]=s}return O(O({},r),i)}function v$(n,e){let t={};t[ie]=e;for(let r of n)if(r.path===""&&vn(r)!==ie){let i=new _e([],{});t[vn(r)]=i}return t}function _$(n,e,t){return t.some(r=>Vh(n,e,r)&&vn(r)!==ie)}function E$(n,e,t){return t.some(r=>Vh(n,e,r))}function Vh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function I$(n,e,t){return e.length===0&&!n.children[t]}var h_=class{};function w$(n,e,t,r,i,o,s="emptyOnly"){return new f_(n,e,t,r,i,s,o).recognize()}var D$=31,f_=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new l_(this.urlSerializer,this.urlTree)}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}recognize(){let e=$A(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(({children:t,rootSnapshot:r})=>{let i=new $t(r,t),o=new kc("",i),s=nR(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new eo([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ie,t).pipe(X(r=>({children:r,rootSnapshot:t})),cr(r=>{if(r instanceof Lc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Fc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(X(s=>s instanceof $t?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return we(o).pipe(An(s=>{let a=r.children[s],u=jB(t,s);return this.processSegmentGroup(e,u,a,s,i)}),zl((s,a)=>(s.push(...a),s)),Hr(null),rm(),je(s=>{if(s===null)return As(r);let a=yR(s);return T$(a),W(a)}))}processSegment(e,t,r,i,o,s,a){return we(t).pipe(An(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(cr(l=>{if(l instanceof Fc)return W(null);throw l}))),lr(u=>!!u),cr(u=>{if(pR(u))return I$(r,i,o)?W(new h_):As(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return vn(r)!==s&&(s===ie||!Vh(i,o,r))?As(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):As(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=mR(t,i,o);if(!u)return As(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>D$&&(this.allowRedirects=!1));let m=new eo(o,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,HA(i),vn(i),i.component??i._loadedComponent??null,i,zA(i)),w=kh(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(w.params),m.data=Object.freeze(w.data);let A=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,m,e);return this.applyRedirects.lineralizeSegments(i,A).pipe(je(R=>this.processSegment(e,r,t,R.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=g$(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(At(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(At(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:m}=u,w=new eo(g,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,HA(r),vn(r),r.component??r._loadedComponent??null,r,zA(r)),A=kh(w,s,this.paramsInheritanceStrategy);w.params=Object.freeze(A.params),w.data=Object.freeze(A.data);let{segmentGroup:R,slicedSegments:k}=$A(t,g,m,l);if(k.length===0&&R.hasChildren())return this.processChildren(h,l,R,w).pipe(X(q=>new $t(w,q)));if(l.length===0&&k.length===0)return W(new $t(w,[]));let z=vn(r)===o;return this.processSegment(h,l,R,k,z?ie:o,!0,w).pipe(X(q=>new $t(w,q instanceof $t?[q]:[])))}))):As(t)))}getChildConfig(e,t,r){return t.children?W({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?W({routes:t._loadedRoutes,injector:t._loadedInjector}):d$(e,t,r,this.urlSerializer).pipe(je(i=>i?this.configLoader.loadChildren(e,t).pipe(st(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):p$(t))):W({routes:[],injector:e})}};function T$(n){n.sort((e,t)=>e.value.outlet===ie?-1:t.value.outlet===ie?1:e.value.outlet.localeCompare(t.value.outlet))}function b$(n){let e=n.value.routeConfig;return e&&e.path===""}function yR(n){let e=[],t=new Set;for(let r of n){if(!b$(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=yR(r.children);e.push(new $t(r.value,i))}return e.filter(r=>!t.has(r))}function HA(n){return n.data||{}}function zA(n){return n.resolve||{}}function C$(n,e,t,r,i,o){return je(s=>w$(n,e,t,r,s.extractedUrl,i,o).pipe(X(({state:a,tree:u})=>ue(O({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function S$(n,e){return je(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of vR(u))s.add(l);let a=0;return we(s).pipe(An(u=>o.has(u)?A$(u,r,n,e):(u.data=kh(u,u.parent,n).resolve,W(void 0))),st(()=>a++),Zo(1),je(u=>a===s.size?W(t):Ct))})}function vR(n){let e=n.children.map(t=>vR(t)).flat();return[n,...e]}function A$(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!uR(i)&&(o[Vc]=i.title),R$(o,n,e,r).pipe(X(s=>(n._resolvedData=s,n.data=kh(n,n.parent,t).resolve,null)))}function R$(n,e,t,r){let i=t_(n);if(i.length===0)return W({});let o={};return we(i).pipe(je(s=>N$(n[s],e,t,r).pipe(lr(),st(a=>{if(a instanceof Fs)throw Oh(new si,a);o[s]=a}))),Zo(1),X(()=>o),cr(s=>pR(s)?Ct:Qo(s)))}function N$(n,e,t,r){let i=jc(e)??r,o=Vs(n,i),s=o.resolve?o.resolve(e,t):et(i,()=>o(e,t));return ui(s)}function Xv(n){return At(e=>{let t=n(e);return t?we(t).pipe(X(()=>e)):W(e)})}var __=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ie);return r}getResolvedTitleForRoute(t){return t.data[Vc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(_R),providedIn:"root"})}return n})(),_R=(()=>{class n extends __{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(G(LA))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),io=new V("",{providedIn:"root",factory:()=>({})}),oo=new V(""),jh=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=M(Y0);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=ui(t.loadComponent()).pipe(X(IR),st(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),zr(()=>{this.componentLoaders.delete(t)})),i=new qo(r,()=>new Ne).pipe(zo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=ER(r,this.compiler,t,this.onLoadEndListener).pipe(zr(()=>{this.childrenLoaders.delete(r)})),s=new qo(o,()=>new Ne).pipe(zo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ER(n,e,t,r){return ui(n.loadChildren()).pipe(X(IR),je(i=>i instanceof Tv||Array.isArray(i)?W(i):we(e.compileModuleAsync(i))),X(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(oo,[],{optional:!0,self:!0}).flat()),{routes:s.map(v_),injector:o}}))}function M$(n){return n&&typeof n=="object"&&"default"in n}function IR(n){return M$(n)?n.default:n}var Uh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(P$),providedIn:"root"})}return n})(),P$=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),E_=new V(""),I_=new V("");function wR(n,e,t){let r=n.get(I_),i=n.get(Be);return n.get(ge).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),x$(n))),{onViewTransitionCreated:u}=r;return u&&et(n,()=>u({transition:a,from:e,to:t})),s})}function x$(n){return new Promise(e=>{ov({read:()=>setTimeout(e)},{injector:n})})}var w_=new V(""),Bh=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ne;transitionAbortSubject=new Ne;configLoader=M(jh);environmentInjector=M(Je);destroyRef=M(Wi);urlSerializer=M(no);rootContexts=M(ro);location=M(ri);inputBindingEnabled=M(Uc,{optional:!0})!==null;titleStrategy=M(__);options=M(io,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=M(Uh);createViewTransition=M(E_,{optional:!0});navigationErrorHandler=M(w_,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>W(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Ch(i)),r=i=>this.events.next(new Sh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ue(O({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new $e(null),this.transitions.pipe(Ze(r=>r!==null),At(r=>{let i=!1,o=!1;return W(r).pipe(At(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",kt.SupersededByNewNavigation),Ct;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ue(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&u!=="reload"){let l="";return this.events.next(new zn(s.id,this.urlSerializer.serialize(s.rawUrl),l,Ps.IgnoredSameUrlNavigation)),s.resolve(!1),Ct}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return W(s).pipe(At(l=>(this.events.next(new ci(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Ct:Promise.resolve(l))),C$(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),st(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=ue(O({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new Mc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:g,extras:m}=s,w=new ci(l,this.urlSerializer.serialize(h),p,g);this.events.next(w);let A=aR(this.rootComponentType).snapshot;return this.currentTransition=r=ue(O({},s),{targetSnapshot:A,urlAfterRedirects:h,extras:ue(O({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,W(r)}else{let l="";return this.events.next(new zn(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Ps.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Ct}}),st(s=>{let a=new wh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),X(s=>(this.currentTransition=r=ue(O({},s),{guards:GB(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),r$(this.environmentInjector,s=>this.events.next(s)),st(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Oh(this.urlSerializer,s.guardsResult);let a=new Dh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ze(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",kt.GuardRejected),!1)),Xv(s=>{if(s.guards.canActivateChecks.length!==0)return W(s).pipe(st(a=>{let u=new Th(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),At(a=>{let u=!1;return W(a).pipe(S$(this.paramsInheritanceStrategy,this.environmentInjector),st({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",kt.NoDataFromResolver)}}))}),st(a=>{let u=new bh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Xv(s=>{let a=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(st(h=>{u.component=h}),X(()=>{})));for(let h of u.children)l.push(...a(h));return l};return Ya(a(s.targetSnapshot.root)).pipe(Hr(null),ur(1))}),Xv(()=>this.afterPreactivation()),At(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?we(u).pipe(X(()=>r)):W(r)}),X(s=>{let a=BB(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ue(O({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),st(()=>{this.events.next(new Pc)}),qB(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),ur(1),st({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),om(this.transitionAbortSubject.pipe(st(s=>{throw s}))),zr(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",kt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),cr(s=>{if(this.destroyed)return r.resolve(!1),Ct;if(o=!0,fR(s))this.events.next(new $n(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),zB(s)?this.events.next(new Os(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new xs(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=et(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof Fs){let{message:l,cancellationCode:h}=Oh(this.urlSerializer,u);this.events.next(new $n(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new Os(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Ct}))}))}cancelNavigationTransition(t,r,i){let o=new $n(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function k$(n){return n!==_h}var DR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(O$),providedIn:"root"})}return n})(),Lh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},O$=(()=>{class n extends Lh{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ln(n)))(i||n)}})();static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TR=(()=>{class n{urlSerializer=M(no);options=M(io,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=M(ri);urlHandlingStrategy=M(Uh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Hn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Hn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=aR(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(F$),providedIn:"root"})}return n})(),F$=(()=>{class n extends TR{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof ci?this.updateStateMemento():t instanceof zn?this.commitTransition(r):t instanceof Mc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Pc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof $n&&(t.code===kt.GuardRejected||t.code===kt.NoDataFromResolver)?this.restoreHistory(r):t instanceof xs?this.restoreHistory(r,!0):t instanceof zt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=O(O({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=O(O({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ln(n)))(i||n)}})();static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $h(n,e){n.events.pipe(Ze(t=>t instanceof zt||t instanceof $n||t instanceof xs||t instanceof zn),X(t=>t instanceof zt||t instanceof zn?0:(t instanceof $n?t.code===kt.Redirect||t.code===kt.SupersededByNewNavigation:!1)?2:1),Ze(t=>t!==2),ur(1)).subscribe(()=>{e()})}var L$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},V$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},_n=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=M(Cv);stateManager=M(TR);options=M(io,{optional:!0})||{};pendingTasks=M(Vn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=M(Bh);urlSerializer=M(no);location=M(ri);urlHandlingStrategy=M(Uh);_events=new Ne;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=M(DR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=M(oo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!M(Uc,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Fe;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof $n&&r.code!==kt.Redirect&&r.code!==kt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof zt)this.navigated=!0;else if(r instanceof Os){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=O({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||k$(i.source)},s);this.scheduleNavigation(a,_h,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}U$(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),_h,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=O({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(v_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=rR(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return iR(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ai(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,_h,null,r)}navigate(t,r={skipLocationChange:!1}){return j$(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=O({},L$):r===!1?i=O({},V$):i=r,ai(t))return VA(this.currentUrlTree,t,i);let o=this.parseUrl(t);return VA(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return $h(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function j$(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new L(4008,!1)}function U$(n){return!(n instanceof Pc)&&!(n instanceof Os)}var Hh=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ne;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof zt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ai(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:FS(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:ai(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(H(_n),H(qn),jd("tabindex"),H(en),H(gt),H(yn))};static \u0275dir=Ee({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Un("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ts("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ni],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ni],replaceUrl:[2,"replaceUrl","replaceUrl",ni],routerLink:"routerLink"},features:[Jt]})}return n})(),B$=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Me;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof zt&&this.update()})}ngAfterContentInit(){W(this.links.changes,W(null)).pipe($r()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=we(t).pipe($r()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=$$(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(H(_n),H(gt),H(en),H(ti),H(Hh,8))};static \u0275dir=Ee({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&H0(o,Hh,5),r&2){let s;z0(s=q0())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Jt]})}return n})();function $$(n){return!!n.paths}var $c=class{};var bR=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ze(t=>t instanceof zt),An(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=pc(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return we(i).pipe($r())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=W(null);let o=i.pipe(je(s=>s===null?W(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return we([o,s]).pipe($r())}else return o})}static \u0275fac=function(r){return new(r||n)(G(_n),G(Je),G($c),G(jh))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),CR=new V(""),H$=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ci?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof zt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof zn&&t.code===Ps.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ks&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ks(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){h0()};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function z$(n,...e){return Bt([{provide:oo,multi:!0,useValue:n},[],{provide:qn,useFactory:SR,deps:[_n]},{provide:Yd,multi:!0,useFactory:AR},e.map(t=>t.\u0275providers)])}function SR(n){return n.routerState.root}function Hc(n,e){return{\u0275kind:n,\u0275providers:e}}function AR(){let n=M(Ue);return e=>{let t=n.get(Kr);if(e!==t.components[0])return;let r=n.get(_n),i=n.get(RR);n.get(T_)===1&&r.initialNavigation(),n.get(PR,null,se.Optional)?.setUpPreloading(),n.get(CR,null,se.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var RR=new V("",{factory:()=>new Ne}),T_=new V("",{providedIn:"root",factory:()=>1});function NR(){let n=[{provide:T_,useValue:0},Sv(()=>{let e=M(Ue);return e.get(kv,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(_n),o=e.get(RR);$h(i,()=>{r(!0)}),e.get(Bh).afterPreactivation=()=>(r(!0),o.closed?W(void 0):o),i.initialNavigation()}))})];return Hc(2,n)}function MR(){let n=[Sv(()=>{M(_n).setUpLocationChangeListener()}),{provide:T_,useValue:2}];return Hc(3,n)}var PR=new V("");function xR(n){return Hc(0,[{provide:PR,useExisting:bR},{provide:$c,useExisting:n}])}function kR(){return Hc(8,[m_,{provide:Uc,useExisting:m_}])}function OR(n){Jr("NgRouterViewTransitions");let e=[{provide:E_,useValue:wR},{provide:I_,useValue:O({skipNextTransition:!!n?.skipInitialTransition},n)}];return Hc(9,e)}var FR=[ri,{provide:no,useClass:si},_n,ro,{provide:qn,useFactory:SR,deps:[_n]},jh,[]],q$=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[FR,[],{provide:oo,multi:!0,useValue:t},[],r?.errorHandler?{provide:w_,useValue:r.errorHandler}:[],{provide:io,useValue:r||{}},r?.useHash?W$():K$(),G$(),r?.preloadingStrategy?xR(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Q$(r):[],r?.bindToComponentInputs?kR().\u0275providers:[],r?.enableViewTransitions?OR().\u0275providers:[],Y$()]}}static forChild(t){return{ngModule:n,providers:[{provide:oo,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=tn({type:n});static \u0275inj=Zt({})}return n})();function G$(){return{provide:CR,useFactory:()=>{let n=M(dA),e=M(ge),t=M(io),r=M(Bh),i=M(no);return t.scrollOffset&&n.setOffset(t.scrollOffset),new H$(i,r,n,e,t)}}}function W$(){return{provide:yn,useClass:Fv}}function K$(){return{provide:yn,useClass:eh}}function Q$(n){return[n.initialNavigation==="disabled"?MR().\u0275providers:[],n.initialNavigation==="enabledBlocking"?NR().\u0275providers:[]]}var D_=new V("");function Y$(){return[{provide:D_,useFactory:AR},{provide:Yd,multi:!0,useExisting:D_}]}var GR=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(H(en),H(gt))};static \u0275dir=Ee({type:n})}return n})(),tf=(()=>{class n extends GR{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ln(n)))(i||n)}})();static \u0275dir=Ee({type:n,features:[mt]})}return n})(),so=new V(""),Z$={provide:so,useExisting:Pt(()=>J$),multi:!0},J$=(()=>{class n extends tf{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ln(n)))(i||n)}})();static \u0275dir=Ee({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&Un("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[nn([Z$]),mt]})}return n})(),X$={provide:so,useExisting:Pt(()=>WR),multi:!0};function eH(){let n=rn()?rn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var tH=new V(""),WR=(()=>{class n extends GR{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!eH())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(H(en),H(gt),H(tH,8))};static \u0275dir=Ee({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Un("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[nn([X$]),mt]})}return n})();function A_(n){return n==null||R_(n)===0}function R_(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var ao=new V(""),Zc=new V(""),nH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,LR=class{static min(e){return rH(e)}static max(e){return iH(e)}static required(e){return KR(e)}static requiredTrue(e){return oH(e)}static email(e){return sH(e)}static minLength(e){return QR(e)}static maxLength(e){return aH(e)}static pattern(e){return cH(e)}static nullValidator(e){return qh()}static compose(e){return tN(e)}static composeAsync(e){return nN(e)}};function rH(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function iH(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function KR(n){return A_(n.value)?{required:!0}:null}function oH(n){return n.value===!0?null:{required:!0}}function sH(n){return A_(n.value)||nH.test(n.value)?null:{email:!0}}function QR(n){return e=>{let t=e.value?.length??R_(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function aH(n){return e=>{let t=e.value?.length??R_(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function cH(n){if(!n)return qh;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(A_(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function qh(n){return null}function YR(n){return n!=null}function ZR(n){return Qi(n)?we(n):n}function JR(n){let e={};return n.forEach(t=>{e=t!=null?O(O({},e),t):e}),Object.keys(e).length===0?null:e}function XR(n,e){return e.map(t=>t(n))}function uH(n){return!n.validate}function eN(n){return n.map(e=>uH(e)?e:t=>e.validate(t))}function tN(n){if(!n)return null;let e=n.filter(YR);return e.length==0?null:function(t){return JR(XR(t,e))}}function N_(n){return n!=null?tN(eN(n)):null}function nN(n){if(!n)return null;let e=n.filter(YR);return e.length==0?null:function(t){let r=XR(t,e).map(ZR);return nm(r).pipe(X(JR))}}function M_(n){return n!=null?nN(eN(n)):null}function VR(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function rN(n){return n._rawValidators}function iN(n){return n._rawAsyncValidators}function b_(n){return n?Array.isArray(n)?n:[n]:[]}function Gh(n,e){return Array.isArray(n)?n.includes(e):n===e}function jR(n,e){let t=b_(e);return b_(n).forEach(i=>{Gh(t,i)||t.push(i)}),t}function UR(n,e){return b_(e).filter(t=>!Gh(n,t))}var Wh=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=N_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=M_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},_r=class extends Wh{name;get formDirective(){return null}get path(){return null}},Er=class extends Wh{_parent=null;name=null;valueAccessor=null},Kh=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},lH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Nte=ue(O({},lH),{"[class.ng-submitted]":"isSubmitted"}),Mte=(()=>{class n extends Kh{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(H(Er,2))};static \u0275dir=Ee({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Zd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[mt]})}return n})(),Pte=(()=>{class n extends Kh{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(H(_r,10))};static \u0275dir=Ee({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Zd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[mt]})}return n})();var zc="VALID",zh="INVALID",js="PENDING",qc="DISABLED",li=class{},Qh=class extends li{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Wc=class extends li{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Kc=class extends li{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Us=class extends li{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Yh=class extends li{source;constructor(e){super(),this.source=e}},Zh=class extends li{source;constructor(e){super(),this.source=e}};function P_(n){return(nf(n)?n.validators:n)||null}function dH(n){return Array.isArray(n)?N_(n):n||null}function x_(n,e){return(nf(e)?e.asyncValidators:n)||null}function hH(n){return Array.isArray(n)?M_(n):n||null}function nf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function oN(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new L(1e3,"");if(!r[t])throw new L(1001,"")}function sN(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new L(1002,"")})}var Bs=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return pn(this.statusReactive)}set status(e){pn(()=>this.statusReactive.set(e))}_status=Yi(()=>this.statusReactive());statusReactive=Ki(void 0);get valid(){return this.status===zc}get invalid(){return this.status===zh}get pending(){return this.status==js}get disabled(){return this.status===qc}get enabled(){return this.status!==qc}errors;get pristine(){return pn(this.pristineReactive)}set pristine(e){pn(()=>this.pristineReactive.set(e))}_pristine=Yi(()=>this.pristineReactive());pristineReactive=Ki(!0);get dirty(){return!this.pristine}get touched(){return pn(this.touchedReactive)}set touched(e){pn(()=>this.touchedReactive.set(e))}_touched=Yi(()=>this.touchedReactive());touchedReactive=Ki(!1);get untouched(){return!this.touched}_events=new Ne;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(jR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(UR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(UR(e,this._rawAsyncValidators))}hasValidator(e){return Gh(this._rawValidators,e)}hasAsyncValidator(e){return Gh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ue(O({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Kc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Kc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ue(O({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Wc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Wc(!0,r))}markAsPending(e={}){this.status=js;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Us(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ue(O({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=qc,this.errors=null,this._forEachChild(i=>{i.disable(ue(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qh(this.value,r)),this._events.next(new Us(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ue(O({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=zc,this._forEachChild(r=>{r.enable(ue(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ue(O({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zc||this.status===js)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qh(this.value,t)),this._events.next(new Us(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ue(O({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qc:zc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=js,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=ZR(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Us(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Me,this.statusChanges=new Me}_calculateStatus(){return this._allControlsDisabled()?qc:this.errors?zh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(js)?js:this._anyControlsHaveStatus(zh)?zh:zc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Wc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Kc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){nf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=dH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=hH(this._rawAsyncValidators)}},$s=class extends Bs{constructor(e,t,r){super(P_(t),x_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){sN(this,!0,e),Object.keys(e).forEach(r=>{oN(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var C_=class extends $s{};var Hs=new V("",{providedIn:"root",factory:()=>rf}),rf="always";function aN(n,e){return[...e.path,n]}function Yc(n,e,t=rf){k_(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),pH(n,e),mH(n,e),gH(n,e),fH(n,e)}function Jh(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ef(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Xh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function fH(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function k_(n,e){let t=rN(n);e.validator!==null?n.setValidators(VR(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=iN(n);e.asyncValidator!==null?n.setAsyncValidators(VR(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Xh(e._rawValidators,i),Xh(e._rawAsyncValidators,i)}function ef(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=rN(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=iN(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Xh(e._rawValidators,r),Xh(e._rawAsyncValidators,r),t}function pH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&cN(n,e)})}function gH(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&cN(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function cN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function mH(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function uN(n,e){n==null,k_(n,e)}function yH(n,e){return ef(n,e)}function O_(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function vH(n){return Object.getPrototypeOf(n.constructor)===tf}function lN(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function F_(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===WR?t=o:vH(o)?r=o:i=o}),i||r||t||null}function _H(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var EH={provide:_r,useExisting:Pt(()=>IH)},Gc=Promise.resolve(),IH=(()=>{class n extends _r{callSetDisabledState;get submitted(){return pn(this.submittedReactive)}_submitted=Yi(()=>this.submittedReactive());submittedReactive=Ki(!1);_directives=new Set;form;ngSubmit=new Me;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new $s({},N_(t),M_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Gc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Yc(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Gc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Gc.then(()=>{let r=this._findContainer(t.path),i=new $s({});uN(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Gc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Gc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),lN(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Yh(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new Zh(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(H(ao,10),H(Zc,10),H(Hs,8))};static \u0275dir=Ee({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Un("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[nn([EH]),mt]})}return n})();function BR(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function $R(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Qc=class extends Bs{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(P_(t),x_(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nf(t)&&(t.nonNullable||t.initialValueIsDefault)&&($R(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){BR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){BR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){$R(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var wH=n=>n instanceof Qc;var DH={provide:Er,useExisting:Pt(()=>TH)},HR=Promise.resolve(),TH=(()=>{class n extends Er{_changeDetectorRef;callSetDisabledState;control=new Qc;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Me;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=F_(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),O_(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Yc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){HR.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&ni(r);HR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?aN(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(H(_r,9),H(ao,10),H(Zc,10),H(so,10),H(ti,8),H(Hs,8))};static \u0275dir=Ee({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[nn([DH]),mt,Jt]})}return n})();var kte=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ee({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var L_=new V(""),bH={provide:Er,useExisting:Pt(()=>CH)},CH=(()=>{class n extends Er{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(t){}model;update=new Me;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=F_(this,i)}ngOnChanges(t){if(this._isControlChanged(t)){let r=t.form.previousValue;r&&Jh(r,this,!1),Yc(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}O_(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Jh(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static \u0275fac=function(r){return new(r||n)(H(ao,10),H(Zc,10),H(so,10),H(L_,8),H(Hs,8))};static \u0275dir=Ee({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[nn([bH]),mt,Jt]})}return n})(),SH={provide:_r,useExisting:Pt(()=>AH)},AH=(()=>{class n extends _r{callSetDisabledState;get submitted(){return pn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Yi(()=>this._submittedReactive());_submittedReactive=Ki(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Me;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ef(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Yc(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Jh(t.control||null,t,!1),_H(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),lN(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Yh(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Zh(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(Jh(r||null,t),wH(i)&&(Yc(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);uN(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&yH(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){k_(this.form,this),this._oldForm&&ef(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(H(ao,10),H(Zc,10),H(Hs,8))};static \u0275dir=Ee({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Un("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[nn([SH]),mt,Jt]})}return n})();var RH={provide:Er,useExisting:Pt(()=>NH)},NH=(()=>{class n extends Er{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Me;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=F_(this,o)}ngOnChanges(t){this._added||this._setUpControl(),O_(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return aN(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(H(_r,13),H(ao,10),H(Zc,10),H(so,10),H(L_,8))};static \u0275dir=Ee({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[nn([RH]),mt,Jt]})}return n})();var MH={provide:so,useExisting:Pt(()=>hN),multi:!0};function dN(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function PH(n){return n.split(":")[0]}var hN=(()=>{class n extends tf{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=dN(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=PH(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ln(n)))(i||n)}})();static \u0275dir=Ee({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Un("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[nn([MH]),mt]})}return n})(),Ote=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(dN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(H(gt),H(en),H(hN,9))};static \u0275dir=Ee({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),xH={provide:so,useExisting:Pt(()=>fN),multi:!0};function zR(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function kH(n){return n.split(":")[0]}var fN=(()=>{class n extends tf{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=kH(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ln(n)))(i||n)}})();static \u0275dir=Ee({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Un("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[nn([xH]),mt]})}return n})(),Fte=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(zR(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(zR(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(H(gt),H(en),H(fN,9))};static \u0275dir=Ee({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function OH(n){return typeof n=="number"?n:parseInt(n,10)}var pN=(()=>{class n{_validator=qh;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):qh,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ee({type:n,features:[Jt]})}return n})();var FH={provide:ao,useExisting:Pt(()=>LH),multi:!0};var LH=(()=>{class n extends pN{required;inputName="required";normalizeInput=ni;createValidator=t=>KR;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ln(n)))(i||n)}})();static \u0275dir=Ee({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ts("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[nn([FH]),mt]})}return n})();var VH={provide:ao,useExisting:Pt(()=>jH),multi:!0},jH=(()=>{class n extends pN{minlength;inputName="minlength";normalizeInput=t=>OH(t);createValidator=t=>QR(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ln(n)))(i||n)}})();static \u0275dir=Ee({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ts("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[nn([VH]),mt]})}return n})();var gN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=tn({type:n});static \u0275inj=Zt({})}return n})(),S_=class extends Bs{constructor(e,t,r){super(P_(t),x_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){sN(this,!1,e),e.forEach((r,i)=>{oN(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function qR(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Lte=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return qR(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new $s(i,o)}record(t,r=null){let i=this._reduceControls(t);return new C_(i,r)}control(t,r,i){let o={};return this.useNonNullable?(qR(r)?o=r:(o.validators=r,o.asyncValidators=i),new Qc(t,ue(O({},o),{nonNullable:!0}))):new Qc(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new S_(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Qc)return t;if(t instanceof Bs)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Vte=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Hs,useValue:t.callSetDisabledState??rf}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=tn({type:n});static \u0275inj=Zt({imports:[gN]})}return n})(),jte=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:L_,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Hs,useValue:t.callSetDisabledState??rf}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=tn({type:n});static \u0275inj=Zt({imports:[gN]})}return n})();var mN=()=>{};var _N=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},UH=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},of={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,m=l&63;u||(m=64,s||(g=64)),r.push(t[h],t[p],t[g],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(_N(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):UH(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new j_;let g=o<<2|a>>4;if(r.push(g),l!==64){let m=a<<4&240|l>>2;if(r.push(m),p!==64){let w=l<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},j_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},BH=function(n){let e=_N(n);return of.encodeByteArray(e,!0)},Xc=function(n){return BH(n).replace(/\./g,"")},sf=function(n){try{return of.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function B_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var $H=()=>B_().__FIREBASE_DEFAULTS__,HH=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},zH=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&sf(n[1]);return e&&JSON.parse(e)},af=()=>{try{return mN()||$H()||HH()||zH()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},$_=n=>{var e,t;return(t=(e=af())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},EN=n=>{let e=$_(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},H_=()=>{var n;return(n=af())===null||n===void 0?void 0:n.config},z_=n=>{var e;return(e=af())===null||e===void 0?void 0:e[`_${n}`]};var co=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function di(n){return n.endsWith(".cloudworkstations.dev")}function cf(n){return v(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function IN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Xc(JSON.stringify(t)),Xc(JSON.stringify(s)),""].join(".")}var Jc={};function qH(){let n={prod:[],emulator:[]};for(let e of Object.keys(Jc))Jc[e]?n.emulator.push(e):n.prod.push(e);return n}function GH(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var yN=!1;function uf(n,e){if(typeof window>"u"||typeof document>"u"||!di(window.location.host)||Jc[n]===e||Jc[n]||yN)return;Jc[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=qH().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{yN=!0,s()},g}function h(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=GH(r),m=t("text"),w=document.getElementById(m)||document.createElement("span"),A=t("learnmore"),R=document.getElementById(A)||document.createElement("a"),k=t("preprendIcon"),z=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let q=g.element;a(q),h(R,A);let ye=l();u(z,k),q.append(z,w,R,ye),document.body.appendChild(q)}o?(w.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function WH(){var n;let e=(n=af())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TN(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function bN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CN(){let n=tt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function SN(){return!WH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eu(){try{return typeof indexedDB=="object"}catch{return!1}}function AN(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var KH="FirebaseError",qt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=KH,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,En.prototype.create)}},En=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?QH(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new qt(i,a,r)}};function QH(n,e){return n.replace(YH,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var YH=/\{\$([^}]+)}/g;function RN(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Gn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(vN(o)&&vN(s)){if(!Gn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function vN(n){return n!==null&&typeof n=="object"}function uo(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zs(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function qs(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function NN(n,e){let t=new U_(n,e);return t.subscribe.bind(t)}var U_=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");ZH(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=V_),i.error===void 0&&(i.error=V_),i.complete===void 0&&(i.complete=V_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function ZH(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function V_(){}var zte=4*60*60*1e3;function Ae(n){return n&&n._delegate?n._delegate:n}var bt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var lo="[DEFAULT]";var q_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new co;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XH(e))try{this.getOrInitializeService({instanceIdentifier:lo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=lo){return this.instances.has(e)}getOptions(e=lo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JH(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=lo){return this.component?this.component.multipleInstances?e:lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function JH(n){return n===lo?void 0:n}function XH(n){return n.instantiationMode==="EAGER"}var lf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new q_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var e4=[],he=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(he||{}),t4={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},n4=he.INFO,r4={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},i4=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=r4[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Wn=class{constructor(e){this.name=e,this._logLevel=n4,this._logHandler=i4,this._userLogHandler=null,e4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}};var o4=(n,e)=>e.some(t=>n instanceof t),MN,PN;function s4(){return MN||(MN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function a4(){return PN||(PN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var xN=new WeakMap,W_=new WeakMap,kN=new WeakMap,G_=new WeakMap,Q_=new WeakMap;function c4(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Kn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&xN.set(t,n)}).catch(()=>{}),Q_.set(e,n),e}function u4(n){if(W_.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});W_.set(n,e)}var K_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return W_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||kN.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Kn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ON(n){K_=n(K_)}function l4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(df(this),e,...t);return kN.set(r,e.sort?e.sort():[e]),Kn(r)}:a4().includes(n)?function(...e){return n.apply(df(this),e),Kn(xN.get(this))}:function(...e){return Kn(n.apply(df(this),e))}}function d4(n){return typeof n=="function"?l4(n):(n instanceof IDBTransaction&&u4(n),o4(n,s4())?new Proxy(n,K_):n)}function Kn(n){if(n instanceof IDBRequest)return c4(n);if(G_.has(n))return G_.get(n);let e=d4(n);return e!==n&&(G_.set(n,e),Q_.set(e,n)),e}var df=n=>Q_.get(n);function LN(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Kn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Kn(s.result),u.oldVersion,u.newVersion,Kn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var h4=["get","getKey","getAll","getAllKeys","count"],f4=["put","add","delete","clear"],Y_=new Map;function FN(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Y_.get(e))return Y_.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=f4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||h4.includes(t)))return;let o=function(s,...a){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return Y_.set(e,o),o}ON(n=>ue(O({},n),{get:(e,t,r)=>FN(e,t)||n.get(e,t,r),has:(e,t)=>!!FN(e,t)||n.has(e,t)}));var J_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(p4(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function p4(n){let e=n.getComponent();return e?.type==="VERSION"}var X_="@firebase/app",VN="0.13.1";var Ir=new Wn("@firebase/app"),g4="@firebase/app-compat",m4="@firebase/analytics-compat",y4="@firebase/analytics",v4="@firebase/app-check-compat",_4="@firebase/app-check",E4="@firebase/auth",I4="@firebase/auth-compat",w4="@firebase/database",D4="@firebase/data-connect",T4="@firebase/database-compat",b4="@firebase/functions",C4="@firebase/functions-compat",S4="@firebase/installations",A4="@firebase/installations-compat",R4="@firebase/messaging",N4="@firebase/messaging-compat",M4="@firebase/performance",P4="@firebase/performance-compat",x4="@firebase/remote-config",k4="@firebase/remote-config-compat",O4="@firebase/storage",F4="@firebase/storage-compat",L4="@firebase/firestore",V4="@firebase/ai",j4="@firebase/firestore-compat",U4="firebase",B4="11.9.0";var eE="[DEFAULT]",$4={[X_]:"fire-core",[g4]:"fire-core-compat",[y4]:"fire-analytics",[m4]:"fire-analytics-compat",[_4]:"fire-app-check",[v4]:"fire-app-check-compat",[E4]:"fire-auth",[I4]:"fire-auth-compat",[w4]:"fire-rtdb",[D4]:"fire-data-connect",[T4]:"fire-rtdb-compat",[b4]:"fire-fn",[C4]:"fire-fn-compat",[S4]:"fire-iid",[A4]:"fire-iid-compat",[R4]:"fire-fcm",[N4]:"fire-fcm-compat",[M4]:"fire-perf",[P4]:"fire-perf-compat",[x4]:"fire-rc",[k4]:"fire-rc-compat",[O4]:"fire-gcs",[F4]:"fire-gcs-compat",[L4]:"fire-fst",[j4]:"fire-fst-compat",[V4]:"fire-vertex","fire-js":"fire-js",[U4]:"fire-js-all"};var tu=new Map,H4=new Map,tE=new Map;function jN(n,e){try{n.container.addComponent(e)}catch(t){Ir.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function In(n){let e=n.name;if(tE.has(e))return Ir.debug(`There were multiple attempts to register component ${e}.`),!1;tE.set(e,n);for(let t of tu.values())jN(t,n);for(let t of H4.values())jN(t,n);return!0}function Gs(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function yt(n){return n==null?!1:n.settings!==void 0}var z4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hi=new En("app","Firebase",z4);var nE=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hi.create("app-deleted",{appName:this._name})}};var fi=B4;function oE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:eE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw hi.create("bad-app-name",{appName:String(i)});if(t||(t=H_()),!t)throw hi.create("no-options");let o=tu.get(i);if(o){if(Gn(t,o.options)&&Gn(r,o.config))return o;throw hi.create("duplicate-app",{appName:i})}let s=new lf(i);for(let u of tE.values())s.addComponent(u);let a=new nE(t,r,s);return tu.set(i,a),a}function ho(n=eE){let e=tu.get(n);if(!e&&n===eE&&H_())return oE();if(!e)throw hi.create("no-app",{appName:n});return e}function hf(){return Array.from(tu.values())}function Le(n,e,t){var r;let i=(r=$4[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ir.warn(a.join(" "));return}In(new bt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var q4="firebase-heartbeat-database",G4=1,nu="firebase-heartbeat-store",Z_=null;function HN(){return Z_||(Z_=LN(q4,G4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(nu)}catch(t){console.warn(t)}}}}).catch(n=>{throw hi.create("idb-open",{originalErrorMessage:n.message})})),Z_}function W4(n){return v(this,null,function*(){try{let t=(yield HN()).transaction(nu),r=yield t.objectStore(nu).get(zN(n));return yield t.done,r}catch(e){if(e instanceof qt)Ir.warn(e.message);else{let t=hi.create("idb-get",{originalErrorMessage:e?.message});Ir.warn(t.message)}}})}function UN(n,e){return v(this,null,function*(){try{let r=(yield HN()).transaction(nu,"readwrite");yield r.objectStore(nu).put(e,zN(n)),yield r.done}catch(t){if(t instanceof qt)Ir.warn(t.message);else{let r=hi.create("idb-set",{originalErrorMessage:t?.message});Ir.warn(r.message)}}})}function zN(n){return`${n.name}!${n.options.appId}`}var K4=1024,Q4=30,rE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new iE(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=BN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Q4){let s=Z4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ir.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=BN(),{heartbeatsToSend:r,unsentEntries:i}=Y4(this._heartbeatsCache.heartbeats),o=Xc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ir.warn(t),""}})}};function BN(){return new Date().toISOString().substring(0,10)}function Y4(n,e=K4){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),$N(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),$N(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var iE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return eu()?AN().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield W4(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return UN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return UN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function $N(n){return Xc(JSON.stringify({version:2,heartbeats:n})).length}function Z4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function J4(n){In(new bt("platform-logger",e=>new J_(e),"PRIVATE")),In(new bt("heartbeat",e=>new rE(e),"PRIVATE")),Le(X_,VN,n),Le(X_,VN,"esm2017"),Le("fire-js","")}J4("");function lM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var dM=lM,hM=new En("auth","Firebase",lM());var vf=new Wn("@firebase/auth");function X4(n,...e){vf.logLevel<=he.WARN&&vf.warn(`Auth (${fi}): ${n}`,...e)}function pf(n,...e){vf.logLevel<=he.ERROR&&vf.error(`Auth (${fi}): ${n}`,...e)}function on(n,...e){throw xE(n,...e)}function Ot(n,...e){return xE(n,...e)}function PE(n,e,t){let r=Object.assign(Object.assign({},dM()),{[e]:t});return new En("auth","Firebase",r).create(e,{appName:n.name})}function Qn(n){return PE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ez(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&on(n,"argument-error"),PE(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xE(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return hM.create(n,...e)}function U(n,e,...t){if(!n)throw xE(e,...t)}function wr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw pf(e),new Error(e)}function Tr(n,e){n||wr(e)}function lE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function fM(){return qN()==="http:"||qN()==="https:"}function qN(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function tz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fM()||TN()||"connection"in navigator)?navigator.onLine:!0}function nz(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var fo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Tr(t>e,"Short delay should be less than long delay!"),this.isMobile=wN()||bN()}get(){return tz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function kE(n,e){Tr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var _f=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var rz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var iz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oz=new fo(3e4,6e4);function Ft(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Gt(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){return pM(n,i,()=>v(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=uo(Object.assign({key:n.config.apiKey},h)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:g},l);return DN()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&di(n.emulatorConfig.host)&&(m.credentials="include"),_f.fetch()(yield gM(n,n.config.apiHost,t,p),m)}))})}function pM(n,e,t){return v(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},rz),e);try{let i=new dE(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw iu(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw iu(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw iu(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw iu(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw PE(n,h,l);on(n,h)}}catch(i){if(i instanceof qt)throw i;on(n,"network-request-failed",{message:String(i)})}})}function mi(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){let l=yield Gt(n,e,t,r,i);return"mfaPendingCredential"in l&&on(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function gM(n,e,t,r){return v(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?kE(n.config,i):`${n.config.apiScheme}://${i}`;return iz.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function sz(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var dE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ot(this.auth,"network-request-failed")),oz.get())})}};function iu(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Ot(n,e,r);return i.customData._tokenResponse=t,i}function GN(n){return n!==void 0&&n.getResponse!==void 0}function WN(n){return n!==void 0&&n.enterprise!==void 0}var Ef=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return sz(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function az(n){return v(this,null,function*(){return(yield Gt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})}function mM(n,e){return v(this,null,function*(){return Gt(n,"GET","/v2/recaptchaConfig",Ft(n,e))})}function cz(n,e){return v(this,null,function*(){return Gt(n,"POST","/v1/accounts:delete",e)})}function If(n,e){return v(this,null,function*(){return Gt(n,"POST","/v1/accounts:lookup",e)})}function ou(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function OE(n,e=!1){return v(this,null,function*(){let t=Ae(n),r=yield t.getIdToken(e),i=FE(r);U(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:ou(sE(i.auth_time)),issuedAtTime:ou(sE(i.iat)),expirationTime:ou(sE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function sE(n){return Number(n)*1e3}function FE(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return pf("JWT malformed, contained fewer than 3 sections"),null;try{let i=sf(t);return i?JSON.parse(i):(pf("Failed to decode base64 JWT payload"),null)}catch(i){return pf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function KN(n){let e=FE(n);return U(e,"internal-error"),U(typeof e.exp<"u","internal-error"),U(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Qs(n,e,t=!1){return v(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof qt&&uz(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function uz({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var hE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),t)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var uu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function wf(n){return v(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Qs(n,If(t,{idToken:r}));U(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?yM(o.providerUserInfo):[],a=lz(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new uu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function LE(n){return v(this,null,function*(){let e=Ae(n);yield wf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function lz(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function yM(n){return n.map(e=>{var{providerId:t}=e,r=Al(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function dz(n,e){return v(this,null,function*(){let t=yield pM(n,{},()=>v(null,null,function*(){let r=uo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield gM(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&di(n.emulatorConfig.host)&&(u.credentials="include"),_f.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function hz(n,e){return v(this,null,function*(){return Gt(n,"POST","/v2/accounts:revokeToken",Ft(n,e))})}var su=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){U(e.idToken,"internal-error"),U(typeof e.idToken<"u","internal-error"),U(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){U(e.length!==0,"internal-error");let t=KN(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return v(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(U(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield dz(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(U(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(U(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(U(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return wr("not implemented")}};function pi(n,e){U(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var gi=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Al(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new uu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let t=yield Qs(this,this.stsTokenManager.getToken(this.auth,e));return U(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return OE(this,e)}reload(){return LE(this)}_assign(e){this!==e&&(U(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield wf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(yt(this.auth.app))return Promise.reject(Qn(this.auth));let e=yield this.getIdToken();return yield Qs(this,cz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=t.photoURL)!==null&&s!==void 0?s:void 0,A=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=t.createdAt)!==null&&l!==void 0?l:void 0,z=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:q,emailVerified:ye,isAnonymous:it,providerData:ve,stsTokenManager:T}=t;U(q&&T,e,"internal-error");let _=su.fromJSON(this.name,T);U(typeof q=="string",e,"internal-error"),pi(p,e.name),pi(g,e.name),U(typeof ye=="boolean",e,"internal-error"),U(typeof it=="boolean",e,"internal-error"),pi(m,e.name),pi(w,e.name),pi(A,e.name),pi(R,e.name),pi(k,e.name),pi(z,e.name);let I=new n({uid:q,auth:e,email:g,emailVerified:ye,displayName:p,isAnonymous:it,photoURL:w,phoneNumber:m,tenantId:A,stsTokenManager:_,createdAt:k,lastLoginAt:z});return ve&&Array.isArray(ve)&&(I.providerData=ve.map(D=>Object.assign({},D))),R&&(I._redirectEventId=R),I}static _fromIdTokenResponse(e,t,r=!1){return v(this,null,function*(){let i=new su;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield wf(o),o})}static _fromGetAccountInfoResponse(e,t,r){return v(this,null,function*(){let i=t.users[0];U(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?yM(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new su;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new uu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var QN=new Map;function Dr(n){Tr(n instanceof Function,"Expected a class definition");let e=QN.get(n);return e?(Tr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,QN.set(n,e),e)}var fz=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(t,r){return v(this,null,function*(){this.storage[t]=r})}_get(t){return v(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return v(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),fE=fz;function gf(n,e,t){return`firebase:${n}:${e}:${t}`}var Df=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=gf(this.userKey,i.apiKey,o),this.fullPersistenceKey=gf("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield If(this.auth,{idToken:e}).catch(()=>{});return t?gi._fromGetAccountInfoResponse(this.auth,t,e):null}return gi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(this,null,function*(){if(!t.length)return new n(Dr(fE),e,r);let i=(yield Promise.all(t.map(l=>v(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Dr(fE),s=gf(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let g=yield If(e,{idToken:h}).catch(()=>{});if(!g)break;p=yield gi._fromGetAccountInfoResponse(e,g,h)}else p=gi._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>v(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function YN(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DM(e))return"Blackberry";if(TM(e))return"Webos";if(_M(e))return"Safari";if((e.includes("chrome/")||EM(e))&&!e.includes("edge/"))return"Chrome";if(wM(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function vM(n=tt()){return/firefox\//i.test(n)}function _M(n=tt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EM(n=tt()){return/crios\//i.test(n)}function IM(n=tt()){return/iemobile/i.test(n)}function wM(n=tt()){return/android/i.test(n)}function DM(n=tt()){return/blackberry/i.test(n)}function TM(n=tt()){return/webos/i.test(n)}function VE(n=tt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function pz(n=tt()){var e;return VE(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gz(){return CN()&&document.documentMode===10}function bM(n=tt()){return VE(n)||wM(n)||TM(n)||DM(n)||/windows phone/i.test(n)||IM(n)}function CM(n,e=[]){let t;switch(n){case"Browser":t=YN(tt());break;case"Worker":t=`${YN(tt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${fi}/${r}`}var pE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function mz(t){return v(this,arguments,function*(n,e={}){return Gt(n,"GET","/v2/passwordPolicy",Ft(n,e))})}var yz=6,gE=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:yz,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var mE=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tf(this),this.idTokenSubscription=new Tf(this),this.beforeStateQueue=new pE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Dr(t)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Df.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let t=yield If(this,{idToken:e}),r=yield gi._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var t;if(yt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return U(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield wf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=nz()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(yt(this.app))return Promise.reject(Qn(this));let t=e?Ae(e):null;return t&&U(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return v(this,null,function*(){if(!this._deleted)return e&&U(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return yt(this.app)?Promise.reject(Qn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return yt(this.app)?Promise.reject(Qn(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(Dr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield mz(this),t=new gE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new En("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield hz(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Dr(e)||this._popupRedirectResolver;U(t,this,"argument-error"),this.redirectPersistenceManager=yield Df.create(this,[Dr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(U(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return v(this,null,function*(){var e;if(yt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&X4(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function wn(n){return Ae(n)}var Tf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=NN(t=>this.observer=t)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var fu={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vz(n){fu=n}function jE(n){return fu.loadJS(n)}function _z(){return fu.recaptchaV2Script}function Ez(){return fu.recaptchaEnterpriseScript}function Iz(){return fu.gapiScript}function SM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var wz=500,Dz=6e4,ff=1e12,yE=class{constructor(e){this.auth=e,this.counter=ff,this._widgets=new Map}render(e,t){let r=this.counter;return this._widgets.set(r,new EE(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;let r=e||ff;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;let r=e||ff;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}execute(e){return v(this,null,function*(){var t;let r=e||ff;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""})}},vE=class{constructor(){this.enterprise=new _E}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},_E=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},EE=class{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let i=typeof e=="string"?document.getElementById(e):e;U(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Tz(50);let{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},Dz)},wz))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}};function Tz(n){let e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}var bz="recaptcha-enterprise",au="NO_RECAPTCHA",bf=class{constructor(e){this.type=bz,this.auth=wn(e)}verify(e="verify",t=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(null,null,function*(){mM(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Ef(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;WN(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(au)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vE().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&WN(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Ez();u.length!==0&&(u+=a),jE(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function ru(n,e,t,r=!1,i=!1){return v(this,null,function*(){let o=new bf(n),s;if(i)s=au;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Ws(n,e,t,r,i){return v(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield ru(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>v(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield ru(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield ru(n,e,t);return r(n,a).catch(u=>v(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield ru(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)}))}else{let a=yield ru(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function Cz(n){return v(this,null,function*(){let e=wn(n),t=yield mM(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Ef(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new bf(e).verify()})}function UE(n,e){let t=Gs(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Gn(o,e??{}))return i;on(i,"already-initialized")}return t.initialize({options:e})}function Sz(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Dr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function BE(n,e,t){let r=wn(n);U(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=AM(e),{host:s,port:a}=Az(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){U(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),U(Gn(l,r.config.emulator)&&Gn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,di(s)?(cf(`${o}//${s}${u}`),uf("Auth",!0)):i||Rz()}function AM(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Az(n){let e=AM(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:ZN(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:ZN(s)}}}function ZN(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Rz(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var po=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wr("not implemented")}_getIdTokenResponse(e){return wr("not implemented")}_linkToIdToken(e,t){return wr("not implemented")}_getReauthenticationResolver(e){return wr("not implemented")}};function Nz(n,e){return v(this,null,function*(){return Gt(n,"POST","/v1/accounts:update",e)})}function Mz(n,e){return v(this,null,function*(){return Gt(n,"POST","/v1/accounts:signUp",e)})}function Pz(n,e){return v(this,null,function*(){return mi(n,"POST","/v1/accounts:signInWithPassword",Ft(n,e))})}function xz(n,e){return v(this,null,function*(){return mi(n,"POST","/v1/accounts:signInWithEmailLink",Ft(n,e))})}function kz(n,e){return v(this,null,function*(){return mi(n,"POST","/v1/accounts:signInWithEmailLink",Ft(n,e))})}var lu=class n extends po{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ws(e,t,"signInWithPassword",Pz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return xz(e,{email:this._email,oobCode:this._password});default:on(e,"internal-error")}})}_linkToIdToken(e,t){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ws(e,r,"signUpPassword",Mz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return kz(e,{idToken:t,email:this._email,oobCode:this._password});default:on(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Ks(n,e){return v(this,null,function*(){return mi(n,"POST","/v1/accounts:signInWithIdp",Ft(n,e))})}var Oz="http://localhost",Cf=class n extends po{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):on("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=Al(t,["providerId","signInMethod"]);if(!r||!i)return null;let s=new n(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return Ks(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,Ks(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Ks(e,t)}buildRequest(){let e={requestUri:Oz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=uo(t)}return e}};function JN(n,e){return v(this,null,function*(){return Gt(n,"POST","/v1/accounts:sendVerificationCode",Ft(n,e))})}function Fz(n,e){return v(this,null,function*(){return mi(n,"POST","/v1/accounts:signInWithPhoneNumber",Ft(n,e))})}function Lz(n,e){return v(this,null,function*(){let t=yield mi(n,"POST","/v1/accounts:signInWithPhoneNumber",Ft(n,e));if(t.temporaryProof)throw iu(n,"account-exists-with-different-credential",t);return t})}var Vz={USER_NOT_FOUND:"user-not-found"};function jz(n,e){return v(this,null,function*(){let t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return mi(n,"POST","/v1/accounts:signInWithPhoneNumber",Ft(n,t),Vz)})}var Sf=class n extends po{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new n({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new n({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return Fz(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Lz(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return jz(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));let{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!t&&!i&&!o?null:new n({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o})}};function Uz(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Bz(n){let e=zs(qs(n)).link,t=e?zs(qs(e)).deep_link_id:null,r=zs(qs(n)).deep_link_id;return(r?zs(qs(r)).link:null)||r||t||e||n}var Af=class n{constructor(e){var t,r,i,o,s,a;let u=zs(qs(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=Uz((i=u.mode)!==null&&i!==void 0?i:null);U(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=Bz(e);try{return new n(t)}catch{return null}}};var RM=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return lu._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Af.parseLink(r);return U(i,"argument-error"),lu._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),du=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Rf=class extends du{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var $E=(()=>{class n extends Rf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Cf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();function $z(n,e){return v(this,null,function*(){return mi(n,"POST","/v1/accounts:signUp",Ft(n,e))})}var Ys=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return v(this,null,function*(){let o=yield gi._fromIdTokenResponse(e,r,i),s=XN(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=XN(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function XN(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var IE=class n extends qt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function NM(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?IE._fromErrorAndOperation(n,o,e,r):o})}function Hz(n,e,t=!1){return v(this,null,function*(){let r=yield Qs(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Ys._forOperation(n,"link",r)})}function zz(n,e,t=!1){return v(this,null,function*(){let{auth:r}=n;if(yt(r.app))return Promise.reject(Qn(r));let i="reauthenticate";try{let o=yield Qs(n,NM(r,i,e,n),t);U(o.idToken,r,"internal-error");let s=FE(o.idToken);U(s,r,"internal-error");let{sub:a}=s;return U(n.uid===a,r,"user-mismatch"),Ys._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&on(r,"user-mismatch"),o}})}function MM(n,e,t=!1){return v(this,null,function*(){if(yt(n.app))return Promise.reject(Qn(n));let r="signIn",i=yield NM(n,r,e),o=yield Ys._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function Of(n,e){return v(this,null,function*(){return MM(wn(n),e)})}function PM(n){return v(this,null,function*(){let e=wn(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Ff(n,e,t){return v(this,null,function*(){if(yt(n.app))return Promise.reject(Qn(n));let r=wn(n),s=yield Ws(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$z,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&PM(n),u}),a=yield Ys._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function pu(n,e,t){return yt(n.app)?Promise.reject(Qn(n)):Of(Ae(n),RM.credential(e,t)).catch(r=>v(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&PM(n),r}))}function Lf(n,e){return qz(Ae(n),null,e)}function qz(n,e,t){return v(this,null,function*(){let{auth:r}=n,o={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);let s=yield Qs(n,Nz(r,o));yield n._updateTokensIfNecessary(s,!0)})}function HE(n,e,t,r){return Ae(n).onIdTokenChanged(e,t,r)}function zE(n,e,t){return Ae(n).beforeAuthStateChanged(e,t)}function qE(n,e,t,r){return Ae(n).onAuthStateChanged(e,t,r)}function Vf(n){return Ae(n).signOut()}function eM(n,e){return Gt(n,"POST","/v2/accounts/mfaEnrollment:start",Ft(n,e))}var Nf="__sak";var Mf=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Nf,"1"),this.storage.removeItem(Nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Gz=1e3,Wz=10,Kz=(()=>{class n extends Mf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bM(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);gz()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Wz):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},Gz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return v(this,null,function*(){yield Lr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return v(this,null,function*(){let r=yield Lr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return v(this,null,function*(){yield Lr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),xM=Kz;var Qz=(()=>{class n extends Mf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),GE=Qz;function Yz(n){return Promise.all(n.map(e=>v(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var Zz=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return v(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield Yz(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function WE(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var wE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=WE("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function He(){return window}function Jz(n){He().location.href=n}function KE(){return typeof He().WorkerGlobalScope<"u"&&typeof He().importScripts=="function"}function Xz(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function eq(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function tq(){return KE()?self:null}var kM="firebaseLocalStorageDb",nq=1,Pf="firebaseLocalStorage",OM="fbase_key",go=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function jf(n,e){return n.transaction([Pf],e?"readwrite":"readonly").objectStore(Pf)}function rq(){let n=indexedDB.deleteDatabase(kM);return new go(n).toPromise()}function DE(){let n=indexedDB.open(kM,nq);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Pf,{keyPath:OM})}catch(i){t(i)}}),n.addEventListener("success",()=>v(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Pf)?e(r):(r.close(),yield rq(),e(yield DE()))}))})}function tM(n,e,t){return v(this,null,function*(){let r=jf(n,!0).put({[OM]:e,value:t});return new go(r).toPromise()})}function iq(n,e){return v(this,null,function*(){let t=jf(n,!1).get(e),r=yield new go(t).toPromise();return r===void 0?null:r.value})}function nM(n,e){let t=jf(n,!0).delete(e);return new go(t).toPromise()}var oq=800,sq=3,aq=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield DE(),this.db)})}_withRetries(t){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>sq)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return KE()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=Zz._getInstance(tq()),this.receiver._subscribe("keyChanged",(t,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var t,r;if(this.activeServiceWorker=yield Xz(),!this.activeServiceWorker)return;this.sender=new wE(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||eq()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let t=yield DE();return yield tM(t,Nf,"1"),yield nM(t,Nf),!0}catch{}return!1})}_withPendingWrite(t){return v(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>tM(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return v(this,null,function*(){let r=yield this._withRetries(i=>iq(i,t));return this.localCache[t]=r,r})}_remove(t){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>nM(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return v(this,null,function*(){let t=yield this._withRetries(o=>{let s=jf(o,!1).getAll();return new go(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),oq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),FM=aq;function rM(n,e){return Gt(n,"POST","/v2/accounts/mfaSignIn:start",Ft(n,e))}var aE=SM("rcb"),cq=new fo(3e4,6e4),TE=class{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=He().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return U(uq(t),e,"argument-error"),this.shouldResolveImmediately(t)&&GN(He().grecaptcha)?Promise.resolve(He().grecaptcha):new Promise((r,i)=>{let o=He().setTimeout(()=>{i(Ot(e,"network-request-failed"))},cq.get());He()[aE]=()=>{He().clearTimeout(o),delete He()[aE];let a=He().grecaptcha;if(!a||!GN(a)){i(Ot(e,"internal-error"));return}let u=a.render;a.render=(l,h)=>{let p=u(l,h);return this.counter++,p},this.hostLanguage=t,r(a)};let s=`${_z()}?${uo({onload:aE,render:"explicit",hl:t})}`;jE(s).catch(()=>{clearTimeout(o),i(Ot(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=He().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}};function uq(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}var bE=class{load(e){return v(this,null,function*(){return new yE(e)})}clearedOneInstance(){}};var cu="recaptcha",lq={theme:"light",type:"image"},CE=class{constructor(e,t,r=Object.assign({},lq)){this.parameters=r,this.type=cu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wn(e),this.isInvisible=this.parameters.size==="invisible",U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");let i=typeof t=="string"?document.getElementById(t):t;U(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bE:new TE,this.validateStartingState()}verify(){return v(this,null,function*(){this.assertNotDestroyed();let e=yield this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{let o=s=>{s&&(this.tokenChangeListeners.delete(o),i(s))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){let r=He()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){return v(this,null,function*(){if(yield this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){let t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId})}init(){return v(this,null,function*(){U(fM()&&!KE(),this.auth,"internal-error"),yield dq(),this.recaptcha=yield this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let e=yield az(this.auth);U(e,this.auth,"internal-error"),this.parameters.sitekey=e})}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function dq(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}var SE=class{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){let t=Sf._fromVerification(this.verificationId,e);return this.onConfirmation(t)}};function LM(n,e,t){return v(this,null,function*(){if(yt(n.app))return Promise.reject(Qn(n));let r=wn(n),i=yield hq(r,e,Ae(t));return new SE(i,o=>Of(r,o))})}function hq(n,e,t){return v(this,null,function*(){var r;if(!n._getRecaptchaConfig())try{yield Cz(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){let o=i.session;if("phoneNumber"in i){U(o.type==="enroll",n,"internal-error");let s={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(yield Ws(n,s,"mfaSmsEnrollment",(h,p)=>v(null,null,function*(){if(p.phoneEnrollmentInfo.captchaResponse===au){U(t?.type===cu,h,"argument-error");let g=yield cE(h,p,t);return eM(h,g)}return eM(h,p)}),"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneSessionInfo.sessionInfo}else{U(o.type==="signin",n,"internal-error");let s=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;U(s,n,"missing-multi-factor-info");let a={mfaPendingCredential:o.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(yield Ws(n,a,"mfaSmsSignIn",(p,g)=>v(null,null,function*(){if(g.phoneSignInInfo.captchaResponse===au){U(t?.type===cu,p,"argument-error");let m=yield cE(p,g,t);return rM(p,m)}return rM(p,g)}),"PHONE_PROVIDER").catch(p=>Promise.reject(p))).phoneResponseInfo.sessionInfo}}else{let o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(yield Ws(n,o,"sendVerificationCode",(l,h)=>v(null,null,function*(){if(h.captchaResponse===au){U(t?.type===cu,l,"argument-error");let p=yield cE(l,h,t);return JN(l,p)}return JN(l,h)}),"PHONE_PROVIDER").catch(l=>Promise.reject(l))).sessionInfo}}finally{t?._reset()}})}function cE(n,e,t){return v(this,null,function*(){U(t.type===cu,n,"argument-error");let r=yield t.verify();U(typeof r=="string",n,"argument-error");let i=Object.assign({},e);if("phoneEnrollmentInfo"in i){let o=i.phoneEnrollmentInfo.phoneNumber,s=i.phoneEnrollmentInfo.captchaResponse,a=i.phoneEnrollmentInfo.clientType,u=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:s,clientType:a,recaptchaVersion:u}}),i}else if("phoneSignInInfo"in i){let o=i.phoneSignInInfo.captchaResponse,s=i.phoneSignInInfo.clientType,a=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:s,recaptchaVersion:a}}),i}else return Object.assign(i,{recaptchaToken:r}),i})}function VM(n,e){return e?Dr(e):(U(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var hu=class extends po{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ks(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ks(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ks(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function fq(n){return MM(n.auth,new hu(n),n.bypassAuthState)}function pq(n){let{auth:e,user:t}=n;return U(t,e,"internal-error"),zz(t,new hu(n),n.bypassAuthState)}function gq(n){return v(this,null,function*(){let{auth:e,user:t}=n;return U(t,e,"internal-error"),Hz(t,new hu(n),n.bypassAuthState)})}var xf=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fq;case"linkViaPopup":case"linkViaRedirect":return gq;case"reauthViaPopup":case"reauthViaRedirect":return pq;default:on(this.auth,"internal-error")}}resolve(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var mq=new fo(2e3,1e4);function Uf(n,e,t){return v(this,null,function*(){if(yt(n.app))return Promise.reject(Ot(n,"operation-not-supported-in-this-environment"));let r=wn(n);ez(n,e,du);let i=VM(r,t);return new yq(r,"signInViaPopup",e,i).executeNotNull()})}var yq=(()=>{class n extends xf{constructor(t,r,i,o,s){super(t,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return v(this,null,function*(){let t=yield this.execute();return U(t,this.auth,"internal-error"),t})}onExecution(){return v(this,null,function*(){Tr(this.filter.length===1,"Popup operations only handle one event");let t=WE();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ot(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ot(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ot(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,mq.get())};t()}}n.currentPopupAction=null;return n})(),vq="pendingRedirect",mf=new Map,AE=class n extends xf{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=mf.get(this.auth._key());if(!e){try{let r=(yield _q(this.resolver,this.auth))?yield Lr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}mf.set(this.auth._key(),e)}return this.bypassAuthState||mf.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return Lr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Lr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function _q(n,e){return v(this,null,function*(){let t=wq(e),r=Iq(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function Eq(n,e){mf.set(n._key(),e)}function Iq(n){return Dr(n._redirectPersistence)}function wq(n){return gf(vq,n.config.apiKey,n.name)}function Dq(n,e,t=!1){return v(this,null,function*(){if(yt(n.app))return Promise.reject(Qn(n));let r=wn(n),i=VM(r,e),s=yield new AE(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var Tq=10*60*1e3,RE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bq(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!jM(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ot(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Tq&&this.cachedEventUids.clear(),this.cachedEventUids.has(iM(e))}saveEventToCache(e){this.cachedEventUids.add(iM(e)),this.lastProcessedEventTime=Date.now()}};function iM(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function jM({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function bq(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jM(n);default:return!1}}function Cq(t){return v(this,arguments,function*(n,e={}){return Gt(n,"GET","/v1/projects",e)})}var Sq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Aq=/^https?/;function Rq(n){return v(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield Cq(n);for(let t of e)try{if(Nq(t))return}catch{}on(n,"unauthorized-domain")})}function Nq(n){let e=lE(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!Aq.test(t))return!1;if(Sq.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Mq=new fo(3e4,6e4);function oM(){let n=He().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Pq(n){return new Promise((e,t)=>{var r,i,o;function s(){oM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oM(),t(Ot(n,"network-request-failed"))},timeout:Mq.get()})}if(!((i=(r=He().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=He().gapi)===null||o===void 0)&&o.load)s();else{let a=SM("iframefcb");return He()[a]=()=>{gapi.load?s():t(Ot(n,"network-request-failed"))},jE(`${Iz()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw yf=null,e})}var yf=null;function xq(n){return yf=yf||Pq(n),yf}var kq=new fo(5e3,15e3),Oq="__/auth/iframe",Fq="emulator/auth/iframe",Lq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jq(n){let e=n.config;U(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?kE(e,Fq):`https://${n.config.authDomain}/${Oq}`,r={apiKey:e.apiKey,appName:n.name,v:fi},i=Vq.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${uo(r).slice(1)}`}function Uq(n){return v(this,null,function*(){let e=yield xq(n),t=He().gapi;return U(t,n,"internal-error"),e.open({where:document.body,url:jq(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lq,dontclear:!0},r=>new Promise((i,o)=>v(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Ot(n,"network-request-failed"),a=He().setTimeout(()=>{o(s)},kq.get());function u(){He().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var Bq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$q=500,Hq=600,zq="_blank",qq="http://localhost",kf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Gq(n,e,t,r=$q,i=Hq){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},Bq),{width:r.toString(),height:i.toString(),top:o,left:s}),l=tt().toLowerCase();t&&(a=EM(l)?zq:t),vM(l)&&(e=e||qq,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[m,w])=>`${g}${m}=${w},`,"");if(pz(l)&&a!=="_self")return Wq(e||"",a),new kf(null);let p=window.open(e||"",a,h);U(p,n,"popup-blocked");try{p.focus()}catch{}return new kf(p)}function Wq(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var Kq="__/auth/handler",Qq="emulator/auth/handler",Yq=encodeURIComponent("fac");function sM(n,e,t,r,i,o){return v(this,null,function*(){U(n.config.authDomain,n,"auth-domain-config-required"),U(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:fi,eventId:i};if(e instanceof du){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",RN(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Rf){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${Yq}=${encodeURIComponent(u)}`:"";return`${Zq(n)}?${uo(a).slice(1)}${l}`})}function Zq({config:n}){return n.emulator?kE(n,Qq):`https://${n.authDomain}/${Kq}`}var uE="webStorageSupport",NE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GE,this._completeRedirectFn=Dq,this._overrideRedirectResult=Eq}_openPopup(e,t,r,i){return v(this,null,function*(){var o;Tr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield sM(e,t,r,lE(),i);return Gq(e,s,WE())})}_openRedirect(e,t,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield sM(e,t,r,lE(),i);return Jz(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Tr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return v(this,null,function*(){let t=yield Uq(e),r=new RE(e);return t.register("authEvent",i=>(U(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(uE,{type:uE},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[uE];s!==void 0&&t(!!s),on(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Rq(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return bM()||_M()||VE()}},UM=NE;var aM="@firebase/auth",cM="1.10.7";var ME=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Jq(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xq(n){In(new bt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;U(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CM(n)},l=new mE(r,i,o,u);return Sz(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),In(new bt("auth-internal",e=>{let t=wn(e.getProvider("auth").getImmediate());return(r=>new ME(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Le(aM,cM,Jq(n)),Le(aM,cM,"esm2017")}var e3=5*60,t3=z_("authIdTokenMaxAge")||e3,uM=null,n3=n=>e=>v(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>t3)return;let i=t?.token;uM!==i&&(uM=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function gu(n=ho()){let e=Gs(n,"auth");if(e.isInitialized())return e.getImmediate();let t=UE(n,{popupRedirectResolver:UM,persistence:[FM,xM,GE]}),r=z_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=n3(o.toString());zE(t,s,()=>s(t.currentUser)),HE(t,a=>s(a))}}let i=$_("auth");return i&&BE(t,`http://${i}`),t}function r3(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}vz({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Ot("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",r3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Xq("Browser");var $3="firebase",H3="11.9.1";Le($3,H3,"app");function QE(n){n===void 0&&(Vy(QE),n=M(Ue));let e=n.get(Bd);return t=>new ne(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var yi=new Qr("ANGULARFIRE2_VERSION");function mu(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Js=(n,e)=>{let t=e?[e]:hf(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Zs=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Zs||{}),BM=Nv()&&typeof Zone<"u"?Zs.WARN:Zs.SILENT;var Bf=class{zone;delegate;constructor(e,t=em){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},vi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=M(ge);this.outsideAngular=t.runOutsideAngular(()=>new Bf(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Bf(typeof Zone>"u"?void 0:Zone.current,Vr))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$M=!1;function z3(n,e){!$M&&(BM>Zs.SILENT||Nv())&&($M=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),BM>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function q3(n){let e=M(ge,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function mo(n){let e=M(ge,{optional:!0});return e?e.run(()=>n()):n()}var G3=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),et(t,()=>mo(()=>n.apply(void 0,r)))),ze=(n,e,t)=>(t||=e?Zs.WARN:Zs.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=M(vi),s=M(Bd),a=M(Je)}catch{return z3(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=mo(()=>s.add())),i[l]=G3(i[l],r,a));let u=q3(()=>n.apply(this,i));return e?u instanceof ne?u.pipe(Br(o.outsideAngular),Ur(o.insideAngular),QE(a)):u instanceof Promise?mo(()=>new Promise((l,h)=>{s.run(()=>u).then(p=>et(a,()=>mo(()=>l(p))),p=>et(a,()=>mo(()=>h(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:mo(()=>u):u instanceof ne?u.pipe(Br(o.outsideAngular),Ur(o.insideAngular)):mo(()=>u)});var br=class{constructor(e){return e}},yo=class{constructor(){return hf()}};function W3(n){return n&&n.length===1?n[0]:new br(ho())}var YE=new V("angularfire2._apps"),K3={provide:br,useFactory:W3,deps:[[new Tt,YE]]},Q3={provide:yo,deps:[[new Tt,YE]]};function Y3(n){return(e,t)=>{let r=t.get(Zr);Le("angularfire",yi.full,"core"),Le("angularfire",yi.full,"app"),Le("angular",Q0.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new br(i)}}function Ire(n,...e){return Bt([K3,Q3,{provide:YE,useFactory:Y3(n),multi:!0,deps:[ge,Ue,vi,...e]}])}var wre=ze(oE,!0);var Z3=new Map,J3={activated:!1,tokenObservers:[]},X3={initialized:!1,enabled:!1};function Dn(n){return Z3.get(n)||Object.assign({},J3)}function GM(){return X3}var e6="https://content-firebaseappcheck.googleapis.com/v1";var t6="exchangeDebugToken",HM={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Mre=24*60*60*1e3;var XE=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new co,this.pending.promise.catch(t=>{}),yield n6(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new co,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function n6(n){return new Promise(e=>{setTimeout(e,n)})}var r6={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},_i=new En("appCheck","AppCheck",r6);function WM(n){if(!Dn(n).activated)throw _i.create("use-before-activation",{appName:n.name})}function KM(r,i){return v(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(m){throw _i.create("fetch-network-error",{originalErrorMessage:m?.message})}if(u.status!==200)throw _i.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(m){throw _i.create("fetch-parse-error",{originalErrorMessage:m?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw _i.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function QM(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${e6}/projects/${t}/apps/${r}:${t6}?key=${i}`,body:{debug_token:e}}}var i6="firebase-app-check-database",o6=1,eI="firebase-app-check-store";var $f=null;function s6(){return $f||($f=new Promise((n,e)=>{try{let t=indexedDB.open(i6,o6);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(_i.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(eI,{keyPath:"compositeKey"})}}}catch(t){e(_i.create("storage-open",{originalErrorMessage:t?.message}))}}),$f)}function a6(n,e){return c6(u6(n),e)}function c6(n,e){return v(this,null,function*(){let r=(yield s6()).transaction(eI,"readwrite"),o=r.objectStore(eI).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(_i.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function u6(n){return`${n.options.appId}-${n.name}`}var yu=new Wn("@firebase/app-check");function ZE(n,e){return eu()?a6(n,e).catch(t=>{yu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function YM(){return GM().enabled}function ZM(){return v(this,null,function*(){let n=GM();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var l6={error:"UNKNOWN_ERROR"};function d6(n){return of.encodeString(JSON.stringify(n),!1)}function tI(n,e=!1,t=!1){return v(this,null,function*(){let r=n.app;WM(r);let i=Dn(r),o=i.token,s;if(o&&!vu(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(vu(l)?o=l:yield ZE(r,void 0))}if(!e&&o&&vu(o))return{token:o.token};let a=!1;if(YM())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=KM(QM(r,yield ZM()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield ZE(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?yu.warn(l.message):t&&yu.error(l),JE(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Dn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?yu.warn(l.message):t&&yu.error(l),s=l}let u;return o?s?vu(o)?u={token:o.token,internalError:s}:u=JE(s):(u={token:o.token},i.token=o,yield ZE(r,o)):u=JE(s),a&&g6(r,u),u})}function h6(n){return v(this,null,function*(){let e=n.app;WM(e);let{provider:t}=Dn(e);if(YM()){let r=yield ZM(),{token:i}=yield KM(QM(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function f6(n,e,t,r){let{app:i}=n,o=Dn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&vu(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),zM(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>zM(n))}function JM(n,e){let t=Dn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function zM(n){let{app:e}=n,t=Dn(e),r=t.tokenRefresher;r||(r=p6(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function p6(n){let{app:e}=n;return new XE(()=>v(null,null,function*(){let t=Dn(e),r;if(t.token?r=yield tI(n,!0):r=yield tI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Dn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},HM.RETRIAL_MIN_WAIT,HM.RETRIAL_MAX_WAIT)}function g6(n,e){let t=Dn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function vu(n){return n.expireTimeMillis-Date.now()>0}function JE(n){return{token:d6(l6),error:n}}var nI=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Dn(this.app);for(let t of e)JM(this.app,t.next);return Promise.resolve()}};function m6(n,e){return new nI(n,e)}function y6(n){return{getToken:e=>tI(n,e),getLimitedUseToken:()=>h6(n),addTokenListener:e=>f6(n,"INTERNAL",e),removeTokenListener:e=>JM(n.app,e)}}var v6="@firebase/app-check",_6="0.10.0";var E6="app-check",qM="app-check-internal";function I6(){In(new bt(E6,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return m6(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(qM).initialize()})),In(new bt(qM,n=>{let e=n.getProvider("app-check").getImmediate();return y6(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Le(v6,_6)}I6();var w6="app-check";var Xs=class{constructor(){return Js(w6)}};var D6=["localhost","0.0.0.0","127.0.0.1"],zre=typeof window<"u"&&D6.includes(window.location.hostname);var XM="auth",vo=class{constructor(e){return e}},_u=class{constructor(){return Js(XM)}};var rI=new V("angularfire2.auth-instances");function T6(n,e){let t=mu(XM,n,e);return t&&new vo(t)}function b6(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new vo(r)}}var C6={provide:_u,deps:[[new Tt,rI]]},S6={provide:vo,useFactory:T6,deps:[[new Tt,rI],br]};function eie(n,...e){return Le("angularfire",yi.full,"auth"),Bt([S6,C6,{provide:rI,useFactory:b6(n),multi:!0,deps:[ge,Ue,vi,yo,[new Tt,Xs],...e]}])}var tie=ze(gu,!0);var eP=ze(qE,!0);var tP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nP={};var Cr,iI;(function(){var n;function e(T,_){function I(){}I.prototype=_.prototype,T.D=_.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(D,b,S){for(var E=Array(arguments.length-2),nr=2;nr<arguments.length;nr++)E[nr-2]=arguments[nr];return _.prototype[b].apply(D,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,_,I){I||(I=0);var D=Array(16);if(typeof _=="string")for(var b=0;16>b;++b)D[b]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(b=0;16>b;++b)D[b]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=T.g[0],I=T.g[1],b=T.g[2];var S=T.g[3],E=_+(S^I&(b^S))+D[0]+3614090360&4294967295;_=I+(E<<7&4294967295|E>>>25),E=S+(b^_&(I^b))+D[1]+3905402710&4294967295,S=_+(E<<12&4294967295|E>>>20),E=b+(I^S&(_^I))+D[2]+606105819&4294967295,b=S+(E<<17&4294967295|E>>>15),E=I+(_^b&(S^_))+D[3]+3250441966&4294967295,I=b+(E<<22&4294967295|E>>>10),E=_+(S^I&(b^S))+D[4]+4118548399&4294967295,_=I+(E<<7&4294967295|E>>>25),E=S+(b^_&(I^b))+D[5]+1200080426&4294967295,S=_+(E<<12&4294967295|E>>>20),E=b+(I^S&(_^I))+D[6]+2821735955&4294967295,b=S+(E<<17&4294967295|E>>>15),E=I+(_^b&(S^_))+D[7]+4249261313&4294967295,I=b+(E<<22&4294967295|E>>>10),E=_+(S^I&(b^S))+D[8]+1770035416&4294967295,_=I+(E<<7&4294967295|E>>>25),E=S+(b^_&(I^b))+D[9]+2336552879&4294967295,S=_+(E<<12&4294967295|E>>>20),E=b+(I^S&(_^I))+D[10]+4294925233&4294967295,b=S+(E<<17&4294967295|E>>>15),E=I+(_^b&(S^_))+D[11]+2304563134&4294967295,I=b+(E<<22&4294967295|E>>>10),E=_+(S^I&(b^S))+D[12]+1804603682&4294967295,_=I+(E<<7&4294967295|E>>>25),E=S+(b^_&(I^b))+D[13]+4254626195&4294967295,S=_+(E<<12&4294967295|E>>>20),E=b+(I^S&(_^I))+D[14]+2792965006&4294967295,b=S+(E<<17&4294967295|E>>>15),E=I+(_^b&(S^_))+D[15]+1236535329&4294967295,I=b+(E<<22&4294967295|E>>>10),E=_+(b^S&(I^b))+D[1]+4129170786&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^b&(_^I))+D[6]+3225465664&4294967295,S=_+(E<<9&4294967295|E>>>23),E=b+(_^I&(S^_))+D[11]+643717713&4294967295,b=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(b^S))+D[0]+3921069994&4294967295,I=b+(E<<20&4294967295|E>>>12),E=_+(b^S&(I^b))+D[5]+3593408605&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^b&(_^I))+D[10]+38016083&4294967295,S=_+(E<<9&4294967295|E>>>23),E=b+(_^I&(S^_))+D[15]+3634488961&4294967295,b=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(b^S))+D[4]+3889429448&4294967295,I=b+(E<<20&4294967295|E>>>12),E=_+(b^S&(I^b))+D[9]+568446438&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^b&(_^I))+D[14]+3275163606&4294967295,S=_+(E<<9&4294967295|E>>>23),E=b+(_^I&(S^_))+D[3]+4107603335&4294967295,b=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(b^S))+D[8]+1163531501&4294967295,I=b+(E<<20&4294967295|E>>>12),E=_+(b^S&(I^b))+D[13]+2850285829&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^b&(_^I))+D[2]+4243563512&4294967295,S=_+(E<<9&4294967295|E>>>23),E=b+(_^I&(S^_))+D[7]+1735328473&4294967295,b=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(b^S))+D[12]+2368359562&4294967295,I=b+(E<<20&4294967295|E>>>12),E=_+(I^b^S)+D[5]+4294588738&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^b)+D[8]+2272392833&4294967295,S=_+(E<<11&4294967295|E>>>21),E=b+(S^_^I)+D[11]+1839030562&4294967295,b=S+(E<<16&4294967295|E>>>16),E=I+(b^S^_)+D[14]+4259657740&4294967295,I=b+(E<<23&4294967295|E>>>9),E=_+(I^b^S)+D[1]+2763975236&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^b)+D[4]+1272893353&4294967295,S=_+(E<<11&4294967295|E>>>21),E=b+(S^_^I)+D[7]+4139469664&4294967295,b=S+(E<<16&4294967295|E>>>16),E=I+(b^S^_)+D[10]+3200236656&4294967295,I=b+(E<<23&4294967295|E>>>9),E=_+(I^b^S)+D[13]+681279174&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^b)+D[0]+3936430074&4294967295,S=_+(E<<11&4294967295|E>>>21),E=b+(S^_^I)+D[3]+3572445317&4294967295,b=S+(E<<16&4294967295|E>>>16),E=I+(b^S^_)+D[6]+76029189&4294967295,I=b+(E<<23&4294967295|E>>>9),E=_+(I^b^S)+D[9]+3654602809&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^b)+D[12]+3873151461&4294967295,S=_+(E<<11&4294967295|E>>>21),E=b+(S^_^I)+D[15]+530742520&4294967295,b=S+(E<<16&4294967295|E>>>16),E=I+(b^S^_)+D[2]+3299628645&4294967295,I=b+(E<<23&4294967295|E>>>9),E=_+(b^(I|~S))+D[0]+4096336452&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~b))+D[7]+1126891415&4294967295,S=_+(E<<10&4294967295|E>>>22),E=b+(_^(S|~I))+D[14]+2878612391&4294967295,b=S+(E<<15&4294967295|E>>>17),E=I+(S^(b|~_))+D[5]+4237533241&4294967295,I=b+(E<<21&4294967295|E>>>11),E=_+(b^(I|~S))+D[12]+1700485571&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~b))+D[3]+2399980690&4294967295,S=_+(E<<10&4294967295|E>>>22),E=b+(_^(S|~I))+D[10]+4293915773&4294967295,b=S+(E<<15&4294967295|E>>>17),E=I+(S^(b|~_))+D[1]+2240044497&4294967295,I=b+(E<<21&4294967295|E>>>11),E=_+(b^(I|~S))+D[8]+1873313359&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~b))+D[15]+4264355552&4294967295,S=_+(E<<10&4294967295|E>>>22),E=b+(_^(S|~I))+D[6]+2734768916&4294967295,b=S+(E<<15&4294967295|E>>>17),E=I+(S^(b|~_))+D[13]+1309151649&4294967295,I=b+(E<<21&4294967295|E>>>11),E=_+(b^(I|~S))+D[4]+4149444226&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~b))+D[11]+3174756917&4294967295,S=_+(E<<10&4294967295|E>>>22),E=b+(_^(S|~I))+D[2]+718787259&4294967295,b=S+(E<<15&4294967295|E>>>17),E=I+(S^(b|~_))+D[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(b+(E<<21&4294967295|E>>>11))&4294967295,T.g[2]=T.g[2]+b&4294967295,T.g[3]=T.g[3]+S&4294967295}r.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var I=_-this.blockSize,D=this.B,b=this.h,S=0;S<_;){if(b==0)for(;S<=I;)i(this,T,S),S+=this.blockSize;if(typeof T=="string"){for(;S<_;)if(D[b++]=T.charCodeAt(S++),b==this.blockSize){i(this,D),b=0;break}}else for(;S<_;)if(D[b++]=T[S++],b==this.blockSize){i(this,D),b=0;break}}this.h=b,this.o+=_},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var I=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=I&255,I/=256;for(this.u(T),T=Array(16),_=I=0;4>_;++_)for(var D=0;32>D;D+=8)T[I++]=this.g[_]>>>D&255;return T};function o(T,_){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=_(T)}function s(T,_){this.h=_;for(var I=[],D=!0,b=T.length-1;0<=b;b--){var S=T[b]|0;D&&S==_||(I[b]=S,D=!1)}this.g=I}var a={};function u(T){return-128<=T&&128>T?o(T,function(_){return new s([_|0],0>_?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return R(l(-T));for(var _=[],I=1,D=0;T>=I;D++)_[D]=T/I|0,I*=4294967296;return new s(_,0)}function h(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return R(h(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(_,8)),D=p,b=0;b<T.length;b+=8){var S=Math.min(8,T.length-b),E=parseInt(T.substring(b,b+S),_);8>S?(S=l(Math.pow(_,S)),D=D.j(S).add(l(E))):(D=D.j(I),D=D.add(l(E)))}return D}var p=u(0),g=u(1),m=u(16777216);n=s.prototype,n.m=function(){if(A(this))return-R(this).m();for(var T=0,_=1,I=0;I<this.g.length;I++){var D=this.i(I);T+=(0<=D?D:4294967296+D)*_,_*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(w(this))return"0";if(A(this))return"-"+R(this).toString(T);for(var _=l(Math.pow(T,6)),I=this,D="";;){var b=ye(I,_).g;I=k(I,b.j(_));var S=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=b,w(I))return S+D;for(;6>S.length;)S="0"+S;D=S+D}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function w(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function A(T){return T.h==-1}n.l=function(T){return T=k(this,T),A(T)?-1:w(T)?0:1};function R(T){for(var _=T.g.length,I=[],D=0;D<_;D++)I[D]=~T.g[D];return new s(I,~T.h).add(g)}n.abs=function(){return A(this)?R(this):this},n.add=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],D=0,b=0;b<=_;b++){var S=D+(this.i(b)&65535)+(T.i(b)&65535),E=(S>>>16)+(this.i(b)>>>16)+(T.i(b)>>>16);D=E>>>16,S&=65535,E&=65535,I[b]=E<<16|S}return new s(I,I[I.length-1]&-2147483648?-1:0)};function k(T,_){return T.add(R(_))}n.j=function(T){if(w(this)||w(T))return p;if(A(this))return A(T)?R(this).j(R(T)):R(R(this).j(T));if(A(T))return R(this.j(R(T)));if(0>this.l(m)&&0>T.l(m))return l(this.m()*T.m());for(var _=this.g.length+T.g.length,I=[],D=0;D<2*_;D++)I[D]=0;for(D=0;D<this.g.length;D++)for(var b=0;b<T.g.length;b++){var S=this.i(D)>>>16,E=this.i(D)&65535,nr=T.i(b)>>>16,Ta=T.i(b)&65535;I[2*D+2*b]+=E*Ta,z(I,2*D+2*b),I[2*D+2*b+1]+=S*Ta,z(I,2*D+2*b+1),I[2*D+2*b+1]+=E*nr,z(I,2*D+2*b+1),I[2*D+2*b+2]+=S*nr,z(I,2*D+2*b+2)}for(D=0;D<_;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=_;D<2*_;D++)I[D]=0;return new s(I,0)};function z(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function q(T,_){this.g=T,this.h=_}function ye(T,_){if(w(_))throw Error("division by zero");if(w(T))return new q(p,p);if(A(T))return _=ye(R(T),_),new q(R(_.g),R(_.h));if(A(_))return _=ye(T,R(_)),new q(R(_.g),_.h);if(30<T.g.length){if(A(T)||A(_))throw Error("slowDivide_ only works with positive integers.");for(var I=g,D=_;0>=D.l(T);)I=it(I),D=it(D);var b=ve(I,1),S=ve(D,1);for(D=ve(D,2),I=ve(I,2);!w(D);){var E=S.add(D);0>=E.l(T)&&(b=b.add(I),S=E),D=ve(D,1),I=ve(I,1)}return _=k(T,b.j(_)),new q(b,_)}for(b=p;0<=T.l(_);){for(I=Math.max(1,Math.floor(T.m()/_.m())),D=Math.ceil(Math.log(I)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),S=l(I),E=S.j(_);A(E)||0<E.l(T);)I-=D,S=l(I),E=S.j(_);w(S)&&(S=g),b=b.add(S),T=k(T,E)}return new q(b,T)}n.A=function(T){return ye(this,T).h},n.and=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],D=0;D<_;D++)I[D]=this.i(D)&T.i(D);return new s(I,this.h&T.h)},n.or=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],D=0;D<_;D++)I[D]=this.i(D)|T.i(D);return new s(I,this.h|T.h)},n.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],D=0;D<_;D++)I[D]=this.i(D)^T.i(D);return new s(I,this.h^T.h)};function it(T){for(var _=T.g.length+1,I=[],D=0;D<_;D++)I[D]=T.i(D)<<1|T.i(D-1)>>>31;return new s(I,T.h)}function ve(T,_){var I=_>>5;_%=32;for(var D=T.g.length-I,b=[],S=0;S<D;S++)b[S]=0<_?T.i(S+I)>>>_|T.i(S+I+1)<<32-_:T.i(S+I);return new s(b,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,iI=nP.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Cr=nP.Integer=s}).apply(typeof tP<"u"?tP:typeof self<"u"?self:typeof window<"u"?window:{});var Hf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sr={};var oI,A6,ea,sI,Eu,zf,aI,cI,uI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hf=="object"&&Hf];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var y=0;y<c.length-1;y++){var C=c[y];if(!(C in f))break e;f=f[C]}c=c[c.length-1],y=f[c],d=d(y),d!=y&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,y=!1,C={next:function(){if(!y&&f<c.length){var N=f++;return{value:d(N,c[N]),done:!1}}return y=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,y),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function m(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),c.apply(this,y)}}function w(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(y,C,N){for(var F=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)F[Te-2]=arguments[Te];return d.prototype[C].apply(y,F)}}function A(c){let d=c.length;if(0<d){let f=Array(d);for(let y=0;y<d;y++)f[y]=c[y];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let y=arguments[f];if(u(y)){let C=c.length||0,N=y.length||0;c.length=C+N;for(let F=0;F<N;F++)c[C+F]=y[F]}else c.push(y)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function z(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ye(c){return ye[" "](c),c}ye[" "]=function(){};var it=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function ve(c,d,f){for(let y in c)d.call(f,c[y],y,c)}function T(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function _(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,d){let f,y;for(let C=1;C<arguments.length;C++){y=arguments[C];for(f in y)c[f]=y[f];for(let N=0;N<I.length;N++)f=I[N],Object.prototype.hasOwnProperty.call(y,f)&&(c[f]=y[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function E(){var c=eg;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class nr{constructor(){this.h=this.g=null}add(d,f){let y=Ta.get();y.set(d,f),this.h?this.h.next=y:this.g=y,this.h=y}}var Ta=new k(()=>new Bk,c=>c.reset());class Bk{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ba,Ca=!1,eg=new nr,AD=()=>{let c=a.Promise.resolve(void 0);ba=()=>{c.then($k)}};var $k=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){S(f)}var d=Ta;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ca=!1};function xr(){this.s=this.s,this.C=this.C}xr.prototype.s=!1,xr.prototype.ma=function(){this.s||(this.s=!0,this.N())},xr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ct(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ct.prototype.h=function(){this.defaultPrevented=!0};var Hk=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Sa(c,d){if(ct.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,y=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(it){e:{try{ye(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:zk[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Sa.aa.h.call(this)}}w(Sa,ct);var zk={2:"touch",3:"pen",4:"mouse"};Sa.prototype.h=function(){Sa.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Aa="closure_listenable_"+(1e6*Math.random()|0),qk=0;function Gk(c,d,f,y,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!y,this.ha=C,this.key=++qk,this.da=this.fa=!1}function Wu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ku(c){this.src=c,this.g={},this.h=0}Ku.prototype.add=function(c,d,f,y,C){var N=c.toString();c=this.g[N],c||(c=this.g[N]=[],this.h++);var F=ng(c,d,y,C);return-1<F?(d=c[F],f||(d.fa=!1)):(d=new Gk(d,this.src,N,!!y,C),d.fa=f,c.push(d)),d};function tg(c,d){var f=d.type;if(f in c.g){var y=c.g[f],C=Array.prototype.indexOf.call(y,d,void 0),N;(N=0<=C)&&Array.prototype.splice.call(y,C,1),N&&(Wu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function ng(c,d,f,y){for(var C=0;C<c.length;++C){var N=c[C];if(!N.da&&N.listener==d&&N.capture==!!f&&N.ha==y)return C}return-1}var rg="closure_lm_"+(1e6*Math.random()|0),ig={};function RD(c,d,f,y,C){if(y&&y.once)return MD(c,d,f,y,C);if(Array.isArray(d)){for(var N=0;N<d.length;N++)RD(c,d[N],f,y,C);return null}return f=cg(f),c&&c[Aa]?c.K(d,f,l(y)?!!y.capture:!!y,C):ND(c,d,f,!1,y,C)}function ND(c,d,f,y,C,N){if(!d)throw Error("Invalid event type");var F=l(C)?!!C.capture:!!C,Te=sg(c);if(Te||(c[rg]=Te=new Ku(c)),f=Te.add(d,f,y,F,N),f.proxy)return f;if(y=Wk(),f.proxy=y,y.src=c,y.listener=f,c.addEventListener)Hk||(C=F),C===void 0&&(C=!1),c.addEventListener(d.toString(),y,C);else if(c.attachEvent)c.attachEvent(xD(d.toString()),y);else if(c.addListener&&c.removeListener)c.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Wk(){function c(f){return d.call(c.src,c.listener,f)}let d=Kk;return c}function MD(c,d,f,y,C){if(Array.isArray(d)){for(var N=0;N<d.length;N++)MD(c,d[N],f,y,C);return null}return f=cg(f),c&&c[Aa]?c.L(d,f,l(y)?!!y.capture:!!y,C):ND(c,d,f,!0,y,C)}function PD(c,d,f,y,C){if(Array.isArray(d))for(var N=0;N<d.length;N++)PD(c,d[N],f,y,C);else y=l(y)?!!y.capture:!!y,f=cg(f),c&&c[Aa]?(c=c.i,d=String(d).toString(),d in c.g&&(N=c.g[d],f=ng(N,f,y,C),-1<f&&(Wu(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete c.g[d],c.h--)))):c&&(c=sg(c))&&(d=c.g[d.toString()],c=-1,d&&(c=ng(d,f,y,C)),(f=-1<c?d[c]:null)&&og(f))}function og(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Aa])tg(d.i,c);else{var f=c.type,y=c.proxy;d.removeEventListener?d.removeEventListener(f,y,c.capture):d.detachEvent?d.detachEvent(xD(f),y):d.addListener&&d.removeListener&&d.removeListener(y),(f=sg(d))?(tg(f,c),f.h==0&&(f.src=null,d[rg]=null)):Wu(c)}}}function xD(c){return c in ig?ig[c]:ig[c]="on"+c}function Kk(c,d){if(c.da)c=!0;else{d=new Sa(d,this);var f=c.listener,y=c.ha||c.src;c.fa&&og(c),c=f.call(y,d)}return c}function sg(c){return c=c[rg],c instanceof Ku?c:null}var ag="__closure_events_fn_"+(1e9*Math.random()>>>0);function cg(c){return typeof c=="function"?c:(c[ag]||(c[ag]=function(d){return c.handleEvent(d)}),c[ag])}function ut(){xr.call(this),this.i=new Ku(this),this.M=this,this.F=null}w(ut,xr),ut.prototype[Aa]=!0,ut.prototype.removeEventListener=function(c,d,f,y){PD(this,c,d,f,y)};function It(c,d){var f,y=c.F;if(y)for(f=[];y;y=y.F)f.push(y);if(c=c.M,y=d.type||d,typeof d=="string")d=new ct(d,c);else if(d instanceof ct)d.target=d.target||c;else{var C=d;d=new ct(y,c),D(d,C)}if(C=!0,f)for(var N=f.length-1;0<=N;N--){var F=d.g=f[N];C=Qu(F,y,!0,d)&&C}if(F=d.g=c,C=Qu(F,y,!0,d)&&C,C=Qu(F,y,!1,d)&&C,f)for(N=0;N<f.length;N++)F=d.g=f[N],C=Qu(F,y,!1,d)&&C}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],y=0;y<f.length;y++)Wu(f[y]);delete c.g[d],c.h--}}this.F=null},ut.prototype.K=function(c,d,f,y){return this.i.add(String(c),d,!1,f,y)},ut.prototype.L=function(c,d,f,y){return this.i.add(String(c),d,!0,f,y)};function Qu(c,d,f,y){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,N=0;N<d.length;++N){var F=d[N];if(F&&!F.da&&F.capture==f){var Te=F.listener,ot=F.ha||F.src;F.fa&&tg(c.i,F),C=Te.call(ot,y)!==!1&&C}}return C&&!y.defaultPrevented}function kD(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function OD(c){c.g=kD(()=>{c.g=null,c.i&&(c.i=!1,OD(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class Qk extends xr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:OD(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ra(c){xr.call(this),this.h=c,this.g={}}w(Ra,xr);var FD=[];function LD(c){ve(c.g,function(d,f){this.g.hasOwnProperty(f)&&og(d)},c),c.g={}}Ra.prototype.N=function(){Ra.aa.N.call(this),LD(this)},Ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ug=a.JSON.stringify,Yk=a.JSON.parse,Zk=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function lg(){}lg.prototype.h=null;function VD(c){return c.h||(c.h=c.i())}function jD(){}var Na={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dg(){ct.call(this,"d")}w(dg,ct);function hg(){ct.call(this,"c")}w(hg,ct);var bi={},UD=null;function Yu(){return UD=UD||new ut}bi.La="serverreachability";function BD(c){ct.call(this,bi.La,c)}w(BD,ct);function Ma(c){let d=Yu();It(d,new BD(d))}bi.STAT_EVENT="statevent";function $D(c,d){ct.call(this,bi.STAT_EVENT,c),this.stat=d}w($D,ct);function wt(c){let d=Yu();It(d,new $D(d,c))}bi.Ma="timingevent";function HD(c,d){ct.call(this,bi.Ma,c),this.size=d}w(HD,ct);function Pa(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function xa(){this.g=!0}xa.prototype.xa=function(){this.g=!1};function Jk(c,d,f,y,C,N){c.info(function(){if(c.g)if(N)for(var F="",Te=N.split("&"),ot=0;ot<Te.length;ot++){var me=Te[ot].split("=");if(1<me.length){var lt=me[0];me=me[1];var dt=lt.split("_");F=2<=dt.length&&dt[1]=="type"?F+(lt+"="+me+"&"):F+(lt+"=redacted&")}}else F=null;else F=N;return"XMLHTTP REQ ("+y+") [attempt "+C+"]: "+d+`
`+f+`
`+F})}function Xk(c,d,f,y,C,N,F){c.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+C+"]: "+d+`
`+f+`
`+N+" "+F})}function Fo(c,d,f,y){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+tO(c,f)+(y?" "+y:"")})}function eO(c,d){c.info(function(){return"TIMEOUT: "+d})}xa.prototype.info=function(){};function tO(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var y=f[c];if(!(2>y.length)){var C=y[1];if(Array.isArray(C)&&!(1>C.length)){var N=C[0];if(N!="noop"&&N!="stop"&&N!="close")for(var F=1;F<C.length;F++)C[F]=""}}}}return ug(f)}catch{return d}}var Zu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zD={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fg;function Ju(){}w(Ju,lg),Ju.prototype.g=function(){return new XMLHttpRequest},Ju.prototype.i=function(){return{}},fg=new Ju;function kr(c,d,f,y){this.j=c,this.i=d,this.l=f,this.R=y||1,this.U=new Ra(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qD}function qD(){this.i=null,this.g="",this.h=!1}var GD={},pg={};function gg(c,d,f){c.L=1,c.v=nl(rr(d)),c.m=f,c.P=!0,WD(c,null)}function WD(c,d){c.F=Date.now(),Xu(c),c.A=rr(c.v);var f=c.A,y=c.R;Array.isArray(y)||(y=[String(y)]),aT(f.i,"t",y),c.C=0,f=c.j.J,c.h=new qD,c.g=bT(c.j,f?d:null,!c.m),0<c.O&&(c.M=new Qk(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,y=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(FD[0]=C.toString()),C=FD);for(var N=0;N<C.length;N++){var F=RD(f,C[N],y||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ma(),Jk(c.i,c.u,c.A,c.l,c.R,c.m)}kr.prototype.ca=function(c){c=c.target;let d=this.M;d&&ir(c)==3?d.j():this.Y(c)},kr.prototype.Y=function(c){try{if(c==this.g)e:{let dt=ir(this.g);var d=this.g.Ba();let jo=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||pT(this.g)))){this.J||dt!=4||d==7||(d==8||0>=jo?Ma(3):Ma(2)),mg(this);var f=this.g.Z();this.X=f;t:if(KD(this)){var y=pT(this.g);c="";var C=y.length,N=ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ci(this),ka(this);var F="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(y[d],{stream:!(N&&d==C-1)});y.length=0,this.h.g+=c,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,Xk(this.i,this.u,this.A,this.l,this.R,dt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Te,ot=this.g;if((Te=ot.g?ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Te)){var me=Te;break t}}me=null}if(f=me)Fo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yg(this,f);else{this.o=!1,this.s=3,wt(12),Ci(this),ka(this);break e}}if(this.P){f=!0;let cn;for(;!this.J&&this.C<F.length;)if(cn=nO(this,F),cn==pg){dt==4&&(this.s=4,wt(14),f=!1),Fo(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==GD){this.s=4,wt(15),Fo(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else Fo(this.i,this.l,cn,null),yg(this,cn);if(KD(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||F.length!=0||this.h.h||(this.s=1,wt(16),f=!1),this.o=this.o&&f,!f)Fo(this.i,this.l,F,"[Invalid Chunked Response]"),Ci(this),ka(this);else if(0<F.length&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.ba&&!lt.M&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),Dg(lt),lt.M=!0,wt(11))}}else Fo(this.i,this.l,F,null),yg(this,F);dt==4&&Ci(this),this.o&&!this.J&&(dt==4?IT(this.j,this):(this.o=!1,Xu(this)))}else _O(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),Ci(this),ka(this)}}}catch{}finally{}};function KD(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function nO(c,d){var f=c.C,y=d.indexOf(`
`,f);return y==-1?pg:(f=Number(d.substring(f,y)),isNaN(f)?GD:(y+=1,y+f>d.length?pg:(d=d.slice(y,y+f),c.C=y+f,d)))}kr.prototype.cancel=function(){this.J=!0,Ci(this)};function Xu(c){c.S=Date.now()+c.I,QD(c,c.I)}function QD(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Pa(g(c.ba,c),d)}function mg(c){c.B&&(a.clearTimeout(c.B),c.B=null)}kr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(eO(this.i,this.A),this.L!=2&&(Ma(),wt(17)),Ci(this),this.s=2,ka(this)):QD(this,this.S-c)};function ka(c){c.j.G==0||c.J||IT(c.j,c)}function Ci(c){mg(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,LD(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function yg(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||vg(f.h,c))){if(!c.K&&vg(f.h,c)&&f.G==3){try{var y=f.Da.g.parse(d)}catch{y=null}if(Array.isArray(y)&&y.length==3){var C=y;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)al(f),ol(f);else break e;wg(f),wt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Pa(g(f.Za,f),6e3));if(1>=JD(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ai(f,11)}else if((c.K||f.g==c)&&al(f),!z(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let me=C[d];if(f.T=me[0],me=me[1],f.G==2)if(me[0]=="c"){f.K=me[1],f.ia=me[2];let lt=me[3];lt!=null&&(f.la=lt,f.j.info("VER="+f.la));let dt=me[4];dt!=null&&(f.Aa=dt,f.j.info("SVER="+f.Aa));let jo=me[5];jo!=null&&typeof jo=="number"&&0<jo&&(y=1.5*jo,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;let cn=c.g;if(cn){let ul=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ul){var N=y.h;N.g||ul.indexOf("spdy")==-1&&ul.indexOf("quic")==-1&&ul.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(_g(N,N.h),N.h=null))}if(y.D){let Tg=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Tg&&(y.ya=Tg,Ce(y.I,y.D,Tg))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var F=c;if(y.qa=TT(y,y.J?y.ia:null,y.W),F.K){XD(y.h,F);var Te=F,ot=y.L;ot&&(Te.I=ot),Te.B&&(mg(Te),Xu(Te)),y.g=F}else _T(y);0<f.i.length&&sl(f)}else me[0]!="stop"&&me[0]!="close"||Ai(f,7);else f.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?Ai(f,7):Ig(f):me[0]!="noop"&&f.l&&f.l.ta(me),f.v=0)}}Ma(4)}catch{}}var rO=class{constructor(c,d){this.g=c,this.map=d}};function YD(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ZD(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function JD(c){return c.h?1:c.g?c.g.size:0}function vg(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function _g(c,d){c.g?c.g.add(d):c.h=d}function XD(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}YD.prototype.cancel=function(){if(this.i=eT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function eT(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return A(c.i)}function iO(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,y=0;y<f;y++)d.push(c[y]);return d}d=[],f=0;for(y in c)d[f++]=c[y];return d}function oO(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let y in c)d[f++]=y;return d}}}function tT(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=oO(c),y=iO(c),C=y.length,N=0;N<C;N++)d.call(void 0,y[N],f&&f[N],c)}var nT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sO(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var y=c[f].indexOf("="),C=null;if(0<=y){var N=c[f].substring(0,y);C=c[f].substring(y+1)}else N=c[f];d(N,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Si(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Si){this.h=c.h,el(this,c.j),this.o=c.o,this.g=c.g,tl(this,c.s),this.l=c.l;var d=c.i,f=new La;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),rT(this,f),this.m=c.m}else c&&(d=String(c).match(nT))?(this.h=!1,el(this,d[1]||"",!0),this.o=Oa(d[2]||""),this.g=Oa(d[3]||"",!0),tl(this,d[4]),this.l=Oa(d[5]||"",!0),rT(this,d[6]||"",!0),this.m=Oa(d[7]||"")):(this.h=!1,this.i=new La(null,this.h))}Si.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Fa(d,iT,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Fa(d,iT,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Fa(f,f.charAt(0)=="/"?uO:cO,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Fa(f,dO)),c.join("")};function rr(c){return new Si(c)}function el(c,d,f){c.j=f?Oa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function tl(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function rT(c,d,f){d instanceof La?(c.i=d,hO(c.i,c.h)):(f||(d=Fa(d,lO)),c.i=new La(d,c.h))}function Ce(c,d,f){c.i.set(d,f)}function nl(c){return Ce(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Oa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Fa(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,aO),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function aO(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var iT=/[#\/\?@]/g,cO=/[#\?:]/g,uO=/[#\?]/g,lO=/[#\?@]/g,dO=/#/g;function La(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Or(c){c.g||(c.g=new Map,c.h=0,c.i&&sO(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=La.prototype,n.add=function(c,d){Or(this),this.i=null,c=Lo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function oT(c,d){Or(c),d=Lo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function sT(c,d){return Or(c),d=Lo(c,d),c.g.has(d)}n.forEach=function(c,d){Or(this),this.g.forEach(function(f,y){f.forEach(function(C){c.call(d,C,y,this)},this)},this)},n.na=function(){Or(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let y=0;y<d.length;y++){let C=c[y];for(let N=0;N<C.length;N++)f.push(d[y])}return f},n.V=function(c){Or(this);let d=[];if(typeof c=="string")sT(this,c)&&(d=d.concat(this.g.get(Lo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Or(this),this.i=null,c=Lo(this,c),sT(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function aT(c,d,f){oT(c,d),0<f.length&&(c.i=null,c.g.set(Lo(c,d),A(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var y=d[f];let N=encodeURIComponent(String(y)),F=this.V(y);for(y=0;y<F.length;y++){var C=N;F[y]!==""&&(C+="="+encodeURIComponent(String(F[y]))),c.push(C)}}return this.i=c.join("&")};function Lo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function hO(c,d){d&&!c.j&&(Or(c),c.i=null,c.g.forEach(function(f,y){var C=y.toLowerCase();y!=C&&(oT(this,y),aT(this,C,f))},c)),c.j=d}function fO(c,d){let f=new xa;if(a.Image){let y=new Image;y.onload=m(Fr,f,"TestLoadImage: loaded",!0,d,y),y.onerror=m(Fr,f,"TestLoadImage: error",!1,d,y),y.onabort=m(Fr,f,"TestLoadImage: abort",!1,d,y),y.ontimeout=m(Fr,f,"TestLoadImage: timeout",!1,d,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=c}else d(!1)}function pO(c,d){let f=new xa,y=new AbortController,C=setTimeout(()=>{y.abort(),Fr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:y.signal}).then(N=>{clearTimeout(C),N.ok?Fr(f,"TestPingServer: ok",!0,d):Fr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Fr(f,"TestPingServer: error",!1,d)})}function Fr(c,d,f,y,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),y(f)}catch{}}function gO(){this.g=new Zk}function mO(c,d,f){let y=f||"";try{tT(c,function(C,N){let F=C;l(C)&&(F=ug(C)),d.push(y+N+"="+encodeURIComponent(F))})}catch(C){throw d.push(y+"type="+encodeURIComponent("_badmap")),C}}function Va(c){this.l=c.Ub||null,this.j=c.eb||!1}w(Va,lg),Va.prototype.g=function(){return new rl(this.l,this.j)},Va.prototype.i=function(c){return function(){return c}}({});function rl(c,d){ut.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(rl,ut),n=rl.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ua(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ja(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ua(this)),this.g&&(this.readyState=3,Ua(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cT(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function cT(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ja(this):Ua(this),this.readyState==3&&cT(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,ja(this))},n.Qa=function(c){this.g&&(this.response=c,ja(this))},n.ga=function(){this.g&&ja(this)};function ja(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ua(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ua(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(rl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function uT(c){let d="";return ve(c,function(f,y){d+=y,d+=":",d+=f,d+=`\r
`}),d}function Eg(c,d,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=uT(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ce(c,d,f))}function Oe(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Oe,ut);var yO=/^https?$/i,vO=["POST","PUT"];n=Oe.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fg.g(),this.v=this.o?VD(this.o):VD(fg),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(N){lT(this,N);return}if(c=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var C in y)f.set(C,y[C]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let N of y.keys())f.set(N,y.get(N));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(vO,d,void 0))||y||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,F]of f)this.g.setRequestHeader(N,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fT(this),this.u=!0,this.g.send(c),this.u=!1}catch(N){lT(this,N)}};function lT(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,dT(c),il(c)}function dT(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,It(this,"complete"),It(this,"abort"),il(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),il(this,!0)),Oe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?hT(this):this.bb())},n.bb=function(){hT(this)};function hT(c){if(c.h&&typeof s<"u"&&(!c.v[1]||ir(c)!=4||c.Z()!=2)){if(c.u&&ir(c)==4)kD(c.Ea,0,c);else if(It(c,"readystatechange"),ir(c)==4){c.h=!1;try{let F=c.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var y;if(y=F===0){var C=String(c.D).match(nT)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),y=!yO.test(C?C.toLowerCase():"")}f=y}if(f)It(c,"complete"),It(c,"success");else{c.m=6;try{var N=2<ir(c)?c.g.statusText:""}catch{N=""}c.l=N+" ["+c.Z()+"]",dT(c)}}finally{il(c)}}}}function il(c,d){if(c.g){fT(c);let f=c.g,y=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||It(c,"ready");try{f.onreadystatechange=y}catch{}}}function fT(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function ir(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<ir(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),Yk(d)}};function pT(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function _O(c){let d={};c=(c.g&&2<=ir(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<c.length;y++){if(z(c[y]))continue;var f=b(c[y]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=d[C]||[];d[C]=N,N.push(f)}T(d,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ba(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function gT(c){this.Aa=0,this.i=[],this.j=new xa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ba("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ba("baseRetryDelayMs",5e3,c),this.cb=Ba("retryDelaySeedMs",1e4,c),this.Wa=Ba("forwardChannelMaxRetries",2,c),this.wa=Ba("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new YD(c&&c.concurrentRequestLimit),this.Da=new gO,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=gT.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,y){wt(0),this.W=c,this.H=d||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=TT(this,null,this.W),sl(this)};function Ig(c){if(mT(c),c.G==3){var d=c.U++,f=rr(c.I);if(Ce(f,"SID",c.K),Ce(f,"RID",d),Ce(f,"TYPE","terminate"),$a(c,f),d=new kr(c,c.j,d),d.L=2,d.v=nl(rr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=bT(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Xu(d)}DT(c)}function ol(c){c.g&&(Dg(c),c.g.cancel(),c.g=null)}function mT(c){ol(c),c.u&&(a.clearTimeout(c.u),c.u=null),al(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function sl(c){if(!ZD(c.h)&&!c.s){c.s=!0;var d=c.Ga;ba||AD(),Ca||(ba(),Ca=!0),eg.add(d,c),c.B=0}}function EO(c,d){return JD(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Pa(g(c.Ga,c,d),wT(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new kr(this,this.j,c),N=this.o;if(this.S&&(N?(N=_(N),D(N,this.S)):N=this.S),this.m!==null||this.O||(C.H=N,N=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(d+=y,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=vT(this,C,d),f=rr(this.I),Ce(f,"RID",c),Ce(f,"CVER",22),this.D&&Ce(f,"X-HTTP-Session-Id",this.D),$a(this,f),N&&(this.O?d="headers="+encodeURIComponent(String(uT(N)))+"&"+d:this.m&&Eg(f,this.m,N)),_g(this.h,C),this.Ua&&Ce(f,"TYPE","init"),this.P?(Ce(f,"$req",d),Ce(f,"SID","null"),C.T=!0,gg(C,f,null)):gg(C,f,d),this.G=2}}else this.G==3&&(c?yT(this,c):this.i.length==0||ZD(this.h)||yT(this))};function yT(c,d){var f;d?f=d.l:f=c.U++;let y=rr(c.I);Ce(y,"SID",c.K),Ce(y,"RID",f),Ce(y,"AID",c.T),$a(c,y),c.m&&c.o&&Eg(y,c.m,c.o),f=new kr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=vT(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),_g(c.h,f),gg(f,y,d)}function $a(c,d){c.H&&ve(c.H,function(f,y){Ce(d,y,f)}),c.l&&tT({},function(f,y){Ce(d,y,f)})}function vT(c,d,f){f=Math.min(c.i.length,f);var y=c.l?g(c.l.Na,c.l,c):null;e:{var C=c.i;let N=-1;for(;;){let F=["count="+f];N==-1?0<f?(N=C[0].g,F.push("ofs="+N)):N=0:F.push("ofs="+N);let Te=!0;for(let ot=0;ot<f;ot++){let me=C[ot].g,lt=C[ot].map;if(me-=N,0>me)N=Math.max(0,C[ot].g-100),Te=!1;else try{mO(lt,F,"req"+me+"_")}catch{y&&y(lt)}}if(Te){y=F.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,y}function _T(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ba||AD(),Ca||(ba(),Ca=!0),eg.add(d,c),c.v=0}}function wg(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Pa(g(c.Fa,c),wT(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,ET(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Pa(g(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),ol(this),ET(this))};function Dg(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function ET(c){c.g=new kr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=rr(c.qa);Ce(d,"RID","rpc"),Ce(d,"SID",c.K),Ce(d,"AID",c.T),Ce(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ce(d,"TO",c.ja),Ce(d,"TYPE","xmlhttp"),$a(c,d),c.m&&c.o&&Eg(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=nl(rr(d)),f.m=null,f.P=!0,WD(f,c)}n.Za=function(){this.C!=null&&(this.C=null,ol(this),wg(this),wt(19))};function al(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function IT(c,d){var f=null;if(c.g==d){al(c),Dg(c),c.g=null;var y=2}else if(vg(c.h,d))f=d.D,XD(c.h,d),y=1;else return;if(c.G!=0){if(d.o)if(y==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;y=Yu(),It(y,new HD(y,f)),sl(c)}else _T(c);else if(C=d.s,C==3||C==0&&0<d.X||!(y==1&&EO(c,d)||y==2&&wg(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:Ai(c,5);break;case 4:Ai(c,10);break;case 3:Ai(c,6);break;default:Ai(c,2)}}}function wT(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ai(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),y=c.Xa;let C=!y;y=new Si(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||el(y,"https"),nl(y),C?fO(y.toString(),f):pO(y.toString(),f)}else wt(2);c.G=0,c.l&&c.l.sa(d),DT(c),mT(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function DT(c){if(c.G=0,c.ka=[],c.l){let d=eT(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.ra()}}function TT(c,d,f){var y=f instanceof Si?rr(f):new Si(f);if(y.g!="")d&&(y.g=d+"."+y.g),tl(y,y.s);else{var C=a.location;y=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var N=new Si(null);y&&el(N,y),d&&(N.g=d),C&&tl(N,C),f&&(N.l=f),y=N}return f=c.D,d=c.ya,f&&d&&Ce(y,f,d),Ce(y,"VER",c.la),$a(c,y),y}function bT(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Oe(new Va({eb:f})):new Oe(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function CT(){}n=CT.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function cl(){}cl.prototype.g=function(c,d){return new Vt(c,d)};function Vt(c,d){ut.call(this),this.g=new gT(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!z(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!z(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Vo(this)}w(Vt,ut),Vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vt.prototype.close=function(){Ig(this.g)},Vt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=ug(c),c=f);d.i.push(new rO(d.Ya++,c)),d.G==3&&sl(d)},Vt.prototype.N=function(){this.g.l=null,delete this.j,Ig(this.g),delete this.g,Vt.aa.N.call(this)};function ST(c){dg.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}w(ST,dg);function AT(){hg.call(this),this.status=1}w(AT,hg);function Vo(c){this.g=c}w(Vo,CT),Vo.prototype.ua=function(){It(this.g,"a")},Vo.prototype.ta=function(c){It(this.g,new ST(c))},Vo.prototype.sa=function(c){It(this.g,new AT)},Vo.prototype.ra=function(){It(this.g,"b")},cl.prototype.createWebChannel=cl.prototype.g,Vt.prototype.send=Vt.prototype.o,Vt.prototype.open=Vt.prototype.m,Vt.prototype.close=Vt.prototype.close,uI=Sr.createWebChannelTransport=function(){return new cl},cI=Sr.getStatEventTarget=function(){return Yu()},aI=Sr.Event=bi,zf=Sr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zu.NO_ERROR=0,Zu.TIMEOUT=8,Zu.HTTP_ERROR=6,Eu=Sr.ErrorCode=Zu,zD.COMPLETE="complete",sI=Sr.EventType=zD,jD.EventType=Na,Na.OPEN="a",Na.CLOSE="b",Na.ERROR="c",Na.MESSAGE="d",ut.prototype.listen=ut.prototype.K,ea=Sr.WebChannel=jD,A6=Sr.FetchXmlHttpFactory=Va,Oe.prototype.listenOnce=Oe.prototype.L,Oe.prototype.getLastError=Oe.prototype.Ka,Oe.prototype.getLastErrorCode=Oe.prototype.Ba,Oe.prototype.getStatus=Oe.prototype.Z,Oe.prototype.getResponseJson=Oe.prototype.Oa,Oe.prototype.getResponseText=Oe.prototype.oa,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Ha,oI=Sr.XhrIo=Oe}).apply(typeof Hf<"u"?Hf:typeof self<"u"?self:typeof window<"u"?window:{});var rP="@firebase/firestore",iP="4.7.17";var nt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};nt.UNAUTHENTICATED=new nt(null),nt.GOOGLE_CREDENTIALS=new nt("google-credentials-uid"),nt.FIRST_PARTY=new nt("first-party-uid"),nt.MOCK_USER=new nt("mock-user");var Ea="11.9.0";var wo=new Wn("@firebase/firestore");function ta(){return wo.logLevel}function B(n,...e){if(wo.logLevel<=he.DEBUG){let t=e.map(Xw);wo.debug(`Firestore (${Ea}): ${n}`,...t)}}function Ar(n,...e){if(wo.logLevel<=he.ERROR){let t=e.map(Xw);wo.error(`Firestore (${Ea}): ${n}`,...t)}}function ca(n,...e){if(wo.logLevel<=he.WARN){let t=e.map(Xw);wo.warn(`Firestore (${Ea}): ${n}`,...t)}}function Xw(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Q(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,YP(n,r,t)}function YP(n,e,t){let r=`FIRESTORE (${Ea}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ar(r),new Error(r)}function Ie(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||YP(e,i,r)}function Z(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=class extends qt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Tn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Zf=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},pI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nt.UNAUTHENTICATED))}shutdown(){}},gI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},mI=class{constructor(e){this.t=e,this.currentUser=nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ie(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Tn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Tn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Tn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string",31837,{l:r}),new Zf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string",2055,{h:e}),new nt(e)}},yI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=nt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},vI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new yI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Jf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},_I=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ie(this.o===void 0,3512);let r=o=>{o.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,B("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ie(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Jf(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function R6(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function ZP(){return new TextEncoder}var Xf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=R6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function de(n,e){return n<e?-1:n>e?1:0}function EI(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return de(r,i);{let o=ZP(),s=N6(o.encode(oP(n,t)),o.encode(oP(e,t)));return s!==0?s:de(r,i)}}t+=r>65535?2:1}return de(n.length,e.length)}function oP(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function N6(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return de(n[t],e[t]);return de(n.length,e.length)}function ua(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var sP=-62135596800,aP=1e6,at=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*aP);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<sP)throw new $(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aP}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-sP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var te=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new at(0,0))}static max(){return new n(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var cP="__name__",ep=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Q(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Q(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return de(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):EI(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cr.fromString(e.substring(4,e.length-2))}},ke=class n extends ep{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new $(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},M6=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Kt=class n extends ep{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return M6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cP}static keyField(){return new n([cP])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new $(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new $(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var K=class n{constructor(e){this.path=e}static fromPath(e){return new n(ke.fromString(e))}static fromName(e){return new n(ke.fromString(e).popFirst(5))}static empty(){return new n(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ke(e.slice()))}};var Cu=-1,II=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};II.UNKNOWN_ID=-1;function P6(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new at(t+1,0):new at(t,r));return new Do(i,K.empty(),e)}function x6(n){return new Do(n.readTime,n.key,Cu)}var Do=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(te.min(),K.empty(),Cu)}static max(){return new n(te.max(),K.empty(),Cu)}};function k6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=K.comparator(n.documentKey,e.documentKey),t!==0?t:de(n.largestBatchId,e.largestBatchId))}var O6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",wI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ia(n){return v(this,null,function*(){if(n.code!==P.FAILED_PRECONDITION||n.message!==O6)throw n;B("LocalStore","Unexpectedly lost primary lease")})}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function F6(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function wa(n){return n.name==="IndexedDbTransactionError"}var eD=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),tD=-1;function kp(n){return n==null}function Su(n){return n===0&&1/n==-1/0}function L6(n){return typeof n=="number"&&Number.isInteger(n)&&!Su(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var JP="";function V6(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=uP(e)),e=j6(n.get(t),e);return uP(e)}function j6(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case JP:t+="";break;default:t+=o}}return t}function uP(n){return n+JP+""}var U6="remoteDocuments",XP="owner";var ex="mutationQueues";var tx="mutations";var nx="documentMutations",B6="remoteDocumentsV14";var rx="remoteDocumentGlobal";var ix="targets";var ox="targetDocuments";var sx="targetGlobal",ax="collectionParents";var cx="clientMetadata";var ux="bundles";var lx="namedQueries";var $6="indexConfiguration";var H6="indexState";var z6="indexEntries";var dx="documentOverlays";var q6="globals";var G6=[ex,tx,nx,U6,ix,XP,sx,ox,cx,rx,ax,ux,lx],mie=[...G6,dx],W6=[ex,tx,nx,B6,ix,XP,sx,ox,cx,rx,ax,ux,lx,dx],K6=W6,Q6=[...K6,$6,H6,z6];var yie=[...Q6,q6];function lP(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ti(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hx(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ve=class n{constructor(e,t){this.comparator=e,this.root=t||Yn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oa(this.root,e,this.comparator,!1)}getReverseIterator(){return new oa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oa(this.root,e,this.comparator,!0)}},oa=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Yn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}};Yn.EMPTY=null,Yn.RED=!0,Yn.BLACK=!1;Yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Yn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var rt=class n{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tp(this.data.getIterator())}getIteratorFrom(e){return new tp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},tp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var an=class n{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new n([])}unionWith(e){let t=new rt(Kt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ua(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var np=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Et=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new np("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Et.EMPTY_BYTE_STRING=new Et("");var Y6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rr(n){if(Ie(!!n,39018),typeof n=="string"){let e=0,t=Y6.exec(n);if(Ie(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Re(n.seconds),nanos:Re(n.nanos)}}function Re(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Nr(n){return typeof n=="string"?Et.fromBase64String(n):Et.fromUint8Array(n)}var fx="server_timestamp",px="__type__",gx="__previous_value__",mx="__local_write_time__";function nD(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[px])===null||t===void 0?void 0:t.stringValue)===fx}function Op(n){let e=n.mapValue.fields[gx];return nD(e)?Op(e):e}function Au(n){let e=Rr(n.mapValue.fields[mx].timestampValue);return new at(e.seconds,e.nanos)}var DI=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},rp="(default)",ip=class n{constructor(e,t){this.projectId=e,this.database=t||rp}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===rp}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var rD="__type__",yx="__max__",qf={mapValue:{fields:{__type__:{stringValue:yx}}}},iD="__vector__",la="value";function Ii(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?nD(n)?4:_x(n)?9007199254740991:vx(n)?10:11:Q(28295,{value:n})}function er(n,e){if(n===e)return!0;let t=Ii(n);if(t!==Ii(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Au(n).isEqual(Au(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Rr(i.timestampValue),a=Rr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Nr(i.bytesValue).isEqual(Nr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Re(i.geoPointValue.latitude)===Re(o.geoPointValue.latitude)&&Re(i.geoPointValue.longitude)===Re(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Re(i.integerValue)===Re(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Re(i.doubleValue),a=Re(o.doubleValue);return s===a?Su(s)===Su(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return ua(n.arrayValue.values||[],e.arrayValue.values||[],er);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(lP(s)!==lP(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!er(s[u],a[u])))return!1;return!0}(n,e);default:return Q(52216,{left:n})}}function Ru(n,e){return(n.values||[]).find(t=>er(t,e))!==void 0}function da(n,e){if(n===e)return 0;let t=Ii(n),r=Ii(e);if(t!==r)return de(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return de(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Re(o.integerValue||o.doubleValue),u=Re(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return dP(n.timestampValue,e.timestampValue);case 4:return dP(Au(n),Au(e));case 5:return EI(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Nr(o),u=Nr(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=de(a[l],u[l]);if(h!==0)return h}return de(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=de(Re(o.latitude),Re(s.latitude));return a!==0?a:de(Re(o.longitude),Re(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return hP(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},m=(a=p[la])===null||a===void 0?void 0:a.arrayValue,w=(u=g[la])===null||u===void 0?void 0:u.arrayValue,A=de(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((h=w?.values)===null||h===void 0?void 0:h.length)||0);return A!==0?A:hP(m,w)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===qf.mapValue&&s===qf.mapValue)return 0;if(o===qf.mapValue)return 1;if(s===qf.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=EI(u[p],h[p]);if(g!==0)return g;let m=da(a[u[p]],l[h[p]]);if(m!==0)return m}return de(u.length,h.length)}(n.mapValue,e.mapValue);default:throw Q(23264,{Pe:t})}}function dP(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return de(n,e);let t=Rr(n),r=Rr(e),i=de(t.seconds,r.seconds);return i!==0?i:de(t.nanos,r.nanos)}function hP(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=da(t[i],r[i]);if(o)return o}return de(t.length,r.length)}function ha(n){return TI(n)}function TI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Rr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Nr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return K.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=TI(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${TI(t.fields[s])}`;return i+"}"}(n.mapValue):Q(61005,{value:n})}function Kf(n){switch(Ii(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Op(n);return e?16+Kf(e):16;case 5:return 2*n.stringValue.length;case 6:return Nr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Kf(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ti(r.fields,(o,s)=>{i+=o.length+Kf(s)}),i}(n.mapValue);default:throw Q(13486,{value:n})}}function fP(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function bI(n){return!!n&&"integerValue"in n}function oD(n){return!!n&&"arrayValue"in n}function pP(n){return!!n&&"nullValue"in n}function gP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qf(n){return!!n&&"mapValue"in n}function vx(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[rD])===null||t===void 0?void 0:t.stringValue)===iD}function wu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ti(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=wu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function _x(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===yx}var _ie={mapValue:{fields:{[rD]:{stringValue:iD},[la]:{arrayValue:{}}}}};var Wt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Qf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wu(t)}setAll(e){let t=Kt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=wu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Qf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Qf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ti(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(wu(this.value))}};function Ex(n){let e=[];return Ti(n.fields,(t,r)=>{let i=new Kt([t]);if(Qf(r)){let o=Ex(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new an(e)}var bn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,te.min(),te.min(),te.min(),Wt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,te.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,te.min(),te.min(),Wt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,te.min(),te.min(),Wt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var fa=class{constructor(e,t){this.position=e,this.inclusive=t}};function mP(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=K.comparator(K.fromName(s.referenceValue),t.key):r=da(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function yP(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!er(n.position[t],e.position[t]))return!1;return!0}var pa=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Z6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var op=class{},We=class n extends op{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new SI(e,t,r):t==="array-contains"?new NI(e,r):t==="in"?new MI(e,r):t==="not-in"?new PI(e,r):t==="array-contains-any"?new xI(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new AI(e,r):new RI(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(da(t,this.value)):t!==null&&Ii(this.value)===Ii(t)&&this.matchesComparison(da(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Cn=class n extends op{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return Ix(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function Ix(n){return n.op==="and"}function wx(n){return J6(n)&&Ix(n)}function J6(n){for(let e of n.filters)if(e instanceof Cn)return!1;return!0}function CI(n){if(n instanceof We)return n.field.canonicalString()+n.op.toString()+ha(n.value);if(wx(n))return n.filters.map(e=>CI(e)).join(",");{let e=n.filters.map(t=>CI(t)).join(",");return`${n.op}(${e})`}}function Dx(n,e){return n instanceof We?function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&er(r.value,i.value)}(n,e):n instanceof Cn?function(r,i){return i instanceof Cn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Dx(s,i.filters[a]),!0):!1}(n,e):void Q(19439)}function Tx(n){return n instanceof We?function(t){return`${t.field.canonicalString()} ${t.op} ${ha(t.value)}`}(n):n instanceof Cn?function(t){return t.op.toString()+" {"+t.getFilters().map(Tx).join(" ,")+"}"}(n):"Filter"}var SI=class extends We{constructor(e,t,r){super(e,t,r),this.key=K.fromName(r.referenceValue)}matches(e){let t=K.comparator(e.key,this.key);return this.matchesComparison(t)}},AI=class extends We{constructor(e,t){super(e,"in",t),this.keys=bx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},RI=class extends We{constructor(e,t){super(e,"not-in",t),this.keys=bx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function bx(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>K.fromName(r.referenceValue))}var NI=class extends We{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return oD(t)&&Ru(t.arrayValue,this.value)}},MI=class extends We{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Ru(this.value.arrayValue,t)}},PI=class extends We{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ru(this.value.arrayValue,t)}},xI=class extends We{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!oD(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ru(this.value.arrayValue,r))}};var kI=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function vP(n,e=null,t=[],r=[],i=null,o=null,s=null){return new kI(n,e,t,r,i,o,s)}function sD(n){let e=Z(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>CI(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),kp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ha(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ha(r)).join(",")),e.Ie=t}return e.Ie}function aD(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Z6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Dx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!yP(n.startAt,e.startAt)&&yP(n.endAt,e.endAt)}function OI(n){return K.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var To=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function X6(n,e,t,r,i,o,s,a){return new To(n,e,t,r,i,o,s,a)}function Fp(n){return new To(n)}function _P(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Cx(n){return n.collectionGroup!==null}function Du(n){let e=Z(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new rt(Kt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new pa(o,r))}),t.has(Kt.keyField().canonicalString())||e.Ee.push(new pa(Kt.keyField(),r))}return e.Ee}function Zn(n){let e=Z(n);return e.de||(e.de=eG(e,Du(n))),e.de}function eG(n,e){if(n.limitType==="F")return vP(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new pa(i.field,o)});let t=n.endAt?new fa(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new fa(n.startAt.position,n.startAt.inclusive):null;return vP(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function FI(n,e){let t=n.filters.concat([e]);return new To(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function LI(n,e,t){return new To(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Lp(n,e){return aD(Zn(n),Zn(e))&&n.limitType===e.limitType}function Sx(n){return`${sD(Zn(n))}|lt:${n.limitType}`}function na(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Tx(i)).join(", ")}]`),kp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ha(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ha(i)).join(",")),`Target(${r})`}(Zn(n))}; limitType=${n.limitType})`}function Vp(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):K.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Du(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=mP(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Du(r),i)||r.endAt&&!function(s,a,u){let l=mP(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Du(r),i))}(n,e)}function tG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Ax(n){return(e,t)=>{let r=!1;for(let i of Du(n)){let o=nG(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function nG(n,e,t){let r=n.field.isKeyField()?K.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?da(u,l):Q(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Q(19790,{direction:n.dir})}}var Mr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ti(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return hx(this.inner)}size(){return this.innerSize}};var rG=new Ve(K.comparator);function Pr(){return rG}var Rx=new Ve(K.comparator);function Iu(...n){let e=Rx;for(let t of n)e=e.insert(t.key,t);return e}function Nx(n){let e=Rx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function _o(){return Tu()}function Mx(){return Tu()}function Tu(){return new Mr(n=>n.toString(),(n,e)=>n.isEqual(e))}var iG=new Ve(K.comparator),oG=new rt(K.comparator);function fe(...n){let e=oG;for(let t of n)e=e.add(t);return e}var sG=new rt(de);function aG(){return sG}function cD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Su(e)?"-0":e}}function Px(n){return{integerValue:""+n}}function xx(n,e){return L6(e)?Px(e):cD(n,e)}var ga=class{constructor(){this._=void 0}};function cG(n,e,t){return n instanceof bo?function(i,o){let s={fields:{[px]:{stringValue:fx},[mx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&nD(o)&&(o=Op(o)),o&&(s.fields[gx]=o),{mapValue:s}}(t,e):n instanceof Co?Ox(n,e):n instanceof So?Fx(n,e):function(i,o){let s=kx(i,o),a=EP(s)+EP(i.Re);return bI(s)&&bI(i.Re)?Px(a):cD(i.serializer,a)}(n,e)}function uG(n,e,t){return n instanceof Co?Ox(n,e):n instanceof So?Fx(n,e):t}function kx(n,e){return n instanceof Ao?function(r){return bI(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var bo=class extends ga{},Co=class extends ga{constructor(e){super(),this.elements=e}};function Ox(n,e){let t=Lx(e);for(let r of n.elements)t.some(i=>er(i,r))||t.push(r);return{arrayValue:{values:t}}}var So=class extends ga{constructor(e){super(),this.elements=e}};function Fx(n,e){let t=Lx(e);for(let r of n.elements)t=t.filter(i=>!er(i,r));return{arrayValue:{values:t}}}var Ao=class extends ga{constructor(e,t){super(),this.serializer=e,this.Re=t}};function EP(n){return Re(n.integerValue||n.doubleValue)}function Lx(n){return oD(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var sp=class{constructor(e,t){this.field=e,this.transform=t}};function lG(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Co&&i instanceof Co||r instanceof So&&i instanceof So?ua(r.elements,i.elements,er):r instanceof Ao&&i instanceof Ao?er(r.Re,i.Re):r instanceof bo&&i instanceof bo}(n.transform,e.transform)}var VI=class{constructor(e,t){this.version=e,this.transformResults=t}},Jn=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Yf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ma=class{};function Vx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Nu(n.key,Jn.none()):new Ro(n.key,n.data,Jn.none());{let t=n.data,r=Wt.empty(),i=new rt(Kt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new tr(n.key,r,new an(i.toArray()),Jn.none())}}function dG(n,e,t){n instanceof Ro?function(i,o,s){let a=i.value.clone(),u=wP(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof tr?function(i,o,s){if(!Yf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=wP(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(jx(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function bu(n,e,t,r){return n instanceof Ro?function(o,s,a,u){if(!Yf(o.precondition,s))return a;let l=o.value.clone(),h=DP(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof tr?function(o,s,a,u){if(!Yf(o.precondition,s))return a;let l=DP(o.fieldTransforms,u,s),h=s.data;return h.setAll(jx(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Yf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function hG(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=kx(r.transform,i||null);o!=null&&(t===null&&(t=Wt.empty()),t.set(r.field,o))}return t||null}function IP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ua(r,i,(o,s)=>lG(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ro=class extends ma{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},tr=class extends ma{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function jx(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function wP(n,e,t){let r=new Map;Ie(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,uG(s,a,t[i]))}return r}function DP(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,cG(o,s,e))}return r}var Nu=class extends ma{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},jI=class extends ma{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var UI=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&dG(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=bu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=bu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=Mx();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=Vx(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fe())}isEqual(e){return this.batchId===e.batchId&&ua(this.mutations,e.mutations,(t,r)=>IP(t,r))&&ua(this.baseMutations,e.baseMutations,(t,r)=>IP(t,r))}},BI=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ie(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return iG}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var $I=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var HI=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var qe,pe;function fG(n){switch(n){case P.OK:return Q(64938);case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return Q(15467,{code:n})}}function Ux(n){if(n===void 0)return Ar("GRPC error has no .code"),P.UNKNOWN;switch(n){case qe.OK:return P.OK;case qe.CANCELLED:return P.CANCELLED;case qe.UNKNOWN:return P.UNKNOWN;case qe.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case qe.INTERNAL:return P.INTERNAL;case qe.UNAVAILABLE:return P.UNAVAILABLE;case qe.UNAUTHENTICATED:return P.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case qe.NOT_FOUND:return P.NOT_FOUND;case qe.ALREADY_EXISTS:return P.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return P.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case qe.ABORTED:return P.ABORTED;case qe.OUT_OF_RANGE:return P.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return P.UNIMPLEMENTED;case qe.DATA_LOSS:return P.DATA_LOSS;default:return Q(39323,{code:n})}}(pe=qe||(qe={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";var TP=null;var pG=new Cr([4294967295,4294967295],0);function bP(n){let e=ZP().encode(n),t=new iI;return t.update(e),new Uint8Array(t.digest())}function CP(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Cr([t,r],0),new Cr([i,o],0)]}var zI=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Eo(`Invalid padding: ${t}`);if(r<0)throw new Eo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Eo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Eo(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Cr.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Cr.fromNumber(r)));return i.compare(pG)===1&&(i=new Cr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=bP(e),[r,i]=CP(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=bP(e),[r,i]=CP(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Eo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ap=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Mu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(te.min(),i,new Ve(de),Pr(),fe())}},Mu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,fe(),fe(),fe())}};var sa=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},cp=class{constructor(e,t){this.targetId=e,this.Ce=t}},up=class{constructor(e,t,r=Et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},lp=class{constructor(){this.Fe=0,this.Me=SP(),this.xe=Et.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=fe(),t=fe(),r=fe();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Q(38017,{changeType:o})}}),new Mu(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=SP()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ie(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},qI=class{constructor(e){this.ze=e,this.je=new Map,this.He=Pr(),this.Je=Gf(),this.Ye=Gf(),this.Ze=new Ve(de)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(OI(o))if(r===0){let s=new K(o.path);this.tt(t,s,bn.newNoDocument(s,te.min()))}else Ie(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),u=a?this.lt(a,e,s):1;if(u!==0){this.st(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}TP?.ht(function(h,p,g,m,w){var A,R,k,z,q,ye;let it={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},ve=p.unchangedNames;return ve&&(it.bloomFilter={applied:w===0,hashCount:(A=ve?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(z=(k=(R=ve?.bits)===null||R===void 0?void 0:R.bitmap)===null||k===void 0?void 0:k.length)!==null&&z!==void 0?z:0,padding:(ye=(q=ve?.bits)===null||q===void 0?void 0:q.padding)!==null&&ye!==void 0?ye:0,mightContain:T=>{var _;return(_=m?.mightContain(T))!==null&&_!==void 0&&_}}),it}(s,e.Ce,this.ze.Pt(),a,u))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Nr(r).toUint8Array()}catch(u){if(u instanceof np)return ca("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new zI(s,i,o)}catch(u){return ca(u instanceof Eo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&OI(a.target)){let u=new K(a.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,bn.newNoDocument(u,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=fe();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new ap(e,t,this.Ze,this.He,r);return this.He=Pr(),this.Je=Gf(),this.Ye=Gf(),this.Ze=new Ve(de),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new lp,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new rt(de),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new rt(de),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||B("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new lp),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function Gf(){return new Ve(K.comparator)}function SP(){return new Ve(K.comparator)}var gG={asc:"ASCENDING",desc:"DESCENDING"},mG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yG={and:"AND",or:"OR"},GI=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function WI(n,e){return n.useProto3Json||kp(e)?e:{value:e}}function dp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function vG(n,e){return dp(n,e.toTimestamp())}function Xn(n){return Ie(!!n,49232),te.fromTimestamp(function(t){let r=Rr(t);return new at(r.seconds,r.nanos)}(n))}function uD(n,e){return KI(n,e).canonicalString()}function KI(n,e){let t=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function $x(n){let e=ke.fromString(n);return Ie(Wx(e),10190,{key:e.toString()}),e}function QI(n,e){return uD(n.databaseId,e.path)}function lI(n,e){let t=$x(e);if(t.get(1)!==n.databaseId.projectId)throw new $(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new K(zx(t))}function Hx(n,e){return uD(n.databaseId,e)}function _G(n){let e=$x(n);return e.length===4?ke.emptyPath():zx(e)}function YI(n){return new ke(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zx(n){return Ie(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function AP(n,e,t){return{name:QI(n,e),fields:t.value.mapValue.fields}}function EG(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ie(h===void 0||typeof h=="string",58123),Et.fromBase64String(h||"")):(Ie(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Et.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?P.UNKNOWN:Ux(l.code);return new $(h,l.message||"")}(s);t=new up(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=lI(n,r.document.name),o=Xn(r.document.updateTime),s=r.document.createTime?Xn(r.document.createTime):te.min(),a=new Wt({mapValue:{fields:r.document.fields}}),u=bn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new sa(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=lI(n,r.document),o=r.readTime?Xn(r.readTime):te.min(),s=bn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new sa([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=lI(n,r.document),o=r.removedTargetIds||[];t=new sa([],o,i,null)}else{if(!("filter"in e))return Q(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new HI(i,o),a=r.targetId;t=new cp(a,s)}}return t}function IG(n,e){let t;if(e instanceof Ro)t={update:AP(n,e.key,e.value)};else if(e instanceof Nu)t={delete:QI(n,e.key)};else if(e instanceof tr)t={update:AP(n,e.key,e.data),updateMask:NG(e.fieldMask)};else{if(!(e instanceof jI))return Q(16599,{ft:e.type});t={verify:QI(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof bo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Co)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof So)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ao)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw Q(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:vG(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q(27497)}(n,e.precondition)),t}function wG(n,e){return n&&n.length>0?(Ie(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?Xn(i.updateTime):Xn(o);return s.isEqual(te.min())&&(s=Xn(o)),new VI(s,i.transformResults||[])}(t,e))):[]}function DG(n,e){return{documents:[Hx(n,e.path)]}}function TG(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Hx(n,i);let o=function(l){if(l.length!==0)return Gx(Cn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:ra(g.field),direction:SG(g.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=WI(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:t,parent:i}}function bG(n){let e=_G(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ie(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let g=qx(p);return g instanceof Cn&&wx(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(g=>function(w){return new pa(ia(w.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,kp(g)?null:g}(t.limit));let u=null;t.startAt&&(u=function(p){let g=!!p.before,m=p.values||[];return new fa(m,g)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let g=!p.before,m=p.values||[];return new fa(m,g)}(t.endAt)),X6(e,i,s,o,a,"F",u,l)}function CG(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function qx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=ia(t.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ia(t.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ia(t.unaryFilter.field);return We.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ia(t.unaryFilter.field);return We.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(n):n.fieldFilter!==void 0?function(t){return We.create(ia(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Cn.create(t.compositeFilter.filters.map(r=>qx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(t.compositeFilter.op))}(n):Q(30097,{filter:n})}function SG(n){return gG[n]}function AG(n){return mG[n]}function RG(n){return yG[n]}function ra(n){return{fieldPath:n.canonicalString()}}function ia(n){return Kt.fromServerFormat(n.fieldPath)}function Gx(n){return n instanceof We?function(t){if(t.op==="=="){if(gP(t.value))return{unaryFilter:{field:ra(t.field),op:"IS_NAN"}};if(pP(t.value))return{unaryFilter:{field:ra(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(gP(t.value))return{unaryFilter:{field:ra(t.field),op:"IS_NOT_NAN"}};if(pP(t.value))return{unaryFilter:{field:ra(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ra(t.field),op:AG(t.op),value:t.value}}}(n):n instanceof Cn?function(t){let r=t.getFilters().map(i=>Gx(i));return r.length===1?r[0]:{compositeFilter:{op:RG(t.op),filters:r}}}(n):Q(54877,{filter:n})}function NG(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Wx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Pu=class n{constructor(e,t,r,i,o=te.min(),s=te.min(),a=Et.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var ZI=class{constructor(e){this.wt=e}};function MG(n){let e=bG({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?LI(e,e.limit,"L"):e}var hp=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Re(e.integerValue));else if("doubleValue"in e){let r=Re(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),Su(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=Rr(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Nr(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?_x(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):vx(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):Q(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=la,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(Re(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),K.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};hp.Wt=new hp;var JI=class{constructor(){this.Cn=new XI}addToCollectionParentIndex(e,t){return this.Cn.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(Do.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(Do.min())}updateCollectionGroup(e,t,r){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},XI=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new rt(ke.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rt(ke.comparator)).toArray()}};var Eie=new Uint8Array(0);var RP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kx=41943040,sn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(Kx,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);var xu=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var NP="LruGarbageCollector",PG=1048576;function MP([n,e],[t,r]){let i=de(n,t);return i===0?de(e,r):i}var ew=class{constructor(e){this.Er=e,this.buffer=new rt(MP),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();MP(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},tw=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){B(NP,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){wa(t)?B(NP,"Ignoring IndexedDB error during garbage collection: ",t):yield Ia(t)}yield this.mr(3e5)}))}},nw=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return x.resolve(eD.le);let r=new ew(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(RP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RP):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),ta()<=he.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function xG(n,e){return new nw(n,e)}var rw=class{constructor(){this.changes=new Mr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?x.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var iw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var ow=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&bu(r.mutation,i,an.empty(),at.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=fe()){let i=_o();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Iu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=_o();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,fe()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Pr(),s=Tu(),a=function(){return Tu()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof tr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),bu(h.mutation,l,h.mutation.getFieldMask(),at.now())):s.set(l.key,an.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new iw(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Tu(),i=new Ve((s,a)=>s-a),o=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||an.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||fe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=Mx();h.forEach(g=>{if(!o.has(g)){let m=Vx(t.get(g),r.get(g));m!==null&&p.set(g,m),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return K.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Cx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):x.resolve(_o()),a=Cu,u=o;return s.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,fe())).next(h=>({batchId:a,changes:Nx(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new K(t)).next(r=>{let i=Iu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Iu();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,u=>{let l=function(p,g){return new To(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,bn.newInvalidDocument(h)))});let a=Iu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&bu(h.mutation,l,an.empty(),at.now()),Vp(t,l)&&(a=a.insert(u,l))}),a})}};var sw=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return x.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Xn(i.createTime)}}(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:MG(i.bundledQuery),readTime:Xn(i.readTime)}}(t)),x.resolve()}};var aw=class{constructor(){this.overlays=new Ve(K.comparator),this.Qr=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let r=_o();return x.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),x.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),x.resolve()}getOverlaysForCollection(e,t,r){let i=_o(),o=t.length+1,s=new K(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ve((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=_o(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=_o(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new $I(t,r));let o=this.Qr.get(t);o===void 0&&(o=fe(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}};var cw=class{constructor(){this.sessionToken=Et.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,x.resolve()}};var ku=class{constructor(){this.$r=new rt(Ge.Ur),this.Kr=new rt(Ge.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let r=new Ge(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Ge(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){let t=new K(new ke([])),r=new Ge(t,e),i=new Ge(t,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new K(new ke([])),r=new Ge(t,e),i=new Ge(t,e+1),o=fe();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ge(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ge=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return K.comparator(e.key,t.key)||de(e.Zr,t.Zr)}static Wr(e,t){return de(e.Zr,t.Zr)||K.comparator(e.key,t.key)}};var uw=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new rt(Ge.Ur)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new UI(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new Ge(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,t){return x.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ti(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?tD:this.nr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ge(t,0),i=new Ge(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rt(de);return t.forEach(i=>{let o=new Ge(i,0),s=new Ge(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),x.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;K.isDocumentKey(o)||(o=o.child(""));let s=new Ge(new K(o),0),a=new rt(de);return this.Xr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Zr)),!0)},s),x.resolve(this.ni(a))}ni(e){let t=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ie(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return x.forEach(t.mutations,i=>{let o=new Ge(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){let r=new Ge(t,0),i=this.Xr.firstAfterOrEqual(r);return x.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var lw=class{constructor(e){this.ii=e,this.docs=function(){return new Ve(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return x.resolve(r?r.document.mutableCopy():bn.newInvalidDocument(t))}getEntries(e,t){let r=Pr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():bn.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Pr(),s=t.path,a=new K(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||k6(x6(h),r)<=0||(i.has(h.key)||Vp(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Q(9500)}si(e,t){return x.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new dw(this)}getSize(e){return x.resolve(this.size)}},dw=class extends rw{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),x.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var hw=class{constructor(e){this.persistence=e,this.oi=new Mr(t=>sD(t),aD),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this._i=0,this.ai=new ku,this.targetCount=0,this.ui=xu.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),x.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new xu(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.Tr(t),x.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let r=this.oi.get(t)||null;return x.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),x.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),x.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ai.Yr(t);return x.resolve(r)}containsKey(e,t){return x.resolve(this.ai.containsKey(t))}};var fp=class{constructor(e,t){this.ci={},this.overlays={},this.li=new eD(0),this.hi=!1,this.hi=!0,this.Pi=new cw,this.referenceDelegate=e(this),this.Ti=new hw(this),this.indexManager=new JI,this.remoteDocumentCache=function(i){return new lw(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new ZI(t),this.Ei=new sw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new aw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new uw(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){B("MemoryPersistence","Starting transaction:",e);let i=new fw(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return x.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}},fw=class extends wI{constructor(e){super(),this.currentSequenceNumber=e}},pw=class n{constructor(e){this.persistence=e,this.Vi=new ku,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw Q(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),x.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),x.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.gi,r=>{let i=K.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,te.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return x.or([()=>x.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},pp=class n{constructor(e,t){this.persistence=e,this.yi=new Mr(r=>V6(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=xG(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return x.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return x.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?x.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,te.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),x.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),x.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kf(e.data.value)),t}Dr(e,t,r){return x.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.yi.get(t);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var gw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=fe(),i=fe();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var mw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var yw=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return SN()?8:F6(tt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ws(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new mw;return this.Ss(e,t,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,t,s,a.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(ta()<=he.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",na(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),x.resolve()):(ta()<=he.DEBUG&&B("QueryEngine","Query:",na(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(ta()<=he.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",na(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(t))):x.resolve())}ws(e,t){if(_P(t))return x.resolve(null);let r=Zn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=LI(t,null,"F"),r=Zn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=fe(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.vs(t,a);return this.Cs(t,l,s,u.readTime)?this.ws(e,LI(t,null,"F")):this.Fs(e,l,t,u)}))})))}bs(e,t,r,i){return _P(t)||i.isEqual(te.min())?x.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(t,o);return this.Cs(t,s,r,i)?x.resolve(null):(ta()<=he.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),na(t)),this.Fs(e,s,t,P6(i,Cu)).next(a=>a))})}vs(e,t){let r=new rt(Ax(e));return t.forEach((i,o)=>{Vp(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return ta()<=he.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",na(t)),this.ys.getDocumentsMatchingQuery(e,t,Do.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var lD="LocalStore",kG=3e8,vw=class{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new Ve(de),this.Os=new Mr(o=>sD(o),aD),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ow(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function OG(n,e,t,r){return new vw(n,e,t,r)}function Qx(n,e){return v(this,null,function*(){let t=Z(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=fe();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({ks:l,removedBatchIds:s,addedBatchIds:a}))})})})}function FG(n,e){let t=Z(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),m=x.resolve();return g.forEach(w=>{m=m.next(()=>h.getEntry(u,w)).next(A=>{let R=l.docVersions.get(w);Ie(R!==null,48541),A.version.compareTo(R)<0&&(p.applyToRemoteDocument(A,l),A.isValidDocument()&&(A.setReadTime(l.commitVersion),h.addEntry(A)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=fe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Yx(n){let e=Z(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function LG(n,e){let t=Z(n),r=e.snapshotVersion,i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ti.addMatchingKeys(o,h.addedDocuments,p)));let m=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(Et.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(p,m),function(A,R,k){return A.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=kG?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(g,m,h)&&a.push(t.Ti.updateTargetData(o,m))});let u=Pr(),l=fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(VG(o,s,e.documentUpdates).next(h=>{u=h.qs,l=h.Qs})),!r.isEqual(te.min())){let h=t.Ti.getLastRemoteSnapshotVersion(o).next(p=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.xs=i,o))}function VG(n,e,t){let r=fe(),i=fe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Pr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):B(lD,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{qs:s,Qs:i}})}function jG(n,e){let t=Z(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=tD),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function UG(n,e){let t=Z(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new Pu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}function _w(n,e,t){return v(this,null,function*(){let r=Z(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!wa(s))throw s;B(lD,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function PP(n,e,t){let r=Z(n),i=te.min(),o=fe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=Z(u),g=p.Os.get(h);return g!==void 0?x.resolve(p.xs.get(g)):p.Ti.getTargetData(l,h)}(r,s,Zn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:te.min(),t?o:fe())).next(a=>(BG(r,tG(e),a),{documents:a,$s:o})))}function BG(n,e,t){let r=n.Ns.get(e)||te.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}var gp=class{constructor(){this.activeTargetIds=aG()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Ew=class{constructor(){this.xo=new gp,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new gp,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Iw=class{No(e){}shutdown(){}};var xP="ConnectivityMonitor",mp=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){B(xP,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){B(xP,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Wf=null;function ww(){return Wf===null?Wf=function(){return 268435456+Math.round(2147483648*Math.random())}():Wf++,"0x"+Wf.toString(16)}var dI="RestConnection",$G={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Dw=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===rp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){let s=ww(),a=this.jo(e,t.toUriEncodedString());B(dI,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,o);let{host:l}=new URL(a),h=di(l);return this.Jo(e,a,u,r,h).then(p=>(B(dI,`Received RPC '${e}' ${s}: `,p),p),p=>{throw ca(dI,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,t,r,i,o,s){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ea}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){let r=$G[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}};var Tw=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var vt="WebChannelConnection",bw=class extends Dw{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=ww();return new Promise((a,u)=>{let l=new oI;l.setWithCredentials(!0),l.listenOnce(sI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Eu.NO_ERROR:let p=l.getResponseJson();B(vt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Eu.TIMEOUT:B(vt,`RPC '${e}' ${s} timed out`),u(new $(P.DEADLINE_EXCEEDED,"Request time out"));break;case Eu.HTTP_ERROR:let g=l.getStatus();if(B(vt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let w=m?.error;if(w&&w.status&&w.message){let A=function(k){let z=k.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(z)>=0?z:P.UNKNOWN}(w.status);u(new $(A,w.message))}else u(new $(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new $(P.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{h_:e,streamId:s,P_:l.getLastErrorCode(),T_:l.getLastError()})}}finally{B(vt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);B(vt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}I_(e,t,r){let i=ww(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=uI(),a=cI(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");B(vt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.E_(p);let g=!1,m=!1,w=new Tw({Zo:R=>{m?B(vt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(g||(B(vt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),B(vt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Xo:()=>p.close()}),A=(R,k,z)=>{R.listen(k,q=>{try{z(q)}catch(ye){setTimeout(()=>{throw ye},0)}})};return A(p,ea.EventType.OPEN,()=>{m||(B(vt,`RPC '${e}' stream ${i} transport opened.`),w.__())}),A(p,ea.EventType.CLOSE,()=>{m||(m=!0,B(vt,`RPC '${e}' stream ${i} transport closed`),w.u_(),this.d_(p))}),A(p,ea.EventType.ERROR,R=>{m||(m=!0,ca(vt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),w.u_(new $(P.UNAVAILABLE,"The operation could not be completed")))}),A(p,ea.EventType.MESSAGE,R=>{var k;if(!m){let z=R.data[0];Ie(!!z,16349);let q=z,ye=q?.error||((k=q[0])===null||k===void 0?void 0:k.error);if(ye){B(vt,`RPC '${e}' stream ${i} received error:`,ye);let it=ye.status,ve=function(I){let D=qe[I];if(D!==void 0)return Ux(D)}(it),T=ye.message;ve===void 0&&(ve=P.INTERNAL,T="Unknown error status: "+it+" with message "+ye.message),m=!0,w.u_(new $(ve,T)),p.close()}else B(vt,`RPC '${e}' stream ${i} received:`,z),w.c_(z)}}),A(a,aI.STAT_EVENT,R=>{R.stat===zf.PROXY?B(vt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===zf.NOPROXY&&B(vt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.a_()},0),w}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}};function hI(){return typeof document<"u"?document:null}function jp(n){return new GI(n,!0)}var yp=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();let t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}};var kP="PersistentStream",vp=class{constructor(e,t,r,i,o,s,a,u){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new yp(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}stop(){return v(this,null,function*(){this.O_()&&(yield this.close(0))})}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}q_(){return v(this,null,function*(){if(this.N_())return this.close(0)})}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}close(e,t){return v(this,null,function*(){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(Ar(t.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}W_(){}auth(){this.state=1;let e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{let i=new $(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){let r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(()=>v(this,null,function*(){this.state=0,this.start()}))}j_(e){return B(kP,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(B(kP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Cw=class extends vp{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();let t=EG(this.serializer,e),r=function(o){if(!("targetChange"in o))return te.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?Xn(s.readTime):te.min()}(e);return this.listener.Y_(t,r)}Z_(e){let t={};t.database=YI(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=OI(u)?{documents:DG(o,u)}:{query:TG(o,u).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Bx(o,s.resumeToken);let l=WI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(te.min())>0){a.readTime=dp(o,s.snapshotVersion.toTimestamp());let l=WI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=CG(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){let t={};t.database=YI(this.serializer),t.removeTarget=e,this.Q_(t)}},Sw=class extends vp{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();let t=wG(e.writeResults,e.commitTime),r=Xn(e.commitTime);return this.listener.ra(r,t)}ia(){let e={};e.database=YI(this.serializer),this.Q_(e)}ta(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>IG(this.serializer,r))};this.Q_(t)}};var Aw=class{},Rw=class extends Aw{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new $(P.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,KI(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(P.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,KI(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(P.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}},Nw=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ar(t),this.ua=!1):B("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}};var No="RemoteStore",Mw=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(s=>{r.enqueueAndForget(()=>v(this,null,function*(){xo(this)&&(B(No,"Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=Z(u);l.da.add(4),yield $u(l),l.Va.set("Unknown"),l.da.delete(4),yield Up(l)})}(this))}))}),this.Va=new Nw(r,i)}};function Up(n){return v(this,null,function*(){if(xo(n))for(let e of n.Aa)yield e(!0)})}function $u(n){return v(this,null,function*(){for(let e of n.Aa)yield e(!1)})}function Zx(n,e){let t=Z(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),pD(t)?fD(t):Da(t).N_()&&hD(t,e))}function dD(n,e){let t=Z(n),r=Da(t);t.Ea.delete(e),r.N_()&&Jx(t,e),t.Ea.size===0&&(r.N_()?r.k_():xo(t)&&t.Va.set("Unknown"))}function hD(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Da(n).Z_(e)}function Jx(n,e){n.ma.Ke(e),Da(n).X_(e)}function fD(n){n.ma=new qI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Da(n).start(),n.Va.ca()}function pD(n){return xo(n)&&!Da(n).O_()&&n.Ea.size>0}function xo(n){return Z(n).da.size===0}function Xx(n){n.ma=void 0}function HG(n){return v(this,null,function*(){n.Va.set("Online")})}function zG(n){return v(this,null,function*(){n.Ea.forEach((e,t)=>{hD(n,e)})})}function qG(n,e){return v(this,null,function*(){Xx(n),pD(n)?(n.Va.Pa(e),fD(n)):n.Va.set("Unknown")})}function GG(n,e,t){return v(this,null,function*(){if(n.Va.set("Online"),e instanceof up&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ea.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ea.delete(a),i.ma.removeTarget(a))})}(n,e)}catch(r){B(No,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield _p(n,r)}else if(e instanceof sa?n.ma.Xe(e):e instanceof cp?n.ma.ot(e):n.ma.nt(e),!t.isEqual(te.min()))try{let r=yield Yx(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.ma.It(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ea.get(l);h&&o.Ea.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ea.get(u);if(!h)return;o.Ea.set(u,h.withResumeToken(Et.EMPTY_BYTE_STRING,h.snapshotVersion)),Jx(o,u);let p=new Pu(h.target,u,l,h.sequenceNumber);hD(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){B(No,"Failed to raise snapshot:",r),yield _p(n,r)}})}function _p(n,e,t){return v(this,null,function*(){if(!wa(e))throw e;n.da.add(1),yield $u(n),n.Va.set("Offline"),t||(t=()=>Yx(n.localStore)),n.asyncQueue.enqueueRetryable(()=>v(null,null,function*(){B(No,"Retrying IndexedDB access"),yield t(),n.da.delete(1),yield Up(n)}))})}function ek(n,e){return e().catch(t=>_p(n,t,e))}function Bp(n){return v(this,null,function*(){let e=Z(n),t=wi(e),r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:tD;for(;WG(e);)try{let i=yield jG(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,KG(e,i)}catch(i){yield _p(e,i)}tk(e)&&nk(e)})}function WG(n){return xo(n)&&n.Ia.length<10}function KG(n,e){n.Ia.push(e);let t=wi(n);t.N_()&&t.ea&&t.ta(e.mutations)}function tk(n){return xo(n)&&!wi(n).O_()&&n.Ia.length>0}function nk(n){wi(n).start()}function QG(n){return v(this,null,function*(){wi(n).ia()})}function YG(n){return v(this,null,function*(){let e=wi(n);for(let t of n.Ia)e.ta(t.mutations)})}function ZG(n,e,t){return v(this,null,function*(){let r=n.Ia.shift(),i=BI.from(r,e,t);yield ek(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Bp(n)})}function JG(n,e){return v(this,null,function*(){e&&wi(n).ea&&(yield function(r,i){return v(this,null,function*(){if(function(s){return fG(s)&&s!==P.ABORTED}(i.code)){let o=r.Ia.shift();wi(r).L_(),yield ek(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Bp(r)}})}(n,e)),tk(n)&&nk(n)})}function OP(n,e){return v(this,null,function*(){let t=Z(n);t.asyncQueue.verifyOperationInProgress(),B(No,"RemoteStore received new credentials");let r=xo(t);t.da.add(3),yield $u(t),r&&t.Va.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),yield Up(t)})}function XG(n,e){return v(this,null,function*(){let t=Z(n);e?(t.da.delete(2),yield Up(t)):e||(t.da.add(2),yield $u(t),t.Va.set("Unknown"))})}function Da(n){return n.fa||(n.fa=function(t,r,i){let o=Z(t);return o.oa(),new Cw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:HG.bind(null,n),n_:zG.bind(null,n),i_:qG.bind(null,n),Y_:GG.bind(null,n)}),n.Aa.push(e=>v(null,null,function*(){e?(n.fa.L_(),pD(n)?fD(n):n.Va.set("Unknown")):(yield n.fa.stop(),Xx(n))}))),n.fa}function wi(n){return n.ga||(n.ga=function(t,r,i){let o=Z(t);return o.oa(),new Sw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:QG.bind(null,n),i_:JG.bind(null,n),na:YG.bind(null,n),ra:ZG.bind(null,n)}),n.Aa.push(e=>v(null,null,function*(){e?(n.ga.L_(),yield Bp(n)):(yield n.ga.stop(),n.Ia.length>0&&(B(No,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))}))),n.ga}var Pw=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Tn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function gD(n,e){if(Ar("AsyncQueue",`${e}: ${n}`),wa(n))return new $(P.UNAVAILABLE,`${e}: ${n}`);throw n}var Ep=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||K.comparator(t.key,r.key):(t,r)=>K.comparator(t.key,r.key),this.keyedMap=Iu(),this.sortedSet=new Ve(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Ip=class{constructor(){this.pa=new Ve(K.comparator)}track(e){let t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Q(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){let e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}},ya=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Ep.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var xw=class{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}},kw=class{constructor(){this.queries=FP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=Z(t),o=i.queries;i.queries=FP(),o.forEach((s,a)=>{for(let u of a.Sa)u.onError(r)})})(this,new $(P.ABORTED,"Firestore shutting down"))}};function FP(){return new Mr(n=>Sx(n),Lp)}function mD(n,e){return v(this,null,function*(){let t=Z(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new xw,r=e.va()?0:1);try{switch(r){case 0:o.ba=yield t.onListen(i,!0);break;case 1:o.ba=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=gD(s,`Initialization of query '${na(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&vD(t)})}function yD(n,e){return v(this,null,function*(){let t=Z(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function e9(n,e){let t=Z(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.Sa)a.Ma(i)&&(r=!0);s.ba=i}}r&&vD(t)}function t9(n,e,t){let r=Z(n),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(t);r.queries.delete(e)}function vD(n){n.Ca.forEach(e=>{e.next()})}var Ow,LP;(LP=Ow||(Ow={})).xa="default",LP.Cache="cache";var Ou=class{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ya(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;let r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;let t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Ow.Cache}};var wp=class{constructor(e){this.key=e}},Dp=class{constructor(e){this.key=e}},Fw=class{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=fe(),this.mutatedKeys=fe(),this.Za=Ax(e),this.Xa=new Ep(this.Za)}get eu(){return this.Ha}tu(e,t){let r=t?t.nu:new Ip,i=t?t.Xa:this.Xa,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),m=Vp(this.query,p)?p:null,w=!!g&&this.mutatedKeys.has(g.key),A=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),R=!1;g&&m?g.data.isEqual(m.data)?w!==A&&(r.track({type:3,doc:m}),R=!0):this.ru(g,m)||(r.track({type:2,doc:m}),R=!0,(u&&this.Za(m,u)>0||l&&this.Za(m,l)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),R=!0):g&&!m&&(r.track({type:1,doc:g}),R=!0,(u||l)&&(a=!0)),R&&(m?(s=s.add(m),o=A?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Xa:s,nu:r,Cs:a,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;let s=e.nu.wa();s.sort((h,p)=>function(m,w){let A=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{Vt:R})}};return A(m)-A(w)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),i=i!=null&&i;let a=t&&!i?this.su():[],u=this.Ya.size===0&&this.current&&!i?1:0,l=u!==this.Ja;return this.Ja=u,s.length!==0||l?{snapshot:new ya(this.query,e.Xa,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Ip,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];let e=this.Ya;this.Ya=fe(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});let t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new Dp(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new wp(r))}),t}au(e){this.Ha=e.$s,this.Ya=fe();let t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return ya.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}},_D="SyncEngine",Lw=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Vw=class{constructor(e){this.key=e,this.cu=!1}},jw=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new Mr(a=>Sx(a),Lp),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ve(K.comparator),this.Eu=new Map,this.du=new ku,this.Au={},this.Ru=new Map,this.Vu=xu.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}};function n9(n,e,t=!0){return v(this,null,function*(){let r=ck(n),i,o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=yield rk(r,e,t,!0),i})}function r9(n,e){return v(this,null,function*(){let t=ck(n);yield rk(t,e,!0,!1)})}function rk(n,e,t,r){return v(this,null,function*(){let i=yield UG(n.localStore,Zn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield i9(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&Zx(n.remoteStore,i),a})}function i9(n,e,t,r,i){return v(this,null,function*(){n.fu=(p,g,m)=>function(A,R,k,z){return v(this,null,function*(){let q=R.view.tu(k);q.Cs&&(q=yield PP(A.localStore,R.query,!1).then(({documents:T})=>R.view.tu(T,q)));let ye=z&&z.targetChanges.get(R.targetId),it=z&&z.targetMismatches.get(R.targetId)!=null,ve=R.view.applyChanges(q,A.isPrimaryClient,ye,it);return jP(A,R.targetId,ve.ou),ve.snapshot})}(n,p,g,m);let o=yield PP(n.localStore,e,!0),s=new Fw(e,o.$s),a=s.tu(o.documents),u=Mu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);jP(n,t,l.ou);let h=new Lw(e,t,s);return n.hu.set(e,h),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),l.snapshot})}function o9(n,e,t){return v(this,null,function*(){let r=Z(n),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!Lp(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield _w(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&dD(r.remoteStore,i.targetId),Uw(r,i.targetId)}).catch(Ia))):(Uw(r,i.targetId),yield _w(r.localStore,i.targetId,!0))})}function s9(n,e){return v(this,null,function*(){let t=Z(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),dD(t.remoteStore,r.targetId))})}function a9(n,e,t){return v(this,null,function*(){let r=p9(n);try{let i=yield function(s,a){let u=Z(s),l=at.now(),h=a.reduce((m,w)=>m.add(w.key),fe()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=Pr(),A=fe();return u.Bs.getEntries(m,h).next(R=>{w=R,w.forEach((k,z)=>{z.isValidDocument()||(A=A.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,w)).next(R=>{p=R;let k=[];for(let z of a){let q=hG(z,p.get(z.key).overlayedDocument);q!=null&&k.push(new tr(z.key,q,Ex(q.value.mapValue),Jn.exists(!0)))}return u.mutationQueue.addMutationBatch(m,l,k,a)}).next(R=>{g=R;let k=R.applyToLocalDocumentSet(p,A);return u.documentOverlayCache.saveOverlays(m,R.batchId,k)})}).then(()=>({batchId:g.batchId,changes:Nx(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Au[s.currentUser.toKey()];l||(l=new Ve(de)),l=l.insert(a,u),s.Au[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Hu(r,i.changes),yield Bp(r.remoteStore)}catch(i){let o=gD(i,"Failed to persist write");t.reject(o)}})}function ik(n,e){return v(this,null,function*(){let t=Z(n);try{let r=yield LG(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?Ie(s.cu,14607):i.removedDocuments.size>0&&(Ie(s.cu,42227),s.cu=!1))}),yield Hu(t,r,e)}catch(r){yield Ia(r)}})}function VP(n,e,t){let r=Z(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.hu.forEach((o,s)=>{let a=s.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=Z(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.Sa)g.Fa(a)&&(l=!0)}),l&&vD(u)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function c9(n,e,t){return v(this,null,function*(){let r=Z(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Ve(K.comparator);s=s.insert(o,bn.newNoDocument(o,te.min()));let a=fe().add(o),u=new ap(te.min(),new Map,new Ve(de),s,a);yield ik(r,u),r.Iu=r.Iu.remove(o),r.Eu.delete(e),ED(r)}else yield _w(r.localStore,e,!1).then(()=>Uw(r,e,t)).catch(Ia)})}function u9(n,e){return v(this,null,function*(){let t=Z(n),r=e.batch.batchId;try{let i=yield FG(t.localStore,e);sk(t,r,null),ok(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Hu(t,i)}catch(i){yield Ia(i)}})}function l9(n,e,t){return v(this,null,function*(){let r=Z(n);try{let i=yield function(s,a){let u=Z(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ie(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);sk(r,e,t),ok(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Hu(r,i)}catch(i){yield Ia(i)}})}function ok(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function sk(n,e,t){let r=Z(n),i=r.Au[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function Uw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||ak(n,r)})}function ak(n,e){n.Tu.delete(e.path.canonicalString());let t=n.Iu.get(e);t!==null&&(dD(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),ED(n))}function jP(n,e,t){for(let r of t)r instanceof wp?(n.du.addReference(r.key,e),d9(n,r)):r instanceof Dp?(B(_D,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||ak(n,r.key)):Q(19791,{pu:r})}function d9(n,e){let t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(B(_D,"New document in limbo: "+t),n.Tu.add(r),ED(n))}function ED(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){let e=n.Tu.values().next().value;n.Tu.delete(e);let t=new K(ke.fromString(e)),r=n.Vu.next();n.Eu.set(r,new Vw(t)),n.Iu=n.Iu.insert(t,r),Zx(n.remoteStore,new Pu(Zn(Fp(t.path)),r,"TargetPurposeLimboResolution",eD.le))}}function Hu(n,e,t){return v(this,null,function*(){let r=Z(n),i=[],o=[],s=[];r.hu.isEmpty()||(r.hu.forEach((a,u)=>{s.push(r.fu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=gw.Rs(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.lu.Y_(i),yield function(u,l){return v(this,null,function*(){let h=Z(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,g=>x.forEach(g.ds,m=>h.persistence.referenceDelegate.addReference(p,g.targetId,m)).next(()=>x.forEach(g.As,m=>h.persistence.referenceDelegate.removeReference(p,g.targetId,m)))))}catch(p){if(!wa(p))throw p;B(lD,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let m=h.xs.get(g),w=m.snapshotVersion,A=m.withLastLimboFreeSnapshotVersion(w);h.xs=h.xs.insert(g,A)}}})}(r.localStore,o))})}function h9(n,e){return v(this,null,function*(){let t=Z(n);if(!t.currentUser.isEqual(e)){B(_D,"User change. New user:",e.toKey());let r=yield Qx(t.localStore,e);t.currentUser=e,function(o,s){o.Ru.forEach(a=>{a.forEach(u=>{u.reject(new $(P.CANCELLED,s))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Hu(t,r.ks)}})}function f9(n,e){let t=Z(n),r=t.Eu.get(e);if(r&&r.cu)return fe().add(r.key);{let i=fe(),o=t.Pu.get(e);if(!o)return i;for(let s of o){let a=t.hu.get(s);i=i.unionWith(a.view.eu)}return i}}function ck(n){let e=Z(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ik.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=f9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=c9.bind(null,e),e.lu.Y_=e9.bind(null,e.eventManager),e.lu.gu=t9.bind(null,e.eventManager),e}function p9(n){let e=Z(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=l9.bind(null,e),e}var uk=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return v(this,null,function*(){this.serializer=jp(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),yield this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)})}vu(t,r){return null}Cu(t,r){return null}Du(t){return OG(this.persistence,new yw,t.initialUser,this.serializer)}Su(t){return new fp(pw.fi,this.serializer)}bu(t){return new Ew}terminate(){return v(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),Bw=class extends uk{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Ie(this.persistence.referenceDelegate instanceof pp,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new tw(r,e.asyncQueue,t)}Su(e){let t=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new fp(r=>pp.fi(r,t),this.serializer)}};var g9=(()=>{class n{initialize(t,r){return v(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>VP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=h9.bind(null,this.syncEngine),yield XG(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new kw}()}createDatastore(t){let r=jp(t.databaseInfo.databaseId),i=function(s){return new bw(s)}(t.databaseInfo);return function(s,a,u,l){return new Rw(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new Mw(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>VP(this.syncEngine,r,0),function(){return mp.C()?new mp:new Iw}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let g=new jw(o,s,a,u,l,h);return p&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var t,r;yield function(o){return v(this,null,function*(){let s=Z(o);B(No,"RemoteStore shutting down."),s.da.add(5),yield $u(s),s.Ra.shutdown(),s.Va.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Fu=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Di="FirestoreClient",$w=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=nt.UNAUTHENTICATED,this.clientId=Xf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){B(Di,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(B(Di,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Tn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=gD(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function fI(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),B(Di,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>v(null,null,function*(){r.isEqual(i)||(yield Qx(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function UP(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield m9(n);B(Di,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>OP(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>OP(e.remoteStore,i)),n._onlineComponents=e})}function m9(n){return v(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){B(Di,"Using user provided OfflineComponentProvider");try{yield fI(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ca("Error using user provided cache. Falling back to memory cache: "+t),yield fI(n,new uk)}}else B(Di,"Using default OfflineComponentProvider"),yield fI(n,new Bw(void 0));return n._offlineComponents})}function lk(n){return v(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(B(Di,"Using user provided OnlineComponentProvider"),yield UP(n,n._uninitializedComponentsProvider._online)):(B(Di,"Using default OnlineComponentProvider"),yield UP(n,new g9))),n._onlineComponents})}function y9(n){return lk(n).then(e=>e.syncEngine)}function Tp(n){return v(this,null,function*(){let e=yield lk(n),t=e.eventManager;return t.onListen=n9.bind(null,e.syncEngine),t.onUnlisten=o9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=r9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=s9.bind(null,e.syncEngine),t})}function v9(n,e,t={}){let r=new Tn;return n.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return function(o,s,a,u,l){let h=new Fu({next:g=>{h.xu(),s.enqueueAndForget(()=>yD(o,p));let m=g.docs.has(a);!m&&g.fromCache?l.reject(new $(P.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&u&&u.source==="server"?l.reject(new $(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new Ou(Fp(a.path),h,{includeMetadataChanges:!0,Qa:!0});return mD(o,p)}(yield Tp(n),n.asyncQueue,e,t,r)})),r.promise}function _9(n,e,t={}){let r=new Tn;return n.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return function(o,s,a,u,l){let h=new Fu({next:g=>{h.xu(),s.enqueueAndForget(()=>yD(o,p)),g.fromCache&&u.source==="server"?l.reject(new $(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new Ou(a,h,{includeMetadataChanges:!0,Qa:!0});return mD(o,p)}(yield Tp(n),n.asyncQueue,e,t,r)})),r.promise}function dk(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var BP=new Map;function hk(n,e,t){if(!t)throw new $(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function E9(n,e,t,r){if(e===!0&&r===!0)throw new $(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $P(n){if(!K.isDocumentKey(n))throw new $(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function HP(n){if(K.isDocumentKey(n))throw new $(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $p(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Q(12329,{type:typeof n})}function Lt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=$p(n);throw new $(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var fk="firestore.googleapis.com",zP=!0,bp=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fk,this.ssl=zP}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:zP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Kx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PG)throw new $(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}E9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},va=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new pI;switch(r.type){case"firstParty":return new vI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=BP.get(t);r&&(B("ComponentProvider","Removing Datastore"),BP.delete(t),r.terminate())}(this),Promise.resolve()}};function pk(n,e,t,r={}){var i;n=Lt(n,va);let o=di(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(cf(`https://${u}`),uf("Firestore",!0)),s.host!==fk&&s.host!==u&&ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Gn(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=nt.MOCK_USER;else{h=IN(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new $(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new nt(g)}n._authCredentials=new gI(new Zf(h,p))}}var Mo=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},_t=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Ei=class n extends Mo{constructor(e,t,r){super(e,t,Fp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new K(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function gk(n,e,...t){if(n=Ae(n),hk("collection","path",e),n instanceof va){let r=ke.fromString(e,...t);return HP(r),new Ei(n,null,r)}{if(!(n instanceof _t||n instanceof Ei))throw new $(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ke.fromString(e,...t));return HP(r),new Ei(n.firestore,null,r)}}function ID(n,e,...t){if(n=Ae(n),arguments.length===1&&(e=Xf.newId()),hk("doc","path",e),n instanceof va){let r=ke.fromString(e,...t);return $P(r),new _t(n,null,new K(r))}{if(!(n instanceof _t||n instanceof Ei))throw new $(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ke.fromString(e,...t));return $P(r),new _t(n.firestore,n instanceof Ei?n.converter:null,new K(r))}}var qP="AsyncQueue",Cp=class{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new yp(this,"async_queue_retry"),this.rc=()=>{let r=hI();r&&B(qP,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;let t=hI();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;let t=hI();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});let t=new Tn;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}ac(){return v(this,null,function*(){if(this.Ju.length!==0){try{yield this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!wa(e))throw e;B(qP,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}})}_c(e){let t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Ar("INTERNAL UNHANDLED ERROR: ",GP(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);let i=Pw.createAndSchedule(this,e,t,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&Q(47125,{cc:GP(this.Xu)})}verifyOperationInProgress(){}lc(){return v(this,null,function*(){let e;do e=this.sc,yield e;while(e!==this.sc)})}hc(e){for(let t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){let t=this.Zu.indexOf(e);this.Zu.splice(t,1)}};function GP(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function WP(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Sn=class extends va{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Cp,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Cp(e),this._firestoreClient=void 0,yield e}})}};function Hp(n,e){let t=typeof n=="object"?n:ho(),r=typeof n=="string"?n:e||rp,i=Gs(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=EN("firestore");o&&pk(i,...o)}return i}function zp(n){if(n._terminated)throw new $(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||I9(n),n._firestoreClient}function I9(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new DI(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,dk(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new $w(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var Lu=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Et.fromBase64String(e))}catch(t){throw new $(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var _a=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Po=class{constructor(e){this._methodName=e}};var Vu=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}};var ju=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var w9=/^__.*__$/,Hw=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new tr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ro(e,this.data,t,this.fieldTransforms)}},Sp=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new tr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function mk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{Ic:n})}}var zw=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Rp(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(mk(this.Ic)&&w9.test(e))throw this.gc('Document fields cannot begin and end with "__"')}},qw=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||jp(e)}bc(e,t,r,i=!1){return new zw({Ic:e,methodName:t,wc:r,path:Kt.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function qp(n){let e=n._freezeSettings(),t=jp(n._databaseId);return new qw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yk(n,e,t,r,i,o={}){let s=n.bc(o.merge||o.mergeFields?2:0,e,t,i);wD("Data must be an object, but it was:",s,r);let a=vk(r,s),u,l;if(o.merge)u=new an(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=Kw(e,p,t);if(!s.contains(g))throw new $(P.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Ek(h,g)||h.push(g)}u=new an(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Hw(new Wt(a),u,l)}var Ap=class n extends Po{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};var Gw=class n extends Po{_toFieldTransform(e){return new sp(e.path,new bo)}isEqual(e){return e instanceof n}};var Ww=class n extends Po{constructor(e,t){super(e),this.Dc=t}_toFieldTransform(e){let t=new Ao(e.serializer,xx(e.serializer,this.Dc));return new sp(e.path,t)}isEqual(e){return e instanceof n&&this.Dc===e.Dc}};function D9(n,e,t,r){let i=n.bc(1,e,t);wD("Data must be an object, but it was:",i,r);let o=[],s=Wt.empty();Ti(r,(u,l)=>{let h=DD(e,u,t);l=Ae(l);let p=i.mc(h);if(l instanceof Ap)o.push(h);else{let g=zu(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new an(o);return new Sp(s,a,i.fieldTransforms)}function T9(n,e,t,r,i,o){let s=n.bc(1,e,t),a=[Kw(e,r,t)],u=[i];if(o.length%2!=0)throw new $(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(Kw(e,o[g])),u.push(o[g+1]);let l=[],h=Wt.empty();for(let g=a.length-1;g>=0;--g)if(!Ek(l,a[g])){let m=a[g],w=u[g];w=Ae(w);let A=s.mc(m);if(w instanceof Ap)l.push(m);else{let R=zu(w,A);R!=null&&(l.push(m),h.set(m,R))}}let p=new an(l);return new Sp(h,p,s.fieldTransforms)}function b9(n,e,t,r=!1){return zu(t,n.bc(r?4:3,e))}function zu(n,e){if(_k(n=Ae(n)))return wD("Unsupported field value:",e,n),vk(n,e);if(n instanceof Po)return function(r,i){if(!mk(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=zu(a,i.fc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Ae(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xx(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=at.fromDate(r);return{timestampValue:dp(i.serializer,o)}}if(r instanceof at){let o=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dp(i.serializer,o)}}if(r instanceof Vu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Lu)return{bytesValue:Bx(i.serializer,r._byteString)};if(r instanceof _t){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:uD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ju)return function(s,a){return{mapValue:{fields:{[rD]:{stringValue:iD},[la]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.gc("VectorValues must only contain numeric values.");return cD(a.serializer,l)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${$p(r)}`)}(n,e)}function vk(n,e){let t={};return hx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ti(n,(r,i)=>{let o=zu(i,e.Ac(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function _k(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof at||n instanceof Vu||n instanceof Lu||n instanceof _t||n instanceof Po||n instanceof ju)}function wD(n,e,t){if(!_k(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=$p(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function Kw(n,e,t){if((e=Ae(e))instanceof _a)return e._internalPath;if(typeof e=="string")return DD(n,e);throw Rp("Field path arguments must be of type string or ",n,!1,void 0,t)}var C9=new RegExp("[~\\*/\\[\\]]");function DD(n,e,t){if(e.search(C9)>=0)throw Rp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _a(...e.split("."))._internalPath}catch{throw Rp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rp(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new $(P.INVALID_ARGUMENT,a+n+u)}function Ek(n,e){return n.some(t=>t.isEqual(e))}var Np=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Qw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(TD("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Qw=class extends Np{data(){return super.data()}};function TD(n,e){return typeof e=="string"?DD(n,e):e instanceof _a?e._internalPath:e._delegate._internalPath}function Ik(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new $(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Uu=class{},Yw=class extends Uu{};function wk(n,e,...t){let r=[];e instanceof Uu&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof Zw).length,a=o.filter(u=>u instanceof Mp).length;if(s>1||s>0&&a>0)throw new $(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Mp=class n extends Yw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return Tk(e._query,t),new Mo(e.firestore,e.converter,FI(e._query,t))}_parse(e){let t=qp(e.firestore);return function(o,s,a,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new $(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){QP(p,h);let w=[];for(let A of p)w.push(KP(u,o,A));g={arrayValue:{values:w}}}else g=KP(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||QP(p,h),g=b9(a,s,p,h==="in"||h==="not-in");return We.create(l,h,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function Dk(n,e,t){let r=e,i=TD("where",n);return Mp._create(i,r,t)}var Zw=class n extends Uu{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Cn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)Tk(s,u),s=FI(s,u)}(e._query,t),new Mo(e.firestore,e.converter,FI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function KP(n,e,t){if(typeof(t=Ae(t))=="string"){if(t==="")throw new $(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cx(e)&&t.indexOf("/")!==-1)throw new $(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(ke.fromString(t));if(!K.isDocumentKey(r))throw new $(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fP(n,new K(r))}if(t instanceof _t)return fP(n,t._key);throw new $(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$p(t)}.`)}function QP(n,e){if(!Array.isArray(n)||n.length===0)throw new $(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Tk(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new $(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Jw=class{convertValue(e,t="none"){switch(Ii(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ti(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[la].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Re(s.doubleValue));return new ju(o)}convertGeoPoint(e){return new Vu(Re(e.latitude),Re(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Op(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Au(e));default:return null}}convertTimestamp(e){let t=Rr(e);return new at(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ke.fromString(e);Ie(Wx(r),9688,{name:e});let i=new ip(r.get(1),r.get(3)),o=new K(r.popFirst(5));return i.isEqual(t)||Ar(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function bk(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Io=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Pp=class extends Np{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new aa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(TD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},aa=class extends Pp{data(e={}){return super.data(e)}},xp=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Io(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new aa(this._firestore,this._userDataWriter,r.key,r,new Io(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new aa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Io(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new aa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Io(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:S9(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function S9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:n})}}function Ck(n){n=Lt(n,_t);let e=Lt(n.firestore,Sn);return v9(zp(e),n._key).then(t=>Mk(e,n,t))}var Bu=class extends Jw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lu(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,t)}};function Sk(n){n=Lt(n,Mo);let e=Lt(n.firestore,Sn),t=zp(e),r=new Bu(e);return Ik(n._query),_9(t,n._query).then(i=>new xp(e,r,n,i))}function Ak(n,e,t){n=Lt(n,_t);let r=Lt(n.firestore,Sn),i=bk(n.converter,e,t);return Wp(r,[yk(qp(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Jn.none())])}function Rk(n,e,t,...r){n=Lt(n,_t);let i=Lt(n.firestore,Sn),o=qp(i),s;return s=typeof(e=Ae(e))=="string"||e instanceof _a?T9(o,"updateDoc",n._key,e,t,r):D9(o,"updateDoc",n._key,e),Wp(i,[s.toMutation(n._key,Jn.exists(!0))])}function Nk(n){return Wp(Lt(n.firestore,Sn),[new Nu(n._key,Jn.none())])}function Gp(n,e){let t=Lt(n.firestore,Sn),r=ID(n),i=bk(n.converter,e);return Wp(t,[yk(qp(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Jn.exists(!1))]).then(()=>r)}function bD(n,...e){var t,r,i;n=Ae(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||WP(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(WP(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof _t)l=Lt(n.firestore,Sn),h=Fp(n._key.path),u={next:p=>{e[s]&&e[s](Mk(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Lt(n,Mo);l=Lt(p.firestore,Sn),h=p._query;let g=new Bu(l);u={next:m=>{e[s]&&e[s](new xp(l,g,p,m))},error:e[s+1],complete:e[s+2]},Ik(n._query)}return function(g,m,w,A){let R=new Fu(A),k=new Ou(m,R,w);return g.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return mD(yield Tp(g),k)})),()=>{R.xu(),g.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return yD(yield Tp(g),k)}))}}(zp(l),h,a,u)}function Wp(n,e){return function(r,i){let o=new Tn;return r.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return a9(yield y9(r),i,o)})),o.promise}(zp(n),e)}function Mk(n,e,t){let r=t.docs.get(e._key),i=new Bu(n);return new Pp(n,i,e._key,r,new Io(t.hasPendingWrites,t.fromCache),e.converter)}function Pk(){return new Gw("serverTimestamp")}function xk(n){return new Ww("increment",n)}(function(e,t=!0){(function(i){Ea=i})(fi),In(new bt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Sn(new mI(r.getProvider("auth-internal")),new _I(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new $(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ip(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Le(rP,iP,e),Le(rP,iP,"esm2017")})();var Kp=function(){return Kp=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Kp.apply(this,arguments)};var N9={includeMetadataChanges:!1};function kk(n,e){return e===void 0&&(e=N9),new ne(function(t){var r=bD(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Ok(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Kp(Kp({},r),(t={},t[e.idField]=n.id,t))}function Fk(n){return kk(n,{includeMetadataChanges:!0}).pipe(X(function(e){return e.docs}))}function Lk(n,e){return e===void 0&&(e={}),Fk(n).pipe(X(function(t){return t.map(function(r){return Ok(r,e)})}))}var ko=class{constructor(e){return e}},Vk="firestore",CD=class{constructor(){return Js(Vk)}};var SD=new V("angularfire2.firestore-instances");function M9(n,e){let t=mu(Vk,n,e);return t&&new ko(t)}function P9(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ko(r)}}var x9={provide:CD,deps:[[new Tt,SD]]},k9={provide:ko,useFactory:M9,deps:[[new Tt,SD],br]};function Ooe(n,...e){return Le("angularfire",yi.full,"fst"),Bt([k9,x9,{provide:SD,useFactory:P9(n),multi:!0,deps:[ge,Ue,vi,yo,[new Tt,_u],[new Tt,Xs],...e]}])}var Foe=ze(Lk,!0);var Loe=ze(Gp,!0,2);var Qp=ze(gk,!0,2);var Voe=ze(Nk,!0,2);var Oo=ze(ID,!0,2);var Yp=ze(Ck,!0);var Zp=ze(Sk,!0);var joe=ze(Hp,!0);var jk=ze(xk,!0,2);var Jp=ze(wk,!0,2);var qu=ze(Ak,!0,2);var Gu=ze(Rk,!0,2);var Xp=ze(Dk,!0,2);var Uk=class n{constructor(e){this.firestore=e;eP(this._auth,t=>v(this,null,function*(){if(!t){this.userNameSubject.next(null),this.userRoleSubject.next(null);return}let r=t.uid,i=null;if(t.providerData[0]?.providerId==="google.com")i=t.displayName||t.email||null;else{let o=Oo(this.firestore,"usuarios",r),s=yield Yp(o);if(s.exists()){let a=s.data();i=a?.nombre||t.email||null,this.userRoleSubject.next(a?.role||"user")}}this.userNameSubject.next(i)}))}_auth=M(vo);roles="user";auth=gu();userNameSubject=new $e(null);userName$=this.userNameSubject.asObservable();userRoleSubject=new $e(null);userRole$=this.userRoleSubject.asObservable();loadUserRole(e,t){return v(this,null,function*(){let r=Oo(this.firestore,"usuarios",e),o=(yield Yp(r)).data();if(o){this.userRoleSubject.next(o?.role||"user");let s=o?.nombre;this.userNameSubject.next(s&&s.trim()!==""?s:"USUARIO"),console.log("Usuario encontrado en usuarios:",e,s)}else if(t){let s=Oo(this.firestore,"numeros",t),a=yield Yp(s);if(a.exists()){let l=a.data()?.nombre||"USUARIO";this.userNameSubject.next(l),this.userRoleSubject.next("user"),console.log("Nombre encontrado en numeros:",l),yield qu(r,{nombre:l,role:"user",telefono:t,creadoEn:new Date})}else yield qu(s,{telefono:t,nombre:"USUARIOW",creadoEn:new Date}),this.userNameSubject.next("USUARIOW"),this.userRoleSubject.next("user"),yield qu(r,{nombre:"USUARIOW",role:"user",telefono:t,creadoEn:new Date}),console.log("Nuevo documento creado en numeros con nombre USUARIOW")}})}incrementarIntentosPorEmail(e){return v(this,null,function*(){let t=Qp(this.firestore,"usuarios"),r=Jp(t,Xp("email","==",e)),i=yield Zp(r);if(i.empty)console.warn(`No se encontr\xF3 un usuario con el email: ${e}`);else{let o=i.docs[0],s=o.id,l=(o.data().intentos??0)+1;yield Gu(Oo(this.firestore,"usuarios",s),{intentos:l}),console.log(`Intentos para ${e}: ${l}`),l>=3&&alert("\xA1Este usuario ha superado el l\xEDmite de intentos!")}})}cambiarPassword(e,t){return v(this,null,function*(){try{let i=(yield pu(this._auth,e.email,e.password)).user;yield Lf(i,t),console.log("Contrase\xF1a actualizada correctamente.")}catch(r){throw console.error("Error al cambiar la contrase\xF1a:",r),r}})}updateUserName(e){let t=e?.displayName||e?.email||null;this.userNameSubject.next(t)}signUp(e){return v(this,null,function*(){let t=yield Ff(this._auth,e.email,e.password);return this.updateUserName(t.user),yield qu(Oo(this.firestore,"usuarios",t.user.uid),{email:e.email,nombre:e.nombre,telefono:"",intentos:0,role:this.roles||"user"}),yield this.loadUserRole(t.user.uid),t})}signIn(e){return v(this,null,function*(){let t=Qp(this.firestore,"usuarios"),r=Jp(t,Xp("email","==",e.email)),i=yield Zp(r);if(i.empty)throw new Error("Usuario no encontrado");let o=i.docs[0],s=o.data();if(s.intentos>=3)throw alert("Demasiados intentos, cambia tu clave para poder ingresar"),new Error("Demasiados intentos fallidos. Intenta m\xE1s tarde.");try{let a=yield pu(this._auth,e.email,e.password);yield Gu(o.ref,{intentos:0});let u=s.nombre||a.user.email||null;return this.userNameSubject.next(u),this.userRoleSubject.next(s.role||"user"),a}catch{throw yield Gu(o.ref,{intentos:jk(1),ultimoIntento:Pk()}),alert("datos incorrectos"),new Error("Correo o contrase\xF1a incorrectos")}})}signInWithGoogle(){return v(this,null,function*(){let e=new $E,t=yield Uf(this._auth,e),r=t.user;this.updateUserName(r),yield this.loadUserRole(r.uid);let i=Hp(),o=Qp(i,"usuarios"),s=Jp(o,Xp("email","==",r.email)),a=yield Zp(s);return a.empty?yield Gp(o,{uid:r.uid,email:r.email,nombre:r.displayName||"",intentos:0,telefono:""}):a.forEach(u=>v(this,null,function*(){let l=Oo(i,"usuarios",u.id);yield Gu(l,{intentos:0})})),t})}cerrarSesion(){return Vf(this._auth).then(()=>{this.userNameSubject.next(null),console.log("Sesi\xF3n cerrada correctamente.")}).catch(e=>{console.error("Error al cerrar sesi\xF3n:",e)})}getCurrentUser(){return new Promise(e=>{let t=this.auth.onAuthStateChanged(r=>{t(),e(r)})})}static \u0275fac=function(t){return new(t||n)(G(ko))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})};export{F9 as a,L9 as b,v as c,Fe as d,ne as e,qo as f,Ne as g,$e as h,W as i,Qo as j,tm as k,X as l,Ya as m,Yo as n,nm as o,r1 as p,cr as q,i1 as r,ur as s,zr as t,s1 as u,a1 as v,ql as w,om as x,st as y,j as z,Zt as A,V as B,G as C,M as D,O1 as E,Jt as F,VY as G,jY as H,Ln as I,Ue as J,bb as K,Me as L,ge as M,xn as N,gt as O,Zr as P,rv as Q,ov as R,jn as S,RL as T,NL as U,UY as V,BY as W,zi as X,fs as Y,H as Z,ei as _,I0 as $,tn as aa,Ee as ba,w0 as ca,mt as da,Qj as ea,Ts as fa,f2 as ga,Zd as ha,ZY as ia,JY as ja,XY as ka,eZ as la,tZ as ma,V0 as na,j0 as oa,Av as pa,U0 as qa,B0 as ra,N2 as sa,nZ as ta,Un as ua,rZ as va,iZ as wa,oZ as xa,V2 as ya,H0 as za,sZ as Aa,z0 as Ba,q0 as Ca,aZ as Da,cZ as Ea,U2 as Fa,G0 as Ga,$2 as Ha,uZ as Ia,H2 as Ja,nn as Ka,lZ as La,dZ as Ma,hZ as Na,fZ as Oa,pZ as Pa,ti as Qa,Mv as Ra,ni as Sa,Be as Ta,gU as Ua,cA as Va,mU as Wa,yU as Xa,_U as Ya,uA as Za,EU as _a,OU as $a,NA as ab,lB as bb,dB as cb,qn as db,g_ as eb,_n as fb,Hh as gb,B$ as hb,z$ as ib,q$ as jb,J$ as kb,WR as lb,LR as mb,Mte as nb,Pte as ob,IH as pb,Qc as qb,TH as rb,kte as sb,CH as tb,AH as ub,NH as vb,hN as wb,Ote as xb,Fte as yb,LH as zb,jH as Ab,Lte as Bb,Vte as Cb,jte as Db,Ire as Eb,wre as Fb,pu as Gb,Lf as Hb,qE as Ib,CE as Jb,LM as Kb,gu as Lb,eie as Mb,tie as Nb,gk as Ob,ID as Pb,Hp as Qb,wk as Rb,Dk as Sb,Sk as Tb,Rk as Ub,ko as Vb,Ooe as Wb,Foe as Xb,Loe as Yb,Qp as Zb,Voe as _b,Oo as $b,joe as ac,Gu as bc,Uk as cc};
