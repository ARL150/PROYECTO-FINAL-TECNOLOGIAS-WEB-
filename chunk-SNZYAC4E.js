var f1=Object.create;var Yg=Object.defineProperty,p1=Object.defineProperties,g1=Object.getOwnPropertyDescriptor,m1=Object.getOwnPropertyDescriptors,y1=Object.getOwnPropertyNames,cb=Object.getOwnPropertySymbols,lb=Object.getPrototypeOf,db=Object.prototype.hasOwnProperty,v1=Object.prototype.propertyIsEnumerable,_1=Reflect.get;var ub=(n,e,t)=>e in n?Yg(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,O=(n,e)=>{for(var t in e||={})db.call(e,t)&&ub(n,t,e[t]);if(cb)for(var t of cb(e))v1.call(e,t)&&ub(n,t,e[t]);return n},oe=(n,e)=>p1(n,m1(e));var Z9=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var E1=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of y1(e))!db.call(n,i)&&i!==t&&Yg(n,i,{get:()=>e[i],enumerable:!(r=g1(e,i))||r.enumerable});return n};var J9=(n,e,t)=>(t=n!=null?f1(lb(n)):{},E1(e||!n||!n.__esModule?Yg(t,"default",{value:n,enumerable:!0}):t,n));var Wr=(n,e,t)=>_1(lb(n),t,e);var v=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(l){i(l)}},s=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function em(n,e){return Object.is(n,e)}var Ye=null,bl=!1,tm=1,Rt=Symbol("SIGNAL");function ue(n){let e=Ye;return Ye=n,e}function nm(){return Ye}var Ko={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ec(n){if(bl)throw new Error("");if(Ye===null)return;Ye.consumerOnSignalRead(n);let e=Ye.nextProducerIndex++;if(Nl(Ye),e<Ye.producerNode.length&&Ye.producerNode[e]!==n&&Xa(Ye)){let t=Ye.producerNode[e];Rl(t,Ye.producerIndexOfThis[e])}Ye.producerNode[e]!==n&&(Ye.producerNode[e]=n,Ye.producerIndexOfThis[e]=Xa(Ye)?fb(n,Ye,e):0),Ye.producerLastReadVersion[e]=n.version}function hb(){tm++}function rm(n){if(!(Xa(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===tm)){if(!n.producerMustRecompute(n)&&!Al(n)){Xg(n);return}n.producerRecomputeValue(n),Xg(n)}}function im(n){if(n.liveConsumerNode===void 0)return;let e=bl;bl=!0;try{for(let t of n.liveConsumerNode)t.dirty||I1(t)}finally{bl=e}}function om(){return Ye?.consumerAllowSignalWrites!==!1}function I1(n){n.dirty=!0,im(n),n.consumerMarkedDirty?.(n)}function Xg(n){n.dirty=!1,n.lastCleanEpoch=tm}function tc(n){return n&&(n.nextProducerIndex=0),ue(n)}function Sl(n,e){if(ue(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Xa(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Rl(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Al(n){Nl(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(rm(t),r!==t.version))return!0}return!1}function nc(n){if(Nl(n),Xa(n))for(let e=0;e<n.producerNode.length;e++)Rl(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function fb(n,e,t){if(pb(n),n.liveConsumerNode.length===0&&gb(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=fb(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Rl(n,e){if(pb(n),n.liveConsumerNode.length===1&&gb(n))for(let r=0;r<n.producerNode.length;r++)Rl(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Nl(i),i.producerIndexOfThis[r]=e}}function Xa(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Nl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function pb(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function gb(n){return n.producerNode!==void 0}function Ml(n,e){let t=Object.create(w1);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(rm(t),ec(t),t.value===Cl)throw t.error;return t.value};return r[Rt]=t,r}var Zg=Symbol("UNSET"),Jg=Symbol("COMPUTING"),Cl=Symbol("ERRORED"),w1=oe(O({},Ko),{value:Zg,dirty:!0,error:null,equal:em,kind:"computed",producerMustRecompute(n){return n.value===Zg||n.value===Jg},producerRecomputeValue(n){if(n.value===Jg)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Jg;let t=tc(n),r,i=!1;try{r=n.computation(),ue(null),i=e!==Zg&&e!==Cl&&r!==Cl&&n.equal(e,r)}catch(o){r=Cl,n.error=o}finally{Sl(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function D1(){throw new Error}var mb=D1;function yb(n){mb(n)}function sm(n){mb=n}var T1=null;function am(n,e){let t=Object.create(Pl);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(ec(t),t.value);return r[Rt]=t,r}function rc(n,e){om()||yb(n),n.equal(n.value,e)||(n.value=e,b1(n))}function cm(n,e){om()||yb(n),rc(n,e(n.value))}var Pl=oe(O({},Ko),{equal:em,value:void 0,kind:"signal"});function b1(n){n.version++,hb(),im(n),T1?.()}function um(n){let e=ue(null);try{return n()}finally{ue(e)}}var lm;function ic(){return lm}function lr(n){let e=lm;return lm=n,e}var xl=Symbol("NotFound");function ee(n){return typeof n=="function"}function Qo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var kl=Qo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Fi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Le=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(o){e=o instanceof kl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{vb(o)}catch(s){e=e??[],s instanceof kl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new kl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)vb(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Fi(t,e)}remove(e){let{_finalizers:t}=this;t&&Fi(t,e),e instanceof n&&e._removeParent(this)}};Le.EMPTY=(()=>{let n=new Le;return n.closed=!0,n})();var dm=Le.EMPTY;function Ol(n){return n instanceof Le||n&&"closed"in n&&ee(n.remove)&&ee(n.add)&&ee(n.unsubscribe)}function vb(n){ee(n)?n():n.unsubscribe()}var hn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Yo={setTimeout(n,e,...t){let{delegate:r}=Yo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Yo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Fl(n){Yo.setTimeout(()=>{let{onUnhandledError:e}=hn;if(e)e(n);else throw n})}function Li(){}var _b=hm("C",void 0,void 0);function Eb(n){return hm("E",void 0,n)}function Ib(n){return hm("N",n,void 0)}function hm(n,e,t){return{kind:n,value:e,error:t}}var Vi=null;function Zo(n){if(hn.useDeprecatedSynchronousErrorHandling){let e=!Vi;if(e&&(Vi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Vi;if(Vi=null,t)throw r}}else n()}function wb(n){hn.useDeprecatedSynchronousErrorHandling&&Vi&&(Vi.errorThrown=!0,Vi.error=n)}var ji=class extends Le{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ol(e)&&e.add(this)):this.destination=M1}static create(e,t,r){return new dr(e,t,r)}next(e){this.isStopped?pm(Ib(e),this):this._next(e)}error(e){this.isStopped?pm(Eb(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?pm(_b,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},R1=Function.prototype.bind;function fm(n,e){return R1.call(n,e)}var gm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ll(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ll(r)}else Ll(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ll(t)}}},dr=class extends ji{constructor(e,t,r){super();let i;if(ee(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&hn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&fm(e.next,o),error:e.error&&fm(e.error,o),complete:e.complete&&fm(e.complete,o)}):i=e}this.destination=new gm(i)}};function Ll(n){hn.useDeprecatedSynchronousErrorHandling?wb(n):Fl(n)}function N1(n){throw n}function pm(n,e){let{onStoppedNotification:t}=hn;t&&Yo.setTimeout(()=>t(n,e))}var M1={closed:!0,next:Li,error:N1,complete:Li};var Jo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function zt(n){return n}function Vl(...n){return mm(n)}function mm(n){return n.length===0?zt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var J=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=x1(t)?t:new dr(t,r,i);return Zo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Db(r),new r((i,o)=>{let s=new dr({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Jo](){return this}pipe(...t){return mm(t)(this)}toPromise(t){return t=Db(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Db(n){var e;return(e=n??hn.Promise)!==null&&e!==void 0?e:Promise}function P1(n){return n&&ee(n.next)&&ee(n.error)&&ee(n.complete)}function x1(n){return n&&n instanceof ji||P1(n)&&Ol(n)}function ym(n){return ee(n?.lift)}function se(n){return e=>{if(ym(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function te(n,e,t,r,i){return new vm(n,e,t,r,i)}var vm=class extends ji{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Xo(){return se((n,e)=>{let t=null;n._refCount++;let r=te(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var es=class extends J{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ym(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Le;let t=this.getSubject();e.add(this.source.subscribe(te(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Le.EMPTY)}return e}refCount(){return Xo()(this)}};var Tb=Qo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ae=(()=>{class n extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new jl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Tb}next(t){Zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?dm:(this.currentObservers=null,o.push(t),new Le(()=>{this.currentObservers=null,Fi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new J;return t.source=this,t}}return n.create=(e,t)=>new jl(e,t),n})(),jl=class extends Ae{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:dm}};var He=class extends Ae{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var oc={now(){return(oc.delegate||Date).now()},delegate:void 0};var sc=class extends Ae{constructor(e=1/0,t=1/0,r=oc){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var Ul=class extends Le{constructor(e,t){super()}schedule(e,t=0){return this}};var ac={setInterval(n,e,...t){let{delegate:r}=ac;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ac;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ts=class extends Ul{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ac.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ac.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Fi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var ns=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};ns.now=oc.now;var rs=class extends ns{constructor(e,t=ns.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Kr=new rs(ts),_m=Kr;var Bl=class extends ts{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var $l=class extends rs{};var Em=new $l(Bl);var ft=new J(n=>n.complete());function Hl(n){return n&&ee(n.schedule)}function Im(n){return n[n.length-1]}function zl(n){return ee(Im(n))?n.pop():void 0}function Mn(n){return Hl(Im(n))?n.pop():void 0}function bb(n,e){return typeof Im(n)=="number"?n.pop():e}function ql(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Sb(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function c(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function Cb(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ui(n){return this instanceof Ui?(this.v=n,this):new Ui(n)}function Ab(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(w){return Promise.resolve(w).then(m,p)}}function a(m,w){r[m]&&(i[m]=function(A){return new Promise(function(R,k){o.push([m,A,R,k])>1||c(m,A)})},w&&(i[m]=w(i[m])))}function c(m,w){try{l(r[m](w))}catch(A){g(o[0][3],A)}}function l(m){m.value instanceof Ui?Promise.resolve(m.value.v).then(h,p):g(o[0][2],m)}function h(m){c("next",m)}function p(m){c("throw",m)}function g(m,w){m(w),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Rb(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Cb=="function"?Cb(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Gl=n=>n&&typeof n.length=="number"&&typeof n!="function";function Wl(n){return ee(n?.then)}function Kl(n){return ee(n[Jo])}function Ql(n){return Symbol.asyncIterator&&ee(n?.[Symbol.asyncIterator])}function Yl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function k1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Zl=k1();function Jl(n){return ee(n?.[Zl])}function Xl(n){return Ab(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ui(t.read());if(i)return yield Ui(void 0);yield yield Ui(r)}}finally{t.releaseLock()}})}function ed(n){return ee(n?.getReader)}function be(n){if(n instanceof J)return n;if(n!=null){if(Kl(n))return O1(n);if(Gl(n))return F1(n);if(Wl(n))return L1(n);if(Ql(n))return Nb(n);if(Jl(n))return V1(n);if(ed(n))return j1(n)}throw Yl(n)}function O1(n){return new J(e=>{let t=n[Jo]();if(ee(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function F1(n){return new J(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function L1(n){return new J(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Fl)})}function V1(n){return new J(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Nb(n){return new J(e=>{U1(n,e).catch(t=>e.error(t))})}function j1(n){return Nb(Xl(n))}function U1(n,e){var t,r,i,o;return Sb(this,void 0,void 0,function*(){try{for(t=Rb(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Nt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Qr(n,e=0){return se((t,r)=>{t.subscribe(te(r,i=>Nt(r,n,()=>r.next(i),e),()=>Nt(r,n,()=>r.complete(),e),i=>Nt(r,n,()=>r.error(i),e)))})}function Yr(n,e=0){return se((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Mb(n,e){return be(n).pipe(Yr(e),Qr(e))}function Pb(n,e){return be(n).pipe(Yr(e),Qr(e))}function xb(n,e){return new J(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function kb(n,e){return new J(t=>{let r;return Nt(t,e,()=>{r=n[Zl](),Nt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}function td(n,e){if(!n)throw new Error("Iterable cannot be null");return new J(t=>{Nt(t,e,()=>{let r=n[Symbol.asyncIterator]();Nt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Ob(n,e){return td(Xl(n),e)}function Fb(n,e){if(n!=null){if(Kl(n))return Mb(n,e);if(Gl(n))return xb(n,e);if(Wl(n))return Pb(n,e);if(Ql(n))return td(n,e);if(Jl(n))return kb(n,e);if(ed(n))return Ob(n,e)}throw Yl(n)}function Ie(n,e){return e?Fb(n,e):be(n)}function W(...n){let e=Mn(n);return Ie(n,e)}function is(n,e){let t=ee(n)?n:()=>n,r=i=>i.error(t());return new J(e?i=>e.schedule(r,0,i):r)}function wm(n){return!!n&&(n instanceof J||ee(n.lift)&&ee(n.subscribe))}var hr=Qo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Lb(n){return n instanceof Date&&!isNaN(n)}function ne(n,e){return se((t,r)=>{let i=0;t.subscribe(te(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:B1}=Array;function $1(n,e){return B1(e)?n(...e):n(e)}function nd(n){return ne(e=>$1(n,e))}var{isArray:H1}=Array,{getPrototypeOf:z1,prototype:q1,keys:G1}=Object;function rd(n){if(n.length===1){let e=n[0];if(H1(e))return{args:e,keys:null};if(W1(e)){let t=G1(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function W1(n){return n&&typeof n=="object"&&z1(n)===q1}function id(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function cc(...n){let e=Mn(n),t=zl(n),{args:r,keys:i}=rd(n);if(r.length===0)return Ie([],e);let o=new J(K1(r,e,i?s=>id(i,s):zt));return t?o.pipe(nd(t)):o}function K1(n,e,t=zt){return r=>{Vb(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Vb(e,()=>{let l=Ie(n[c],e),h=!1;l.subscribe(te(r,p=>{o[c]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Vb(n,e,t){n?Nt(t,n,e):e()}function jb(n,e,t,r,i,o,s,a){let c=[],l=0,h=0,p=!1,g=()=>{p&&!c.length&&!l&&e.complete()},m=A=>l<r?w(A):c.push(A),w=A=>{o&&e.next(A),l++;let R=!1;be(t(A,h++)).subscribe(te(e,k=>{i?.(k),o?m(k):e.next(k)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;c.length&&l<r;){let k=c.shift();s?Nt(e,s,()=>w(k)):w(k)}g()}catch(k){e.error(k)}}))};return n.subscribe(te(e,m,()=>{p=!0,g()})),()=>{a?.()}}function Ue(n,e,t=1/0){return ee(e)?Ue((r,i)=>ne((o,s)=>e(r,o,i,s))(be(n(r,i))),t):(typeof e=="number"&&(t=e),se((r,i)=>jb(r,i,n,t)))}function Pn(n=1/0){return Ue(zt,n)}function Ub(){return Pn(1)}function os(...n){return Ub()(Ie(n,Mn(n)))}function od(n){return new J(e=>{be(n()).subscribe(e)})}function Dm(...n){let e=zl(n),{args:t,keys:r}=rd(n),i=new J(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let h=0;h<s;h++){let p=!1;be(t[h]).subscribe(te(o,g=>{p||(p=!0,l--),a[h]=g},()=>c--,void 0,()=>{(!c||!p)&&(l||o.next(r?id(r,a):a),o.complete())}))}});return e?i.pipe(nd(e)):i}function Bb(n=0,e,t=_m){let r=-1;return e!=null&&(Hl(e)?t=e:r=e),new J(i=>{let o=Lb(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Q1(...n){let e=Mn(n),t=bb(n,1/0),r=n;return r.length?r.length===1?be(r[0]):Pn(t)(Ie(r,e)):ft}var Y1=new J(Li);function Xe(n,e){return se((t,r)=>{let i=0;t.subscribe(te(r,o=>n.call(e,o,i++)&&r.next(o)))})}function $b(n){return se((e,t)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let l=i;i=null,t.next(l)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(te(t,l=>{r=!0,i=l,o||be(n(l)).subscribe(o=te(t,a,c))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}function Z1(n,e=Kr){return $b(()=>Bb(n,e))}function fr(n){return se((e,t)=>{let r=null,i=!1,o;r=e.subscribe(te(t,void 0,void 0,s=>{o=be(n(s,fr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Hb(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(te(s,h=>{let p=l++;c=a?n(c,h,p):(a=!0,h),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function xn(n,e){return ee(e)?Ue(n,e,1):Ue(n,1)}function J1(n,e=Kr){return se((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+n,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}a()}t.subscribe(te(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function Zr(n){return se((e,t)=>{let r=!1;e.subscribe(te(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function pr(n){return n<=0?()=>ft:se((e,t)=>{let r=0;e.subscribe(te(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function sd(n=X1){return se((e,t)=>{let r=!1;e.subscribe(te(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function X1(){return new hr}function Jr(n){return se((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function gr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Xe((i,o)=>n(i,o,r)):zt,pr(1),t?Zr(e):sd(()=>new hr))}function ss(n){return n<=0?()=>ft:se((e,t)=>{let r=[];e.subscribe(te(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Tm(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Xe((i,o)=>n(i,o,r)):zt,ss(1),t?Zr(e):sd(()=>new hr))}function zb(){return se((n,e)=>{let t,r=!1;n.subscribe(te(e,i=>{let o=t;t=i,r&&e.next([o,i]),r=!0}))})}function ad(n,e){return se(Hb(n,e,arguments.length>=2,!0))}function Cm(n={}){let{connector:e=()=>new Ae,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,l=0,h=!1,p=!1,g=()=>{a?.unsubscribe(),a=void 0},m=()=>{g(),s=c=void 0,h=p=!1},w=()=>{let A=s;m(),A?.unsubscribe()};return se((A,R)=>{l++,!p&&!h&&g();let k=c=c??e();R.add(()=>{l--,l===0&&!p&&!h&&(a=bm(w,i))}),k.subscribe(R),!s&&l>0&&(s=new dr({next:H=>k.next(H),error:H=>{p=!0,g(),a=bm(m,t,H),k.error(H)},complete:()=>{h=!0,g(),a=bm(m,r),k.complete()}}),be(A).subscribe(s))})(o)}}function bm(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new dr({next:()=>{r.unsubscribe(),n()}});return be(e(...t)).subscribe(r)}function eF(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,Cm({connector:()=>new sc(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function tF(n){return Xe((e,t)=>n<=t)}function cd(...n){let e=Mn(n);return se((t,r)=>{(e?os(n,t,e):os(n,t)).subscribe(r)})}function Mt(n,e){return se((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(te(r,c=>{i?.unsubscribe();let l=0,h=o++;be(n(c,h)).subscribe(i=te(r,p=>r.next(e?e(c,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Sm(n){return se((e,t)=>{be(n).subscribe(te(t,()=>t.complete(),Li)),!t.closed&&e.subscribe(t)})}function st(n,e,t){let r=ee(n)||e||t?{next:n,error:e,complete:t}:n;return r?se((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(te(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):zt}var LC="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",L=class extends Error{code;constructor(e,t){super(tv(e,t)),this.code=e}};function nF(n){return`NG0${Math.abs(n)}`}function tv(n,e){return`${nF(n)}${e?": "+e:""}`}var VC=Symbol("InputSignalNode#UNSET"),rF=oe(O({},Pl),{transformFn:void 0,applyValueToInputSignal(n,e){rc(n,e)}});function jC(n,e){let t=Object.create(rF);t.value=n,t.transformFn=e?.transform;function r(){if(ec(t),t.value===VC){let i=null;throw new L(-950,i)}return t.value}return r[Rt]=t,r}function Ec(n){return{toString:n}.toString()}var ud="__parameters__";function iF(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function UC(n,e,t){return Ec(()=>{let r=iF(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,h){let p=c.hasOwnProperty(ud)?c[ud]:Object.defineProperty(c,ud,{value:[]})[ud];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var at=globalThis;function Ce(n){for(let e in n)if(n[e]===Ce)return e;throw Error("Could not find renamed property on target object.")}function oF(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function xt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(xt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Hm(n,e){return n?e?`${n} ${e}`:n:e||""}var sF=Ce({__forward_ref__:Ce});function kt(n){return n.__forward_ref__=kt,n.toString=function(){return xt(this())},n}function bt(n){return BC(n)?n():n}function BC(n){return typeof n=="function"&&n.hasOwnProperty(sF)&&n.__forward_ref__===kt}function j(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ot(n){return{providers:n.providers||[],imports:n.imports||[]}}function Gd(n){return qb(n,HC)||qb(n,zC)}function $C(n){return Gd(n)!==null}function qb(n,e){return n.hasOwnProperty(e)?n[e]:null}function aF(n){let e=n&&(n[HC]||n[zC]);return e||null}function Gb(n){return n&&(n.hasOwnProperty(Wb)||n.hasOwnProperty(cF))?n[Wb]:null}var HC=Ce({\u0275prov:Ce}),Wb=Ce({\u0275inj:Ce}),zC=Ce({ngInjectableDef:Ce}),cF=Ce({ngInjectorDef:Ce}),V=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=j({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function qC(n){return n&&!!n.\u0275providers}var uF=Ce({\u0275cmp:Ce}),lF=Ce({\u0275dir:Ce}),dF=Ce({\u0275pipe:Ce}),hF=Ce({\u0275mod:Ce}),Ed=Ce({\u0275fac:Ce}),hc=Ce({__NG_ELEMENT_ID__:Ce}),Kb=Ce({__NG_ENV_ID__:Ce});function zi(n){return typeof n=="string"?n:n==null?"":String(n)}function fF(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():zi(n)}function GC(n,e){throw new L(-200,n)}function nv(n,e){throw new L(-201,!1)}var ce=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ce||{}),zm;function WC(){return zm}function Pt(n){let e=zm;return zm=n,e}function KC(n,e,t){let r=Gd(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ce.Optional)return null;if(e!==void 0)return e;nv(n,"Injector")}var pF={},$i=pF,qm="__NG_DI_FLAG__",Id=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?xl:$i,r)}},wd="ngTempTokenPath",gF="ngTokenPath",mF=/\n/gm,yF="\u0275",Qb="__source";function vF(n,e=ce.Default){if(ic()===void 0)throw new L(-203,!1);if(ic()===null)return KC(n,void 0,e);{let t=ic(),r;return t instanceof Id?r=t.injector:r=t,r.get(n,e&ce.Optional?null:void 0,e)}}function G(n,e=ce.Default){return(WC()||vF)(bt(n),e)}function M(n,e=ce.Default){return G(n,Wd(e))}function Wd(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Gm(n){let e=[];for(let t=0;t<n.length;t++){let r=bt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new L(900,!1);let i,o=ce.Default;for(let s=0;s<r.length;s++){let a=r[s],c=_F(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(G(i,o))}else e.push(G(r))}return e}function QC(n,e){return n[qm]=e,n.prototype[qm]=e,n}function _F(n){return n[qm]}function EF(n,e,t,r){let i=n[wd];throw e[Qb]&&i.unshift(e[Qb]),n.message=IF(`
`+n.message,i,t,r),n[gF]=i,n[wd]=null,n}function IF(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==yF?n.slice(2):n;let i=xt(e);if(Array.isArray(e))i=e.map(xt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):xt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(mF,`
  `)}`}var St=QC(UC("Optional"),8);var YC=QC(UC("SkipSelf"),4);function qi(n,e){let t=n.hasOwnProperty(Ed);return t?n[Ed]:null}function wF(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function DF(n){return n.flat(Number.POSITIVE_INFINITY)}function rv(n,e){n.forEach(t=>Array.isArray(t)?rv(t,e):e(t))}function ZC(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Dd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function TF(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function bF(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function iv(n,e,t){let r=Ic(n,e);return r>=0?n[r|1]=t:(r=~r,bF(n,r,e,t)),r}function Am(n,e){let t=Ic(n,e);if(t>=0)return n[t|1]}function Ic(n,e){return CF(n,e,1)}function CF(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Gi={},Ct=[],fs=new V(""),JC=new V("",-1),XC=new V(""),Td=class{get(e,t=$i){if(t===$i){let r=new Error(`NullInjectorError: No provider for ${xt(e)}!`);throw r.name="NullInjectorError",r}return t}};function eS(n,e){let t=n[hF]||null;if(!t&&e===!0)throw new Error(`Type ${xt(n)} does not have '\u0275mod' property.`);return t}function ti(n){return n[uF]||null}function SF(n){return n[lF]||null}function AF(n){return n[dF]||null}function Gt(n){return{\u0275providers:n}}function RF(...n){return{\u0275providers:tS(!0,n),\u0275fromNgModule:!0}}function tS(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return rv(e,s=>{let a=s;Wm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&nS(i,o),t}function nS(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];ov(i,o=>{e(o,r)})}}function Wm(n,e,t,r){if(n=bt(n),!n)return!1;let i=null,o=Gb(n),s=!o&&ti(n);if(!o&&!s){let c=n.ngModule;if(o=Gb(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Wm(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{rv(o.imports,h=>{Wm(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&nS(l,e)}if(!a){let l=qi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ct},i),e({provide:XC,useValue:i,multi:!0},i),e({provide:fs,useValue:()=>G(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;ov(c,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function ov(n,e){for(let t of n)qC(t)&&(t=t.\u0275providers),Array.isArray(t)?ov(t,e):e(t)}var NF=Ce({provide:String,useValue:Ce});function rS(n){return n!==null&&typeof n=="object"&&NF in n}function MF(n){return!!(n&&n.useExisting)}function PF(n){return!!(n&&n.useFactory)}function ps(n){return typeof n=="function"}function xF(n){return!!n.useClass}var Kd=new V(""),pd={},Yb={},Rm;function Qd(){return Rm===void 0&&(Rm=new Td),Rm}var et=class{},fc=class extends et{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Qm(e,s=>this.processProvider(s)),this.records.set(JC,as(void 0,this)),i.has("environment")&&this.records.set(et,as(void 0,this));let o=this.records.get(Kd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(XC,Ct,ce.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?xl:$i,r)}destroy(){lc(this),this._destroyed=!0;let e=ue(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ue(e)}}onDestroy(e){return lc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){lc(this);let t=lr(this),r=Pt(void 0),i;try{return e()}finally{lr(t),Pt(r)}}get(e,t=$i,r=ce.Default){if(lc(this),e.hasOwnProperty(Kb))return e[Kb](this);r=Wd(r);let i,o=lr(this),s=Pt(void 0);try{if(!(r&ce.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=VF(e)&&Gd(e);l&&this.injectableDefInScope(l)?c=as(Km(e),pd):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,r)}let a=r&ce.Self?Qd():this.parent;return t=r&ce.Optional&&t===$i?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[wd]=a[wd]||[]).unshift(xt(e)),o)throw a;return EF(a,e,"R3InjectorError",this.source)}else throw a}finally{Pt(s),lr(o)}}resolveInjectorInitializers(){let e=ue(null),t=lr(this),r=Pt(void 0),i;try{let o=this.get(fs,Ct,ce.Self);for(let s of o)s()}finally{lr(t),Pt(r),ue(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(xt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=bt(e);let t=ps(e)?e:bt(e&&e.provide),r=OF(e);if(!ps(e)&&e.multi===!0){let i=this.records.get(t);i||(i=as(void 0,pd,!0),i.factory=()=>Gm(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ue(null);try{return t.value===Yb?GC(xt(e)):t.value===pd&&(t.value=Yb,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&LF(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ue(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=bt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Km(n){let e=Gd(n),t=e!==null?e.factory:qi(n);if(t!==null)return t;if(n instanceof V)throw new L(204,!1);if(n instanceof Function)return kF(n);throw new L(204,!1)}function kF(n){if(n.length>0)throw new L(204,!1);let t=aF(n);return t!==null?()=>t.factory(n):()=>new n}function OF(n){if(rS(n))return as(void 0,n.useValue);{let e=iS(n);return as(e,pd)}}function iS(n,e,t){let r;if(ps(n)){let i=bt(n);return qi(i)||Km(i)}else if(rS(n))r=()=>bt(n.useValue);else if(PF(n))r=()=>n.useFactory(...Gm(n.deps||[]));else if(MF(n))r=(i,o)=>G(bt(n.useExisting),o!==void 0&&o&ce.Optional?ce.Optional:void 0);else{let i=bt(n&&(n.useClass||n.provide));if(FF(n))r=()=>new i(...Gm(n.deps));else return qi(i)||Km(i)}return r}function lc(n){if(n.destroyed)throw new L(205,!1)}function as(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function FF(n){return!!n.deps}function LF(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function VF(n){return typeof n=="function"||typeof n=="object"&&n instanceof V}function Qm(n,e){for(let t of n)Array.isArray(t)?Qm(t,e):t&&qC(t)?Qm(t.\u0275providers,e):e(t)}function tt(n,e){let t;n instanceof fc?(lc(n),t=n):t=new Id(n);let r,i=lr(t),o=Pt(void 0);try{return e()}finally{lr(i),Pt(o)}}function sv(){return WC()!==void 0||ic()!=null}function wc(n){if(!sv())throw new L(-203,!1)}function jF(n){return typeof n=="function"}var Er=0,re=1,Z=2,gt=3,gn=4,Ft=5,gs=6,bd=7,Ze=8,ms=9,mr=10,Ne=11,pc=12,Zb=13,Ts=14,qt=15,Wi=16,cs=17,yr=18,Yd=19,oS=20,Xr=21,Nm=22,Ki=23,nn=24,ds=25,ze=26,sS=1;var Qi=7,Cd=8,ys=9,pt=10;function ei(n){return Array.isArray(n)&&typeof n[sS]=="object"}function Ir(n){return Array.isArray(n)&&n[sS]===!0}function av(n){return(n.flags&4)!==0}function bs(n){return n.componentOffset>-1}function Zd(n){return(n.flags&1)===1}function On(n){return!!n.template}function Sd(n){return(n[Z]&512)!==0}function Cs(n){return(n[Z]&256)===256}var Ym=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function aS(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Wt=(()=>{let n=()=>cS;return n.ngInherit=!0,n})();function cS(n){return n.type.prototype.ngOnChanges&&(n.setInput=BF),UF}function UF(){let n=lS(this),e=n?.current;if(e){let t=n.previous;if(t===Gi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function BF(n,e,t,r,i){let o=this.declaredInputs[r],s=lS(n)||$F(n,{previous:Gi,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Ym(l&&l.currentValue,t,c===Gi),aS(n,e,i,t)}var uS="__ngSimpleChanges__";function lS(n){return n[uS]||null}function $F(n,e){return n[uS]=e}var Jb=null;var De=function(n,e=null,t){Jb?.(n,e,t)},HF="svg",zF="math";function Fn(n){for(;Array.isArray(n);)n=n[Er];return n}function dS(n,e){return Fn(e[n])}function Bn(n,e){return Fn(e[n.index])}function cv(n,e){return n.data[e]}function uv(n,e){return n[e]}function hS(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Ln(n,e){let t=e[n];return ei(t)?t:t[Er]}function qF(n){return(n[Z]&4)===4}function lv(n){return(n[Z]&128)===128}function GF(n){return Ir(n[gt])}function ni(n,e){return e==null?null:n[e]}function fS(n){n[cs]=0}function pS(n){n[Z]&1024||(n[Z]|=1024,lv(n)&&Ss(n))}function WF(n,e){for(;n>0;)e=e[Ts],n--;return e}function Jd(n){return!!(n[Z]&9216||n[nn]?.dirty)}function Zm(n){n[mr].changeDetectionScheduler?.notify(8),n[Z]&64&&(n[Z]|=1024),Jd(n)&&Ss(n)}function Ss(n){n[mr].changeDetectionScheduler?.notify(0);let e=Yi(n);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!lv(e)));)e=Yi(e)}function gS(n,e){if(Cs(n))throw new L(911,!1);n[Xr]===null&&(n[Xr]=[]),n[Xr].push(e)}function KF(n,e){if(n[Xr]===null)return;let t=n[Xr].indexOf(e);t!==-1&&n[Xr].splice(t,1)}function Yi(n){let e=n[gt];return Ir(e)?e[gt]:e}function dv(n){return n[bd]??=[]}function hv(n){return n.cleanup??=[]}function QF(n,e,t,r){let i=dv(e);i.push(t),n.firstCreatePass&&hv(n).push(r,i.length-1)}var le={lFrame:IS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Jm=!1;function YF(){return le.lFrame.elementDepthCount}function ZF(){le.lFrame.elementDepthCount++}function JF(){le.lFrame.elementDepthCount--}function fv(){return le.bindingsEnabled}function mS(){return le.skipHydrationRootTNode!==null}function XF(n){return le.skipHydrationRootTNode===n}function eL(){le.skipHydrationRootTNode=null}function Y(){return le.lFrame.lView}function Re(){return le.lFrame.tView}function IJ(n){return le.lFrame.contextLView=n,n[Ze]}function wJ(n){return le.lFrame.contextLView=null,n}function mt(){let n=yS();for(;n!==null&&n.type===64;)n=n.parent;return n}function yS(){return le.lFrame.currentTNode}function tL(){let n=le.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function oi(n,e){let t=le.lFrame;t.currentTNode=n,t.isParent=e}function pv(){return le.lFrame.isParent}function gv(){le.lFrame.isParent=!1}function nL(){return le.lFrame.contextLView}function vS(){return Jm}function Ad(n){let e=Jm;return Jm=n,e}function Xd(){let n=le.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function rL(){return le.lFrame.bindingIndex}function iL(n){return le.lFrame.bindingIndex=n}function no(){return le.lFrame.bindingIndex++}function mv(n){let e=le.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function oL(){return le.lFrame.inI18n}function sL(n,e){let t=le.lFrame;t.bindingIndex=t.bindingRootIndex=n,Xm(e)}function aL(){return le.lFrame.currentDirectiveIndex}function Xm(n){le.lFrame.currentDirectiveIndex=n}function cL(n){let e=le.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function yv(){return le.lFrame.currentQueryIndex}function eh(n){le.lFrame.currentQueryIndex=n}function uL(n){let e=n[re];return e.type===2?e.declTNode:e.type===1?n[Ft]:null}function _S(n,e,t){if(t&ce.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ce.Host);)if(i=uL(o),i===null||(o=o[Ts],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=le.lFrame=ES();return r.currentTNode=e,r.lView=n,!0}function vv(n){let e=ES(),t=n[re];le.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function ES(){let n=le.lFrame,e=n===null?null:n.child;return e===null?IS(n):e}function IS(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function wS(){let n=le.lFrame;return le.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var DS=wS;function _v(){let n=wS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function lL(n){return(le.lFrame.contextLView=WF(n,le.lFrame.contextLView))[Ze]}function wr(){return le.lFrame.selectedIndex}function Zi(n){le.lFrame.selectedIndex=n}function Dc(){let n=le.lFrame;return cv(n.tView,n.selectedIndex)}function dL(){return le.lFrame.currentNamespace}var TS=!0;function th(){return TS}function nh(n){TS=n}function hL(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=cS(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Ev(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function gd(n,e,t){bS(n,e,3,t)}function md(n,e,t,r){(n[Z]&3)===t&&bS(n,e,t,r)}function Mm(n,e){let t=n[Z];(t&3)===e&&(t&=16383,t+=1,n[Z]=t)}function bS(n,e,t,r){let i=r!==void 0?n[cs]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[cs]+=65536),(a<o||o==-1)&&(fL(n,t,e,c),n[cs]=(n[cs]&4294901760)+c+2),c++}function Xb(n,e){De(4,n,e);let t=ue(null);try{e.call(n)}finally{ue(t),De(5,n,e)}}function fL(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Z]>>14<n[cs]>>16&&(n[Z]&3)===e&&(n[Z]+=16384,Xb(a,o)):Xb(a,o)}var hs=-1,Ji=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function pL(n){return(n.flags&8)!==0}function gL(n){return(n.flags&16)!==0}function mL(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];yL(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function CS(n){return n===3||n===4||n===6}function yL(n){return n.charCodeAt(0)===64}function vs(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?eC(n,t,i,null,e[++r]):eC(n,t,i,null,null))}}return n}function eC(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function SS(n){return n!==hs}function Rd(n){return n&32767}function vL(n){return n>>16}function Nd(n,e){let t=vL(n),r=e;for(;t>0;)r=r[Ts],t--;return r}var ey=!0;function Md(n){let e=ey;return ey=n,e}var _L=256,AS=_L-1,RS=5,EL=0,kn={};function IL(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(hc)&&(r=t[hc]),r==null&&(r=t[hc]=EL++);let i=r&AS,o=1<<i;e.data[n+(i>>RS)]|=o}function Pd(n,e){let t=NS(n,e);if(t!==-1)return t;let r=e[re];r.firstCreatePass&&(n.injectorIndex=e.length,Pm(r.data,n),Pm(e,null),Pm(r.blueprint,null));let i=Iv(n,e),o=n.injectorIndex;if(SS(i)){let s=Rd(i),a=Nd(i,e),c=a[re].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Pm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function NS(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Iv(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=OS(i),r===null)return hs;if(t++,i=i[Ts],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return hs}function ty(n,e,t){IL(n,e,t)}function wL(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(CS(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function MS(n,e,t){if(t&ce.Optional||n!==void 0)return n;nv(e,"NodeInjector")}function PS(n,e,t,r){if(t&ce.Optional&&r===void 0&&(r=null),(t&(ce.Self|ce.Host))===0){let i=n[ms],o=Pt(void 0);try{return i?i.get(e,r,t&ce.Optional):KC(e,r,t&ce.Optional)}finally{Pt(o)}}return MS(r,e,t)}function xS(n,e,t,r=ce.Default,i){if(n!==null){if(e[Z]&2048&&!(r&ce.Self)){let s=CL(n,e,t,r,kn);if(s!==kn)return s}let o=kS(n,e,t,r,kn);if(o!==kn)return o}return PS(e,t,r,i)}function kS(n,e,t,r,i){let o=TL(t);if(typeof o=="function"){if(!_S(e,n,r))return r&ce.Host?MS(i,t,r):PS(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ce.Optional))nv(t);else return s}finally{DS()}}else if(typeof o=="number"){let s=null,a=NS(n,e),c=hs,l=r&ce.Host?e[qt][Ft]:null;for((a===-1||r&ce.SkipSelf)&&(c=a===-1?Iv(n,e):e[a+8],c===hs||!nC(r,!1)?a=-1:(s=e[re],a=Rd(c),e=Nd(c,e)));a!==-1;){let h=e[re];if(tC(o,a,h.data)){let p=DL(a,e,t,s,r,l);if(p!==kn)return p}c=e[a+8],c!==hs&&nC(r,e[re].data[a+8]===l)&&tC(o,a,e)?(s=h,a=Rd(c),e=Nd(c,e)):a=-1}}return i}function DL(n,e,t,r,i,o){let s=e[re],a=s.data[n+8],c=r==null?bs(a)&&ey:r!=s&&(a.type&3)!==0,l=i&ce.Host&&o===a,h=yd(a,s,t,c,l);return h!==null?gc(e,s,h,a,i):kn}function yd(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let m=p;m<g;m++){let w=s[m];if(m<c&&t===w||m>=c&&w.type===t)return m}if(i){let m=s[c];if(m&&On(m)&&m.type===t)return c}return null}function gc(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Ji){let a=o;a.resolving&&GC(fF(s[t]));let c=Md(a.canSeeViewProviders);a.resolving=!0;let l,h=a.injectImpl?Pt(a.injectImpl):null,p=_S(n,r,ce.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&hL(t,s[t],e)}finally{h!==null&&Pt(h),Md(c),a.resolving=!1,DS()}}return o}function TL(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(hc)?n[hc]:void 0;return typeof e=="number"?e>=0?e&AS:bL:e}function tC(n,e,t){let r=1<<n;return!!(t[e+(n>>RS)]&r)}function nC(n,e){return!(n&ce.Self)&&!(n&ce.Host&&e)}var Hi=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return xS(this._tNode,this._lView,e,Wd(r),t)}};function bL(){return new Hi(mt(),Y())}function $n(n){return Ec(()=>{let e=n.prototype.constructor,t=e[Ed]||ny(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Ed]||ny(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ny(n){return BC(n)?()=>{let e=ny(bt(n));return e&&e()}:qi(n)}function CL(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Z]&2048&&!Sd(s);){let a=kS(o,s,t,r|ce.Self,kn);if(a!==kn)return a;let c=o.parent;if(!c){let l=s[oS];if(l){let h=l.get(t,kn,r);if(h!==kn)return h}c=OS(s),s=s[Ts]}o=c}return i}function OS(n){let e=n[re],t=e.type;return t===2?e.declTNode:t===1?n[Ft]:null}function rh(n){return wL(mt(),n)}function rC(n,e=null,t=null,r){let i=FS(n,e,t,r);return i.resolveInjectorInitializers(),i}function FS(n,e=null,t=null,r,i=new Set){let o=[t||Ct,RF(n)];return r=r||(typeof n=="object"?void 0:xt(n)),new fc(o,e||Qd(),r||null,i)}var ke=class n{static THROW_IF_NOT_FOUND=$i;static NULL=new Td;static create(e,t){if(Array.isArray(e))return rC({name:""},t,e,"");{let r=e.name??"";return rC({name:r},e.parent,e.providers,r)}}static \u0275prov=j({token:n,providedIn:"any",factory:()=>G(JC)});static __NG_ELEMENT_ID__=-1};var iC=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>rh(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},SL=new V("");SL.__NG_ELEMENT_ID__=n=>{let e=mt();if(e===null)throw new L(204,!1);if(e.type&2)return e.value;if(n&ce.Optional)return null;throw new L(204,!1)};var LS=!1,Dr=(()=>{class n{static __NG_ELEMENT_ID__=AL;static __NG_ENV_ID__=t=>t}return n})(),xd=class extends Dr{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return Cs(t)?(e(),()=>{}):(gS(t,e),()=>KF(t,e))}};function AL(){return new xd(Y())}var ri=class{},ih=new V("",{providedIn:"root",factory:()=>!1});var VS=new V(""),jS=new V(""),Hn=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new He(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),oh=(()=>{class n{internalPendingTasks=M(Hn);scheduler=M(ri);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return v(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),ry=class extends Ae{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,sv()&&(this.destroyRef=M(Dr,{optional:!0})??void 0,this.pendingTasks=M(Hn,{optional:!0})??void 0)}emit(e){let t=ue(null);try{super.next(e)}finally{ue(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Le&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},xe=ry;function mc(...n){}function US(n){let e,t;function r(){n=mc;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function oC(n){return queueMicrotask(()=>n()),()=>{n=mc}}var wv="isAngularZone",kd=wv+"_ID",RL=0,he=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new xe(!1);onMicrotaskEmpty=new xe(!1);onStable=new xe(!1);onError=new xe(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=LS}=e;if(typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,PL(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(wv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new L(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,NL,mc,mc);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},NL={};function Dv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ML(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){US(()=>{n.callbackScheduled=!1,iy(n),n.isCheckStableRunning=!0,Dv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),iy(n)}function PL(n){let e=()=>{ML(n)},t=RL++;n._inner=n._inner.fork({name:"angular",properties:{[wv]:!0,[kd]:t,[kd+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(xL(c))return r.invokeTask(o,s,a,c);try{return sC(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),aC(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return sC(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!kL(c)&&e(),aC(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,iy(n),Dv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function iy(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function sC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function aC(n){n._nesting--,Dv(n)}var oy=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new xe;onMicrotaskEmpty=new xe;onStable=new xe;onError=new xe;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function xL(n){return BS(n,"__ignore_ng_zone__")}function kL(n){return BS(n,"__scheduler_tick__")}function BS(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Vn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},OL=new V("",{providedIn:"root",factory:()=>{let n=M(he),e=M(Vn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function cC(n,e){return jC(n,e)}function FL(n){return jC(VC,n)}var $S=(cC.required=FL,cC);function LL(){return As(mt(),Y())}function As(n,e){return new yt(Bn(n,e))}var yt=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=LL}return n})();function HS(n){return n instanceof yt?n.nativeElement:n}function VL(n){return typeof n=="function"&&n[Rt]!==void 0}function si(n,e){let t=am(n,e?.equal),r=t[Rt];return t.set=i=>rc(r,i),t.update=i=>cm(r,i),t.asReadonly=jL.bind(t),t}function jL(){let n=this[Rt];if(n.readonlyFn===void 0){let e=()=>this();e[Rt]=n,n.readonlyFn=e}return n.readonlyFn}function zS(n){return VL(n)&&typeof n.set=="function"}function UL(){return this._results[Symbol.iterator]()}var sy=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ae}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=DF(e);(this._changesDetected=!wF(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=UL};function qS(n){return(n.flags&128)===128}var GS=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(GS||{}),WS=new Map,BL=0;function $L(){return BL++}function HL(n){WS.set(n[Yd],n)}function ay(n){WS.delete(n[Yd])}var uC="__ngContext__";function Rs(n,e){ei(e)?(n[uC]=e[Yd],HL(e)):n[uC]=e}function KS(n){return YS(n[pc])}function QS(n){return YS(n[gn])}function YS(n){for(;n!==null&&!Ir(n);)n=n[gn];return n}var cy;function ZS(n){cy=n}function JS(){if(cy!==void 0)return cy;if(typeof document<"u")return document;throw new L(210,!1)}var Tv=new V("",{providedIn:"root",factory:()=>zL}),zL="ng",bv=new V(""),ai=new V("",{providedIn:"platform",factory:()=>"unknown"});var DJ=new V(""),Cv=new V("",{providedIn:"root",factory:()=>JS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var qL="h",GL="b";var XS=!1,WL=new V("",{providedIn:"root",factory:()=>XS});var Sv=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Sv||{}),Ns=new V(""),lC=new Set;function Tr(n){lC.has(n)||(lC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Av=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=KL}return n})();function KL(){return new Av(Y(),mt())}var us=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(us||{}),e0=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),QL=[us.EarlyRead,us.Write,us.MixedReadWrite,us.Read],YL=(()=>{class n{ngZone=M(he);scheduler=M(ri);errorHandler=M(Vn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){M(Ns,{optional:!0})}execute(){let t=this.sequences.size>0;t&&De(16),this.executing=!0;for(let r of QL)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&De(17)}register(t){let{view:r}=t;r!==void 0?((r[ds]??=[]).push(t),Ss(r),r[Z]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Sv.AFTER_NEXT_RENDER,t):t()}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),uy=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[ds];e&&(this.view[ds]=e.filter(t=>t!==this))}};function ZL(n,e){!e?.injector&&wc(ZL);let t=e?.injector??M(ke);return Tr("NgAfterRender"),t0(n,t,e,!1)}function Rv(n,e){!e?.injector&&wc(Rv);let t=e?.injector??M(ke);return Tr("NgAfterNextRender"),t0(n,t,e,!0)}function JL(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function t0(n,e,t,r){let i=e.get(e0);i.impl??=e.get(YL);let o=e.get(Ns,null,{optional:!0}),s=t?.phase??us.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(Dr):null,c=e.get(Av,null,{optional:!0}),l=new uy(i.impl,JL(n,s),c?.view,r,a,o?.snapshot(null));return i.impl.register(l),l}var XL=(n,e,t,r)=>{};function eV(n,e,t,r){XL(n,e,t,r)}var tV=()=>null;function n0(n,e,t=!1){return tV(n,e,t)}function r0(n,e){let t=n.contentQueries;if(t!==null){let r=ue(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];eh(o),a.contentQueries(2,e[s],s)}}}finally{ue(r)}}}function ly(n,e,t){eh(0);let r=ue(null);try{e(n,t)}finally{ue(r)}}function Nv(n,e,t){if(av(e)){let r=ue(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{ue(r)}}}var jn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(jn||{}),ld;function i0(){if(ld===void 0&&(ld=null,at.trustedTypes))try{ld=at.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ld}function sh(n){return i0()?.createHTML(n)||n}function nV(n){return i0()?.createScriptURL(n)||n}var dd;function o0(){if(dd===void 0&&(dd=null,at.trustedTypes))try{dd=at.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return dd}function dC(n){return o0()?.createHTML(n)||n}function hC(n){return o0()?.createScriptURL(n)||n}var vr=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${LC})`}},dy=class extends vr{getTypeName(){return"HTML"}},hy=class extends vr{getTypeName(){return"Style"}},fy=class extends vr{getTypeName(){return"Script"}},py=class extends vr{getTypeName(){return"URL"}},gy=class extends vr{getTypeName(){return"ResourceURL"}};function on(n){return n instanceof vr?n.changingThisBreaksApplicationSecurity:n}function br(n,e){let t=rV(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${LC})`)}return t===e}function rV(n){return n instanceof vr&&n.getTypeName()||null}function s0(n){return new dy(n)}function a0(n){return new hy(n)}function c0(n){return new fy(n)}function u0(n){return new py(n)}function l0(n){return new gy(n)}function iV(n){let e=new yy(n);return oV()?new my(e):e}var my=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(sh(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},yy=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=sh(e),t}};function oV(){try{return!!new window.DOMParser().parseFromString(sh(""),"text/html")}catch{return!1}}var sV=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ah(n){return n=String(n),n.match(sV)?n:"unsafe:"+n}function Cr(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Tc(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var d0=Cr("area,br,col,hr,img,wbr"),h0=Cr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),f0=Cr("rp,rt"),aV=Tc(f0,h0),cV=Tc(h0,Cr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),uV=Tc(f0,Cr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fC=Tc(d0,cV,uV,aV),p0=Cr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lV=Cr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),dV=Cr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),hV=Tc(p0,lV,dV),fV=Cr("script,style,template"),vy=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=mV(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=gV(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=pC(e).toLowerCase();if(!fC.hasOwnProperty(t))return this.sanitizedSomething=!0,!fV.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!hV.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;p0[a]&&(c=ah(c)),this.buf.push(" ",s,'="',gC(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=pC(e).toLowerCase();fC.hasOwnProperty(t)&&!d0.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(gC(e))}};function pV(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function gV(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw g0(e);return e}function mV(n){let e=n.firstChild;if(e&&pV(n,e))throw g0(e);return e}function pC(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function g0(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var yV=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vV=/([^\#-~ |!])/g;function gC(n){return n.replace(/&/g,"&amp;").replace(yV,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(vV,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var hd;function Mv(n,e){let t=null;try{hd=hd||iV(n);let r=e?String(e):"";t=hd.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=hd.getInertBodyElement(r)}while(r!==o);let a=new vy().sanitizeChildren(mC(t)||t);return sh(a)}finally{if(t){let r=mC(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function mC(n){return"content"in n&&_V(n)?n.content:null}function _V(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var mn=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(mn||{});function TJ(n){let e=Pv();return e?dC(e.sanitize(mn.HTML,n)||""):br(n,"HTML")?dC(on(n)):Mv(JS(),zi(n))}function EV(n){let e=Pv();return e?e.sanitize(mn.URL,n)||"":br(n,"URL")?on(n):ah(zi(n))}function IV(n){let e=Pv();if(e)return hC(e.sanitize(mn.RESOURCE_URL,n)||"");if(br(n,"ResourceURL"))return hC(on(n));throw new L(904,!1)}function bJ(n){return nV(n[0])}function wV(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?IV:EV}function m0(n,e,t){return wV(e,t)(n)}function Pv(){let n=Y();return n&&n[mr].sanitizer}var DV=/^>|^->|<!--|-->|--!>|<!-$/g,TV=/(<|>)/g,bV="\u200B$1\u200B";function CV(n){return n.replace(DV,e=>e.replace(TV,bV))}function y0(n){return n instanceof Function?n():n}function SV(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var v0="ng-template";function AV(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&SV(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(xv(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function xv(n){return n.type===4&&n.value!==v0}function RV(n,e,t){let r=n.type===4&&!t?v0:n.value;return e===r}function NV(n,e,t){let r=4,i=n.attrs,o=i!==null?xV(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!fn(r)&&!fn(c))return!1;if(s&&fn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!RV(n,c,t)||c===""&&e.length===1){if(fn(r))return!1;s=!0}}else if(r&8){if(i===null||!AV(n,i,c,t)){if(fn(r))return!1;s=!0}}else{let l=e[++a],h=MV(c,i,xv(n),t);if(h===-1){if(fn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(fn(r))return!1;s=!0}}}}return fn(r)||s}function fn(n){return(n&1)===0}function MV(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return kV(e,n)}function _0(n,e,t=!1){for(let r=0;r<e.length;r++)if(NV(n,e[r],t))return!0;return!1}function PV(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function xV(n){for(let e=0;e<n.length;e++){let t=n[e];if(CS(t))return e}return n.length}function kV(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function OV(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function yC(n,e){return n?":not("+e.trim()+")":e}function FV(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!fn(s)&&(e+=yC(o,i),i=""),r=s,o=o||!fn(r);t++}return i!==""&&(e+=yC(o,i)),e}function LV(n){return n.map(FV).join(",")}function VV(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!fn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Lt={};function jV(n,e){return n.createText(e)}function UV(n,e,t){n.setValue(e,t)}function BV(n,e){return n.createComment(CV(e))}function E0(n,e,t){return n.createElement(e,t)}function Od(n,e,t,r,i){n.insertBefore(e,t,r,i)}function I0(n,e,t){n.appendChild(e,t)}function vC(n,e,t,r,i){r!==null?Od(n,e,t,r,i):I0(n,e,t)}function $V(n,e,t){n.removeChild(null,e,t)}function HV(n,e,t){n.setAttribute(e,"style",t)}function zV(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function w0(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&mL(n,e,r),i!==null&&zV(n,e,i),o!==null&&HV(n,e,o)}function kv(n,e,t,r,i,o,s,a,c,l,h){let p=ze+r,g=p+i,m=qV(p,g),w=typeof l=="function"?l():l;return m[re]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:w,incompleteFirstPass:!1,ssrId:h}}function qV(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Lt);return t}function GV(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=kv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Ov(n,e,t,r,i,o,s,a,c,l,h){let p=e.blueprint.slice();return p[Er]=i,p[Z]=r|4|128|8|64|1024,(l!==null||n&&n[Z]&2048)&&(p[Z]|=2048),fS(p),p[gt]=p[Ts]=n,p[Ze]=t,p[mr]=s||n&&n[mr],p[Ne]=a||n&&n[Ne],p[ms]=c||n&&n[ms]||null,p[Ft]=o,p[Yd]=$L(),p[gs]=h,p[oS]=l,p[qt]=e.type==2?n[qt]:p,p}function WV(n,e,t){let r=Bn(e,n),i=GV(t),o=n[mr].rendererFactory,s=Fv(n,Ov(n,i,null,D0(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function D0(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function T0(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Fv(n,e){return n[pc]?n[Zb][gn]=e:n[pc]=e,n[Zb]=e,e}function CJ(n=1){b0(Re(),Y(),wr()+n,!1)}function b0(n,e,t,r){if(!r)if((e[Z]&3)===3){let o=n.preOrderCheckHooks;o!==null&&gd(e,o,t)}else{let o=n.preOrderHooks;o!==null&&md(e,o,0,t)}Zi(t)}var ch=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ch||{});function _y(n,e,t,r){let i=ue(null);try{let[o,s,a]=n.inputs[t],c=null;(s&ch.SignalBased)!==0&&(c=e[o][Rt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):aS(e,c,o,r)}finally{ue(i)}}function C0(n,e,t,r,i){let o=wr(),s=r&2;try{Zi(-1),s&&e.length>ze&&b0(n,e,ze,!1),De(s?2:0,i),t(r,i)}finally{Zi(o),De(s?3:1,i)}}function uh(n,e,t){XV(n,e,t),(t.flags&64)===64&&ej(n,e,t)}function Lv(n,e,t=Bn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function KV(n,e,t,r){let o=r.get(WL,XS)||t===jn.ShadowDom,s=n.selectRootElement(e,o);return QV(s),s}function QV(n){YV(n)}var YV=()=>null;function ZV(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function lh(n,e,t,r,i,o,s,a){if(!a&&jv(e,n,t,r,i)){bs(e)&&JV(t,e.index);return}if(e.type&3){let c=Bn(e,t);r=ZV(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)}else e.type&12}function JV(n,e){let t=Ln(e,n);t[Z]&16||(t[Z]|=64)}function XV(n,e,t){let r=t.directiveStart,i=t.directiveEnd;bs(t)&&WV(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Pd(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=gc(e,n,s,t);if(Rs(c,e),o!==null&&ij(e,s-r,c,a,t,o),On(a)){let l=Ln(t.index,e);l[Ze]=gc(e,n,s,t)}}}function ej(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=aL();try{Zi(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];Xm(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&tj(c,l)}}finally{Zi(-1),Xm(s)}}function tj(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Vv(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];_0(e,o.selectors,!1)&&(r??=[],On(o)?r.unshift(o):r.push(o))}return r}function nj(n,e,t,r,i,o){let s=Bn(n,e);rj(e[Ne],s,o,n.value,t,r,i)}function rj(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?zi(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function ij(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];_y(r,t,c,l)}}function oj(n,e){let t=n[ms],r=t?t.get(Vn,null):null;r&&r.handleError(e)}function jv(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],h=s[c+1],p=e.data[l];_y(p,t[l],h,i),a=!0}if(o)for(let c of o){let l=t[c],h=e.data[c];_y(h,l,r,i),a=!0}return a}function sj(n,e){let t=Ln(e,n),r=t[re];aj(r,t);let i=t[Er];i!==null&&t[gs]===null&&(t[gs]=n0(i,t[ms])),De(18),Uv(r,t,t[Ze]),De(19,t[Ze])}function aj(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Uv(n,e,t){vv(e);try{let r=n.viewQuery;r!==null&&ly(1,r,t);let i=n.template;i!==null&&C0(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[yr]?.finishViewCreation(n),n.staticContentQueries&&r0(n,e),n.staticViewQueries&&ly(2,n.viewQuery,t);let o=n.components;o!==null&&cj(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Z]&=-5,_v()}}function cj(n,e){for(let t=0;t<e.length;t++)sj(n,e[t])}function bc(n,e,t,r){let i=ue(null);try{let o=e.tView,a=n[Z]&4096?4096:16,c=Ov(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[Wi]=l;let h=n[yr];return h!==null&&(c[yr]=h.createEmbeddedView(o)),Uv(o,c,t),c}finally{ue(i)}}function _s(n,e){return!e||e.firstChild===null||qS(n)}var uj;function Bv(n,e){return uj(n,e)}var Un=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Un||{});function $v(n){return(n.flags&32)===32}function ls(n,e,t,r,i){if(r!=null){let o,s=!1;Ir(r)?o=r:ei(r)&&(s=!0,r=r[Er]);let a=Fn(r);n===0&&t!==null?i==null?I0(e,t,a):Od(e,t,a,i||null,!0):n===1&&t!==null?Od(e,t,a,i||null,!0):n===2?$V(e,a,s):n===3&&e.destroyNode(a),o!=null&&_j(e,n,o,t,i)}}function lj(n,e){S0(n,e),e[Er]=null,e[Ft]=null}function dj(n,e,t,r,i,o){r[Er]=i,r[Ft]=e,fh(n,r,t,1,i,o)}function S0(n,e){e[mr].changeDetectionScheduler?.notify(9),fh(n,e,e[Ne],2,null,null)}function hj(n){let e=n[pc];if(!e)return xm(n[re],n);for(;e;){let t=null;if(ei(e))t=e[pc];else{let r=e[pt];r&&(t=r)}if(!t){for(;e&&!e[gn]&&e!==n;)ei(e)&&xm(e[re],e),e=e[gt];e===null&&(e=n),ei(e)&&xm(e[re],e),t=e&&e[gn]}e=t}}function Hv(n,e){let t=n[ys],r=t.indexOf(e);t.splice(r,1)}function dh(n,e){if(Cs(e))return;let t=e[Ne];t.destroyNode&&fh(n,e,t,3,null,null),hj(e)}function xm(n,e){if(Cs(e))return;let t=ue(null);try{e[Z]&=-129,e[Z]|=256,e[nn]&&nc(e[nn]),pj(n,e),fj(n,e),e[re].type===1&&e[Ne].destroy();let r=e[Wi];if(r!==null&&Ir(e[gt])){r!==e[gt]&&Hv(r,e);let i=e[yr];i!==null&&i.detachView(n)}ay(e)}finally{ue(t)}}function fj(n,e){let t=n.cleanup,r=e[bd];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[bd]=null);let i=e[Xr];if(i!==null){e[Xr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Ki];if(o!==null){e[Ki]=null;for(let s of o)s.destroy()}}function pj(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Ji)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];De(4,a,c);try{c.call(a)}finally{De(5,a,c)}}else{De(4,i,o);try{o.call(i)}finally{De(5,i,o)}}}}}function A0(n,e,t){return gj(n,e.parent,t)}function gj(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Er];if(bs(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===jn.None||i===jn.Emulated)return null}return Bn(r,t)}function R0(n,e,t){return yj(n,e,t)}function mj(n,e,t){return n.type&40?Bn(n,t):null}var yj=mj,_C;function hh(n,e,t,r){let i=A0(n,r,e),o=e[Ne],s=r.parent||e[Ft],a=R0(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)vC(o,i,t[c],a,!1);else vC(o,i,t,a,!1);_C!==void 0&&_C(o,r,e,t,i)}function dc(n,e){if(e!==null){let t=e.type;if(t&3)return Bn(e,n);if(t&4)return Ey(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return dc(n,r);{let i=n[e.index];return Ir(i)?Ey(-1,i):Fn(i)}}else{if(t&128)return dc(n,e.next);if(t&32)return Bv(e,n)()||Fn(n[e.index]);{let r=N0(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Yi(n[qt]);return dc(i,r)}else return dc(n,e.next)}}}return null}function N0(n,e){if(e!==null){let r=n[qt][Ft],i=e.projection;return r.projection[i]}return null}function Ey(n,e){let t=pt+n+1;if(t<e.length){let r=e[t],i=r[re].firstChild;if(i!==null)return dc(r,i)}return e[Qi]}function zv(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&Rs(Fn(a),r),t.flags|=2),!$v(t))if(c&8)zv(n,e,t.child,r,i,o,!1),ls(e,n,i,a,o);else if(c&32){let l=Bv(t,r),h;for(;h=l();)ls(e,n,i,h,o);ls(e,n,i,a,o)}else c&16?M0(n,e,r,t,i,o):ls(e,n,i,a,o);t=s?t.projectionNext:t.next}}function fh(n,e,t,r,i,o){zv(t,r,n.firstChild,e,i,o,!1)}function vj(n,e,t){let r=e[Ne],i=A0(n,t,e),o=t.parent||e[Ft],s=R0(o,t,e);M0(r,0,e,t,i,s)}function M0(n,e,t,r,i,o){let s=t[qt],c=s[Ft].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let h=c[l];ls(e,n,i,h,o)}else{let l=c,h=s[gt];qS(r)&&(l.flags|=128),zv(n,e,l,h,i,o,!0)}}function _j(n,e,t,r,i){let o=t[Qi],s=Fn(t);o!==s&&ls(e,n,r,o,i);for(let a=pt;a<t.length;a++){let c=t[a];fh(c[re],c,n,e,r,o)}}function Ej(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Un.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Un.Important),n.setStyle(t,r,i,o))}}function Fd(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Fn(o)),Ir(o)&&Ij(o,r);let s=t.type;if(s&8)Fd(n,e,t.child,r);else if(s&32){let a=Bv(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=N0(e,t);if(Array.isArray(a))r.push(...a);else{let c=Yi(e[qt]);Fd(c[re],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Ij(n,e){for(let t=pt;t<n.length;t++){let r=n[t],i=r[re].firstChild;i!==null&&Fd(r[re],r,i,e)}n[Qi]!==n[Er]&&e.push(n[Qi])}function P0(n){if(n[ds]!==null){for(let e of n[ds])e.impl.addSequence(e);n[ds].length=0}}var x0=[];function wj(n){return n[nn]??Dj(n)}function Dj(n){let e=x0.pop()??Object.create(bj);return e.lView=n,e}function Tj(n){n.lView[nn]!==n&&(n.lView=null,x0.push(n))}var bj=oe(O({},Ko),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ss(n.lView)},consumerOnSignalRead(){this.lView[nn]=this}});function Cj(n){let e=n[nn]??Object.create(Sj);return e.lView=n,e}var Sj=oe(O({},Ko),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Yi(n.lView);for(;e&&!k0(e[re]);)e=Yi(e);e&&pS(e)},consumerOnSignalRead(){this.lView[nn]=this}});function k0(n){return n.type!==2}function O0(n){if(n[Ki]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Ki])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[Z]&8192)}}var Aj=100;function F0(n,e=!0,t=0){let i=n[mr].rendererFactory,o=!1;o||i.begin?.();try{Rj(n,t)}catch(s){throw e&&oj(n,s),s}finally{o||i.end?.()}}function Rj(n,e){let t=vS();try{Ad(!0),Iy(n,e);let r=0;for(;Jd(n);){if(r===Aj)throw new L(103,!1);r++,Iy(n,1)}}finally{Ad(t)}}function Nj(n,e,t,r){if(Cs(e))return;let i=e[Z],o=!1,s=!1;vv(e);let a=!0,c=null,l=null;o||(k0(n)?(l=wj(e),c=tc(l)):nm()===null?(a=!1,l=Cj(e),c=tc(l)):e[nn]&&(nc(e[nn]),e[nn]=null));try{fS(e),iL(n.bindingStartIndex),t!==null&&C0(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let m=n.preOrderCheckHooks;m!==null&&gd(e,m,null)}else{let m=n.preOrderHooks;m!==null&&md(e,m,0,null),Mm(e,0)}if(s||Mj(e),O0(e),L0(e,0),n.contentQueries!==null&&r0(n,e),!o)if(h){let m=n.contentCheckHooks;m!==null&&gd(e,m)}else{let m=n.contentHooks;m!==null&&md(e,m,1),Mm(e,1)}xj(n,e);let p=n.components;p!==null&&j0(e,p,0);let g=n.viewQuery;if(g!==null&&ly(2,g,r),!o)if(h){let m=n.viewCheckHooks;m!==null&&gd(e,m)}else{let m=n.viewHooks;m!==null&&md(e,m,2),Mm(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Nm]){for(let m of e[Nm])m();e[Nm]=null}o||(P0(e),e[Z]&=-73)}catch(h){throw o||Ss(e),h}finally{l!==null&&(Sl(l,c),a&&Tj(l)),_v()}}function L0(n,e){for(let t=KS(n);t!==null;t=QS(t))for(let r=pt;r<t.length;r++){let i=t[r];V0(i,e)}}function Mj(n){for(let e=KS(n);e!==null;e=QS(e)){if(!(e[Z]&2))continue;let t=e[ys];for(let r=0;r<t.length;r++){let i=t[r];pS(i)}}}function Pj(n,e,t){De(18);let r=Ln(e,n);V0(r,t),De(19,r[Ze])}function V0(n,e){lv(n)&&Iy(n,e)}function Iy(n,e){let r=n[re],i=n[Z],o=n[nn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Al(o)),s||=!1,o&&(o.dirty=!1),n[Z]&=-9217,s)Nj(r,n,r.template,n[Ze]);else if(i&8192){O0(n),L0(n,1);let a=r.components;a!==null&&j0(n,a,1),P0(n)}}function j0(n,e,t){for(let r=0;r<e.length;r++)Pj(n,e[r],t)}function xj(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Zi(~i);else{let o=i,s=t[++r],a=t[++r];sL(s,o);let c=e[o];De(24,c),a(2,c),De(25,c)}}}finally{Zi(-1)}}function qv(n,e){let t=vS()?64:1088;for(n[mr].changeDetectionScheduler?.notify(e);n;){n[Z]|=t;let r=Yi(n);if(Sd(n)&&!r)return n;n=r}return null}function U0(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function B0(n,e){let t=pt+e;if(t<n.length)return n[t]}function Cc(n,e,t,r=!0){let i=e[re];if(kj(i,e,n,t),r){let s=Ey(t,n),a=e[Ne],c=a.parentNode(n[Qi]);c!==null&&dj(i,n[Ft],a,e,c,s)}let o=e[gs];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function $0(n,e){let t=yc(n,e);return t!==void 0&&dh(t[re],t),t}function yc(n,e){if(n.length<=pt)return;let t=pt+e,r=n[t];if(r){let i=r[Wi];i!==null&&i!==n&&Hv(i,r),e>0&&(n[t-1][gn]=r[gn]);let o=Dd(n,pt+e);lj(r[re],r);let s=o[yr];s!==null&&s.detachView(o[re]),r[gt]=null,r[gn]=null,r[Z]&=-129}return r}function kj(n,e,t,r){let i=pt+r,o=t.length;r>0&&(t[i-1][gn]=e),r<o-pt?(e[gn]=t[i],ZC(t,pt+r,e)):(t.push(e),e[gn]=null),e[gt]=t;let s=e[Wi];s!==null&&t!==s&&H0(s,e);let a=e[yr];a!==null&&a.insertView(n),Zm(e),e[Z]|=128}function H0(n,e){let t=n[ys],r=e[gt];if(ei(r))n[Z]|=2;else{let i=r[gt][qt];e[qt]!==i&&(n[Z]|=2)}t===null?n[ys]=[e]:t.push(e)}var vc=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[re];return Fd(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[Ze]}set context(e){this._lView[Ze]=e}get destroyed(){return Cs(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[gt];if(Ir(e)){let t=e[Cd],r=t?t.indexOf(this):-1;r>-1&&(yc(e,r),Dd(t,r))}this._attachedToViewContainer=!1}dh(this._lView[re],this._lView)}onDestroy(e){gS(this._lView,e)}markForCheck(){qv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Z]&=-129}reattach(){Zm(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,F0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Sd(this._lView),t=this._lView[Wi];t!==null&&!e&&Hv(t,this._lView),S0(this._lView[re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e;let t=Sd(this._lView),r=this._lView[Wi];r!==null&&!t&&H0(r,this._lView),Zm(this._lView)}};var Xi=(()=>{class n{static __NG_ELEMENT_ID__=Lj}return n})(),Oj=Xi,Fj=class extends Oj{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=bc(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new vc(i)}};function Lj(){return ph(mt(),Y())}function ph(n,e){return n.type&4?new Fj(e,n,As(n,e)):null}function Ms(n,e,t,r,i){let o=n.data[e];if(o===null)o=Vj(n,e,t,r,i),oL()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=tL();o.injectorIndex=s===null?-1:s.injectorIndex}return oi(o,!0),o}function Vj(n,e,t,r,i){let o=yS(),s=pv(),a=s?o:o&&o.parent,c=n.data[e]=Uj(n,a,t,e,r,i);return jj(n,c,o,s),c}function jj(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function Uj(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return mS()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var RJ=new RegExp(`^(\\d+)*(${GL}|${qL})*(.*)`);var Bj=()=>null;function Es(n,e){return Bj(n,e)}var $j=class{},z0=class{},wy=class{resolveComponentFactory(e){throw Error(`No component factory found for ${xt(e)}.`)}},gh=class{static NULL=new wy},Is=class{},sn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>Hj()}return n})();function Hj(){let n=Y(),e=mt(),t=Ln(e.index,n);return(ei(t)?t:n)[Ne]}var zj=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>null})}return n})();var km={},Dy=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Wd(r);let i=this.injector.get(e,km,r);return i!==km||t===km?i:this.parentInjector.get(e,t,r)}};function Ty(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Hm(i,a);else if(o==2){let c=a,l=e[++s];r=Hm(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function z(n,e=ce.Default){let t=Y();if(t===null)return G(n,e);let r=mt();return xS(r,t,bt(n),e)}function q0(){let n="invalid";throw new Error(n)}function Gv(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,c=null,l=null,h=Gj(s);h===null?a=s:[a,c,l]=h,Qj(n,e,t,a,o,c,l)}o!==null&&r!==null&&qj(t,r,o)}function qj(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new L(-301,!1);r.push(e[i],o)}}function Gj(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&On(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,Wj(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function Wj(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function Kj(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Qj(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let g=0;g<a;g++){let m=r[g];!c&&On(m)&&(c=!0,Kj(n,t,g)),ty(Pd(t,e),n,m.type)}t2(t,n.data.length,a);for(let g=0;g<a;g++){let m=r[g];m.providersResolver&&m.providersResolver(m)}let l=!1,h=!1,p=T0(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let m=r[g];if(t.mergedAttrs=vs(t.mergedAttrs,m.hostAttrs),Zj(n,t,e,p,m),e2(p,m,i),s!==null&&s.has(m)){let[A,R]=s.get(m);t.directiveToIndex.set(m.type,[p,A+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,p);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let w=m.type.prototype;!l&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(w.ngOnChanges||w.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}Yj(n,t,o)}function Yj(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))EC(0,e,i,r),EC(1,e,i,r),wC(e,r,!1);else{let o=t.get(i);IC(0,e,o,r),IC(1,e,o,r),wC(e,r,!0)}}}function EC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),G0(e,o)}}function IC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),G0(e,s)}}function G0(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function wC(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||xv(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let l=i[c];for(let h of l)if(h===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function Zj(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=qi(i.type,!0)),s=new Ji(o,On(i),z);n.blueprint[r]=s,t[r]=s,Jj(n,e,r,T0(n,t,i.hostVars,Lt),i)}function Jj(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;Xj(s)!=a&&s.push(a),s.push(t,r,o)}}function Xj(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function e2(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;On(e)&&(t[""]=n)}}function t2(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function W0(n,e,t,r,i,o,s,a){let c=e.consts,l=ni(c,s),h=Ms(e,n,2,r,l);return o&&Gv(e,t,h,ni(c,a),i),h.mergedAttrs=vs(h.mergedAttrs,h.attrs),h.attrs!==null&&Ty(h,h.attrs,!1),h.mergedAttrs!==null&&Ty(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function K0(n,e){Ev(n,e),av(e)&&n.queries.elementEnd(e)}var Ld=class extends gh{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ti(e);return new eo(t,this.ngModule)}};function n2(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&ch.SignalBased)!==0};return i&&(o.transform=i),o})}function r2(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function i2(n,e,t){let r=e instanceof et?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Dy(t,r):t}function o2(n){let e=n.get(Is,null);if(e===null)throw new L(407,!1);let t=n.get(zj,null),r=n.get(ri,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function s2(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return E0(e,t,t==="svg"?HF:t==="math"?zF:null)}var eo=class extends z0{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=n2(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=r2(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=LV(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){De(22);let o=ue(null);try{let s=this.componentDef,a=r?["ng-version","19.2.14"]:VV(this.componentDef.selectors[0]),c=kv(0,null,null,1,0,null,null,null,null,[a],null),l=i2(s,i||this.ngModule,e),h=o2(l),p=h.rendererFactory.createRenderer(null,s),g=r?KV(p,r,s.encapsulation,l):s2(s,p),m=Ov(null,c,null,512|D0(s),null,null,h,p,l,null,n0(g,l,!0));m[ze]=g,vv(m);let w=null;try{let A=W0(ze,c,m,"#host",()=>[this.componentDef],!0,0);g&&(w0(p,g,A),Rs(g,m)),uh(c,m,A),Nv(c,A,m),K0(c,A),t!==void 0&&a2(A,this.ngContentSelectors,t),w=Ln(A.index,m),m[Ze]=w[Ze],Uv(c,m,null)}catch(A){throw w!==null&&ay(w),ay(m),A}finally{De(23),_v()}return new by(this.componentType,m)}finally{ue(o)}}},by=class extends $j{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=cv(t[re],ze),this.location=As(this._tNode,t),this.instance=Ln(this._tNode.index,t)[Ze],this.hostView=this.changeDetectorRef=new vc(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=jv(r,i[re],i,e,t);this.previousInputValues.set(e,t);let s=Ln(r.index,i);qv(s,1)}get injector(){return new Hi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function a2(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Sr=(()=>{class n{static __NG_ELEMENT_ID__=c2}return n})();function c2(){let n=mt();return Y0(n,Y())}var u2=Sr,Q0=class extends u2{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return As(this._hostTNode,this._hostLView)}get injector(){return new Hi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Iv(this._hostTNode,this._hostLView);if(SS(e)){let t=Nd(e,this._hostLView),r=Rd(e),i=t[re].data[r+8];return new Hi(i,t)}else return new Hi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=DC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-pt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Es(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,_s(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!jF(e),a;if(s)a=t;else{let w=t||{};a=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let c=s?e:new eo(ti(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let A=(s?l:this.parentInjector).get(et,null);A&&(o=A)}let h=ti(c.componentType??{}),p=Es(this._lContainer,h?.id??null),g=p?.firstChild??null,m=c.create(l,i,g,o);return this.insertImpl(m.hostView,a,_s(this._hostTNode,p)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(GF(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[gt],l=new Q0(c,c[Ft],c[gt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Cc(s,i,o,r),e.attachToViewContainerRef(),ZC(Om(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=DC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=yc(this._lContainer,t);r&&(Dd(Om(this._lContainer),t),dh(r[re],r))}detach(e){let t=this._adjustIndex(e,-1),r=yc(this._lContainer,t);return r&&Dd(Om(this._lContainer),t)!=null?new vc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function DC(n){return n[Cd]}function Om(n){return n[Cd]||(n[Cd]=[])}function Y0(n,e){let t,r=e[n.index];return Ir(r)?t=r:(t=U0(r,e,null,n),e[n.index]=t,Fv(e,t)),d2(t,e,n,r),new Q0(t,n,e)}function l2(n,e){let t=n[Ne],r=t.createComment(""),i=Bn(e,n),o=t.parentNode(i);return Od(t,o,r,t.nextSibling(i),!1),r}var d2=p2,h2=()=>!1;function f2(n,e,t){return h2(n,e,t)}function p2(n,e,t,r){if(n[Qi])return;let i;t.type&8?i=Fn(r):i=l2(e,t),n[Qi]=i}var Cy=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Sy=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Kv(e,t).matches!==null&&this.queries[t].setDirty()}},Vd=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=E2(e):this.predicate=e}},Ay=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Ry=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,g2(t,o)),this.matchTNodeWithReadOption(e,t,yd(t,e,o,!1,!1))}else r===Xi?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,yd(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===yt||i===Sr||i===Xi&&t.type&4)this.addMatch(t.index,-2);else{let o=yd(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function g2(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function m2(n,e){return n.type&11?As(n,e):n.type&4?ph(n,e):null}function y2(n,e,t,r){return t===-1?m2(e,n):t===-2?v2(n,e,r):gc(n,n[re],t,e)}function v2(n,e,t){if(t===yt)return As(e,n);if(t===Xi)return ph(e,n);if(t===Sr)return Y0(e,n)}function Z0(n,e,t,r){let i=e[yr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let h=o[l];a.push(y2(e,h,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Ny(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=Z0(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-c];for(let p=pt;p<h.length;p++){let g=h[p];g[Wi]===g[gt]&&Ny(g[re],g,l,r)}if(h[ys]!==null){let p=h[ys];for(let g=0;g<p.length;g++){let m=p[g];Ny(m[re],m,l,r)}}}}}return r}function Wv(n,e){return n[yr].queries[e].queryList}function J0(n,e,t){let r=new sy((t&4)===4);return QF(n,e,r,r.destroy),(e[yr]??=new Sy).queries.push(new Cy(r))-1}function _2(n,e,t){let r=Re();return r.firstCreatePass&&(eA(r,new Vd(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),J0(r,Y(),e)}function X0(n,e,t,r){let i=Re();if(i.firstCreatePass){let o=mt();eA(i,new Vd(e,t,r),o.index),I2(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return J0(i,Y(),t)}function E2(n){return n.split(",").map(e=>e.trim())}function eA(n,e,t){n.queries===null&&(n.queries=new Ay),n.queries.track(new Ry(e,t))}function I2(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Kv(n,e){return n.queries.getByIndex(e)}function tA(n,e){let t=n[re],r=Kv(t,e);return r.crossesNgTemplate?Ny(t,n,e,[]):Z0(t,n,r,e)}function nA(n,e,t){let r,i=Ml(()=>{r._dirtyCounter();let o=b2(r,n);if(e&&o===void 0)throw new L(-951,!1);return o});return r=i[Rt],r._dirtyCounter=si(0),r._flatValue=void 0,i}function w2(n){return nA(!0,!1,n)}function D2(n){return nA(!0,!0,n)}function T2(n,e){let t=n[Rt];t._lView=Y(),t._queryIndex=e,t._queryList=Wv(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(r=>r+1))}function b2(n,e){let t=n._lView,r=n._queryIndex;if(t===void 0||r===void 0||t[Z]&4)return e?void 0:Ct;let i=Wv(t,r),o=tA(t,r);return i.reset(o,HS),e?i.first:i._changesDetected||n._flatValue===void 0?n._flatValue=i.toArray():n._flatValue}function TC(n,e){return w2(e)}function C2(n,e){return D2(e)}var kJ=(TC.required=C2,TC);var ws=class{},Qv=class{};var My=class extends ws{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ld(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=eS(e);this._bootstrapComponents=y0(o.bootstrap),this._r3Injector=FS(e,t,[{provide:ws,useValue:this},{provide:gh,useValue:this.componentFactoryResolver},...r],xt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Py=class extends Qv{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new My(this.moduleType,e,[])}};var jd=class extends ws{injector;componentFactoryResolver=new Ld(this);instance=null;constructor(e){super();let t=new fc([...e.providers,{provide:ws,useValue:this},{provide:gh,useValue:this.componentFactoryResolver}],e.parent||Qd(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Sc(n,e,t=null){return new jd({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var S2=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=tS(!1,t.type),i=r.length>0?Sc([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=j({token:n,providedIn:"environment",factory:()=>new n(G(et))})}return n})();function rA(n){return Ec(()=>{let e=iA(n),t=oe(O({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===GS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(S2).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||jn.Emulated,styles:n.styles||Ct,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Tr("NgStandalone"),oA(t);let r=n.dependencies;return t.directiveDefs=bC(r,!1),t.pipeDefs=bC(r,!0),t.id=P2(t),t})}function A2(n){return ti(n)||SF(n)}function R2(n){return n!==null}function Vt(n){return Ec(()=>({type:n.type,bootstrap:n.bootstrap||Ct,declarations:n.declarations||Ct,imports:n.imports||Ct,exports:n.exports||Ct,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function N2(n,e){if(n==null)return Gi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=ch.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function M2(n){if(n==null)return Gi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function _e(n){return Ec(()=>{let e=iA(n);return oA(e),e})}function Yv(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function iA(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Gi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Ct,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:N2(n.inputs,e),outputs:M2(n.outputs),debugInfo:null}}function oA(n){n.features?.forEach(e=>e(n))}function bC(n,e){if(!n)return null;let t=e?AF:A2;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(R2)}function P2(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function x2(n){return Object.getPrototypeOf(n.prototype).constructor}function vt(n){let e=x2(n.type),t=!0,r=[n];for(;e;){let i;if(On(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new L(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Fm(n.inputs),s.declaredInputs=Fm(n.declaredInputs),s.outputs=Fm(n.outputs);let a=i.hostBindings;a&&V2(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&F2(n,c),l&&L2(n,l),k2(n,i),oF(n.outputs,i.outputs),On(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===vt&&(t=!1)}}e=Object.getPrototypeOf(e)}O2(r)}function k2(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function O2(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=vs(i.hostAttrs,t=vs(t,i.hostAttrs))}}function Fm(n){return n===Gi?{}:n===Ct?[]:n}function F2(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function L2(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function V2(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function sA(n){return Zv(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function j2(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Zv(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Jv(n,e,t){return n[e]=t}function U2(n,e){return n[e]}function rn(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function aA(n,e,t,r){let i=rn(n,e,t);return rn(n,e+1,r)||i}function B2(n,e,t,r,i,o,s,a,c){let l=e.consts,h=Ms(e,n,4,s||null,a||null);fv()&&Gv(e,t,h,ni(l,c),Vv),h.mergedAttrs=vs(h.mergedAttrs,h.attrs),Ev(e,h);let p=h.tView=kv(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Ud(n,e,t,r,i,o,s,a,c,l){let h=t+ze,p=e.firstCreatePass?B2(h,e,n,r,i,o,s,a,c):e.data[h];oi(p,!1);let g=H2(e,n,p,t);th()&&hh(e,n,g,p),Rs(g,n);let m=U0(g,n,g,p);return n[h]=m,Fv(n,m),f2(m,p,n),Zd(p)&&uh(e,n,p),c!=null&&Lv(n,p,l),p}function $2(n,e,t,r,i,o,s,a){let c=Y(),l=Re(),h=ni(l.consts,o);return Ud(c,l,n,e,t,r,i,h,s,a),$2}var H2=z2;function z2(n,e,t,r){return nh(!0),e[Ne].createComment("")}var Xv=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var e_=new V(""),Ac=new V(""),mh=(()=>{class n{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(t,r,i){this._ngZone=t,this.registry=r,sv()&&(this._destroyRef=M(Dr,{optional:!0})??void 0),t_||(q2(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let t=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{t.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static \u0275fac=function(r){return new(r||n)(G(he),G(yh),G(Ac))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),yh=(()=>{class n{_applications=new Map;registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return t_?.findTestabilityInTree(this,t,r)??null}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function q2(n){t_=n}var t_,cA=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>new xy})}return n})(),xy=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function ro(n){return!!n&&typeof n.then=="function"}function uA(n){return!!n&&typeof n.subscribe=="function"}var lA=new V("");function n_(n){return Gt([{provide:lA,multi:!0,useValue:n}])}var dA=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=M(lA,{optional:!0})??[];injector=M(ke);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=tt(this.injector,i);if(ro(o))t.push(o);else if(uA(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vh=new V("");function G2(){sm(()=>{throw new L(600,!1)})}function W2(n){return n.isBoundToModule}var K2=10;var _r=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=M(OL);afterRenderManager=M(e0);zonelessEnabled=M(ih);rootEffectScheduler=M(cA);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ae;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=M(Hn).hasPendingTasks.pipe(ne(t=>!t));constructor(){M(Ns,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=M(et);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=ke.NULL){De(10);let o=t instanceof z0;if(!this._injector.get(dA).done){let m="";throw new L(405,m)}let a;o?a=t:a=this._injector.get(gh).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let c=W2(a)?void 0:this._injector.get(ws),l=r||a.selector,h=a.create(i,[],l,c),p=h.location.nativeElement,g=h.injector.get(e_,null);return g?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),vd(this.components,h),g?.unregisterApplication(p)}),this._loadComponent(h),De(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){De(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Sv.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new L(101,!1);let t=ue(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ue(t),this.afterTick.next(),De(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Is,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<K2;)De(14),this.synchronizeOnce(),De(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)Q2(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Jd(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;vd(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(vh,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>vd(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new L(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vd(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Q2(n,e,t,r){if(!t&&!Jd(n))return;F0(n,e,t&&!r?0:1)}function Ps(n,e,t,r){let i=Y(),o=no();if(rn(i,o,e)){let s=Re(),a=Dc();nj(a,i,n,e,t,r)}return Ps}function hA(n,e,t,r){return rn(n,no(),t)?e+zi(t)+r:Lt}function Y2(n,e,t,r,i,o){let s=rL(),a=aA(n,s,t,i);return mv(2),a?e+zi(t)+r+zi(i)+o:Lt}function fd(n,e){return n<<17|e<<2}function to(n){return n>>17&32767}function Z2(n){return(n&2)==2}function J2(n,e){return n&131071|e<<17}function ky(n){return n|2}function Ds(n){return(n&131068)>>2}function Lm(n,e){return n&-131069|e<<2}function X2(n){return(n&1)===1}function Oy(n){return n|1}function eU(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=to(s),c=Ds(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Ic(p,h)>0)&&(l=!0)}else h=t;if(i)if(c!==0){let g=to(n[a+1]);n[r+1]=fd(g,a),g!==0&&(n[g+1]=Lm(n[g+1],r)),n[a+1]=J2(n[a+1],r)}else n[r+1]=fd(a,0),a!==0&&(n[a+1]=Lm(n[a+1],r)),a=r;else n[r+1]=fd(c,0),a===0?a=r:n[c+1]=Lm(n[c+1],r),c=r;l&&(n[r+1]=ky(n[r+1])),CC(n,h,r,!0),CC(n,h,r,!1),tU(e,h,n,r,o),s=fd(a,c),o?e.classBindings=s:e.styleBindings=s}function tU(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Ic(o,e)>=0&&(t[r+1]=Oy(t[r+1]))}function CC(n,e,t,r){let i=n[t+1],o=e===null,s=r?to(i):Ds(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];nU(c,e)&&(a=!0,n[s+1]=r?Oy(l):ky(l)),s=r?to(l):Ds(l)}a&&(n[t+1]=r?ky(i):Oy(i))}function nU(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ic(n,e)>=0:!1}var pn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function rU(n){return n.substring(pn.key,pn.keyEnd)}function iU(n){return oU(n),fA(n,pA(n,0,pn.textEnd))}function fA(n,e){let t=pn.textEnd;return t===e?-1:(e=pn.keyEnd=sU(n,pn.key=e,t),pA(n,e,t))}function oU(n){pn.key=0,pn.keyEnd=0,pn.value=0,pn.valueEnd=0,pn.textEnd=n.length}function pA(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function sU(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function aU(n,e,t){let r=Y(),i=no();if(rn(r,i,e)){let o=Re(),s=Dc();lh(o,s,r,n,e,r[Ne],t,!1)}return aU}function Fy(n,e,t,r,i){jv(e,n,t,i?"class":"style",r)}function _h(n,e){return uU(n,e,null,!0),_h}function LJ(n){lU(mU,cU,n,!0)}function cU(n,e){for(let t=iU(e);t>=0;t=fA(e,t))iv(n,rU(e),!0)}function uU(n,e,t,r){let i=Y(),o=Re(),s=mv(2);if(o.firstUpdatePass&&mA(o,n,s,r),e!==Lt&&rn(i,s,e)){let a=o.data[wr()];yA(o,a,i,i[Ne],n,i[s+1]=vU(e,t),r,s)}}function lU(n,e,t,r){let i=Re(),o=mv(2);i.firstUpdatePass&&mA(i,null,o,r);let s=Y();if(t!==Lt&&rn(s,o,t)){let a=i.data[wr()];if(vA(a,r)&&!gA(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=Hm(c,t||"")),Fy(i,a,s,t,r)}else yU(i,a,s,s[Ne],s[o+1],s[o+1]=gU(n,e,t),r,o)}}function gA(n,e){return e>=n.expandoStartIndex}function mA(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[wr()],s=gA(n,t);vA(o,r)&&e===null&&!s&&(e=!1),e=dU(i,o,e,r),eU(i,o,e,t,s,r)}}function dU(n,e,t,r){let i=cL(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Vm(null,n,e,t,r),t=_c(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Vm(i,n,e,t,r),o===null){let c=hU(n,e,r);c!==void 0&&Array.isArray(c)&&(c=Vm(null,n,e,c[1],r),c=_c(c,e.attrs,r),fU(n,e,r,c))}else o=pU(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function hU(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Ds(r)!==0)return n[to(r)]}function fU(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[to(i)]=r}function pU(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=_c(r,s,t)}return _c(r,e.attrs,t)}function Vm(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=_c(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function _c(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),iv(n,s,t?!0:e[++o]))}return n===void 0?null:n}function gU(n,e,t){if(t==null||t==="")return Ct;let r=[],i=on(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function mU(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&iv(n,r,t)}function yU(n,e,t,r,i,o,s,a){i===Lt&&(i=Ct);let c=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let g=c<i.length?i[c+1]:void 0,m=l<o.length?o[l+1]:void 0,w=null,A;h===p?(c+=2,l+=2,g!==m&&(w=p,A=m)):p===null||h!==null&&h<p?(c+=2,w=h):(l+=2,w=p,A=m),w!==null&&yA(n,e,t,r,w,A,s,a),h=c<i.length?i[c]:null,p=l<o.length?o[l]:null}}function yA(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],h=X2(l)?SC(c,e,t,i,Ds(l),s):void 0;if(!Bd(h)){Bd(o)||Z2(l)&&(o=SC(c,null,t,i,a,s));let p=dS(wr(),t);Ej(r,s,p,i,o)}}function SC(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),h=l?c[1]:c,p=h===null,g=t[i+1];g===Lt&&(g=p?Ct:void 0);let m=p?Am(g,r):h===r?g:void 0;if(l&&!Bd(m)&&(m=Am(c,r)),Bd(m)&&(a=m,s))return a;let w=n[i+1];i=s?to(w):Ds(w)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Am(c,r))}return a}function Bd(n){return n!==void 0}function vU(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=xt(on(n)))),n}function vA(n,e){return(n.flags&(e?8:16))!==0}var Ly=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function jm(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function _U(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let l=n.at(o),h=e[o],p=jm(o,l,o,h,t);if(p!==0){p<0&&n.updateValue(o,h),o++;continue}let g=n.at(s),m=e[c],w=jm(s,g,c,m,t);if(w!==0){w<0&&n.updateValue(s,m),s--,c--;continue}let A=t(o,l),R=t(s,g),k=t(o,h);if(Object.is(k,R)){let H=t(c,m);Object.is(H,A)?(n.swap(o,s),n.updateValue(s,m),c--,s--):n.move(s,o),n.updateValue(o,h),o++;continue}if(r??=new $d,i??=RC(n,o,s,t),Vy(n,r,o,k))n.updateValue(o,h),o++,s++;else if(i.has(k))r.set(A,n.detach(o)),s--;else{let H=n.create(o,e[o]);n.attach(o,H),o++,s++}}for(;o<=c;)AC(n,r,t,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let h=n.at(o),p=l.value,g=jm(o,h,o,p,t);if(g!==0)g<0&&n.updateValue(o,p),o++,l=c.next();else{r??=new $d,i??=RC(n,o,s,t);let m=t(o,p);if(Vy(n,r,o,m))n.updateValue(o,p),o++,s++,l=c.next();else if(!i.has(m))n.attach(o,n.create(o,p)),o++,s++,l=c.next();else{let w=t(o,h);r.set(w,n.detach(o)),s--}}}for(;!l.done;)AC(n,r,t,n.length,l.value),l=c.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(c=>{n.destroy(c)})}function Vy(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function AC(n,e,t,r,i){if(Vy(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function RC(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var $d=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function VJ(n,e){Tr("NgControlFlow");let t=Y(),r=no(),i=t[r]!==Lt?t[r]:-1,o=i!==-1?Hd(t,ze+i):void 0,s=0;if(rn(t,r,n)){let a=ue(null);try{if(o!==void 0&&$0(o,s),n!==-1){let c=ze+n,l=Hd(t,c),h=$y(t[re],c),p=Es(l,h.tView.ssrId),g=bc(t,h,e,{dehydratedView:p});Cc(l,g,s,_s(h,p))}}finally{ue(a)}}else if(o!==void 0){let a=B0(o,s);a!==void 0&&(a[Ze]=e)}}var jy=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-pt}};function jJ(n){return n}var Uy=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function UJ(n,e,t,r,i,o,s,a,c,l,h,p,g){Tr("NgControlFlow");let m=Y(),w=Re(),A=c!==void 0,R=Y(),k=a?s.bind(R[qt][Ze]):s,H=new Uy(A,k);R[ze+n]=H,Ud(m,w,n+1,e,t,r,i,ni(w.consts,o)),A&&Ud(m,w,n+2,c,l,h,p,ni(w.consts,g))}var By=class extends Ly{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-pt}at(e){return this.getLView(e)[Ze].$implicit}attach(e,t){let r=t[gs];this.needsIndexUpdate||=e!==this.length,Cc(this.lContainer,t,e,_s(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,EU(this.lContainer,e)}create(e,t){let r=Es(this.lContainer,this.templateTNode.tView.ssrId),i=bc(this.hostLView,this.templateTNode,new jy(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){dh(e[re],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Ze].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ze].$index=e}getLView(e){return IU(this.lContainer,e)}};function BJ(n){let e=ue(null),t=wr();try{let r=Y(),i=r[re],o=r[t],s=t+1,a=Hd(r,s);if(o.liveCollection===void 0){let l=$y(i,s);o.liveCollection=new By(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(_U(c,n,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=no(),h=c.length===0;if(rn(r,l,h)){let p=t+2,g=Hd(r,p);if(h){let m=$y(i,p),w=Es(g,m.tView.ssrId),A=bc(r,m,void 0,{dehydratedView:w});Cc(g,A,0,_s(m,w))}else $0(g,0)}}}finally{ue(e)}}function Hd(n,e){return n[e]}function EU(n,e){return yc(n,e)}function IU(n,e){return B0(n,e)}function $y(n,e){return cv(n,e)}function _A(n,e,t,r){let i=Y(),o=Re(),s=ze+n,a=i[Ne],c=o.firstCreatePass?W0(s,o,i,e,Vv,fv(),t,r):o.data[s],l=wU(o,i,c,a,e,n);i[s]=l;let h=Zd(c);return oi(c,!0),w0(a,l,c),!$v(c)&&th()&&hh(o,i,l,c),(YF()===0||h)&&Rs(l,i),ZF(),h&&(uh(o,i,c),Nv(o,c,i)),r!==null&&Lv(i,c),_A}function EA(){let n=mt();pv()?gv():(n=n.parent,oi(n,!1));let e=n;XF(e)&&eL(),JF();let t=Re();return t.firstCreatePass&&K0(t,e),e.classesWithoutHost!=null&&pL(e)&&Fy(t,e,Y(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&gL(e)&&Fy(t,e,Y(),e.stylesWithoutHost,!1),EA}function r_(n,e,t,r){return _A(n,e,t,r),EA(),r_}var wU=(n,e,t,r,i,o)=>(nh(!0),E0(r,i,dL()));function DU(n,e,t,r,i){let o=e.consts,s=ni(o,r),a=Ms(e,n,8,"ng-container",s);s!==null&&Ty(a,s,!0);let c=ni(o,i);return fv()&&Gv(e,t,a,c,Vv),a.mergedAttrs=vs(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function IA(n,e,t){let r=Y(),i=Re(),o=n+ze,s=i.firstCreatePass?DU(o,i,r,e,t):i.data[o];oi(s,!0);let a=bU(i,r,s,n);return r[o]=a,th()&&hh(i,r,a,s),Rs(a,r),Zd(s)&&(uh(i,r,s),Nv(i,s,r)),t!=null&&Lv(r,s),IA}function wA(){let n=mt(),e=Re();return pv()?gv():(n=n.parent,oi(n,!1)),e.firstCreatePass&&(Ev(e,n),av(n)&&e.queries.elementEnd(n)),wA}function TU(n,e,t){return IA(n,e,t),wA(),TU}var bU=(n,e,t,r)=>(nh(!0),BV(e[Ne],""));function $J(){return Y()}function CU(n,e,t){let r=Y(),i=no();if(rn(r,i,e)){let o=Re(),s=Dc();lh(o,s,r,n,e,r[Ne],t,!0)}return CU}var Bi=void 0;function SU(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var AU=["en",[["a","p"],["AM","PM"],Bi],[["AM","PM"],Bi,Bi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bi,"{1} 'at' {0}",Bi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",SU],Um={};function i_(n){let e=RU(n),t=NC(e);if(t)return t;let r=e.split("-")[0];if(t=NC(r),t)return t;if(r==="en")return AU;throw new L(701,!1)}function NC(n){return n in Um||(Um[n]=at.ng&&at.ng.common&&at.ng.common.locales&&at.ng.common.locales[n]),Um[n]}var xs=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(xs||{});function RU(n){return n.toLowerCase().replace(/_/g,"-")}var zd="en-US";var NU=zd;function MU(n){typeof n=="string"&&(NU=n.toLowerCase().replace(/_/g,"-"))}function MC(n,e,t){return function r(i){if(i===Function)return t;let o=bs(n)?Ln(n.index,e):e;qv(o,5);let s=e[Ze],a=PC(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=PC(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function PC(n,e,t,r){let i=ue(null);try{return De(6,e,t),t(r)!==!1}catch(o){return PU(n,o),!1}finally{De(7,e,t),ue(i)}}function PU(n,e){let t=n[ms],r=t?t.get(Vn,null):null;r&&r.handleError(e)}function xC(n,e,t,r,i,o){let s=e[t],a=e[re],l=a.data[t].outputs[r],h=s[l],p=a.firstCreatePass?hv(a):null,g=dv(e),m=h.subscribe(o),w=g.length;g.push(o,m),p&&p.push(i,n.index,w,-(w+1))}function zn(n,e,t,r){let i=Y(),o=Re(),s=mt();return DA(o,i,i[Ne],s,n,e,r),zn}function xU(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[bd],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function DA(n,e,t,r,i,o,s){let a=Zd(r),l=n.firstCreatePass?hv(n):null,h=dv(e),p=!0;if(r.type&3||s){let g=Bn(r,e),m=s?s(g):g,w=h.length,A=s?k=>s(Fn(k[r.index])):r.index,R=null;if(!s&&a&&(R=xU(n,e,i,r.index)),R!==null){let k=R.__ngLastListenerFn__||R;k.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,p=!1}else{o=MC(r,e,o),eV(e,m,i,o);let k=t.listen(m,i,o);h.push(o,k),l&&l.push(i,A,w,w+1)}}else o=MC(r,e,o);if(p){let g=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let w=0;w<m.length;w+=2){let A=m[w],R=m[w+1];xC(r,e,A,R,i,o)}if(g&&g.length)for(let w of g)xC(r,e,w,i,i,o)}}function HJ(n=1){return lL(n)}function kU(n,e){let t=null,r=PV(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?_0(n,o,!0):OV(r,o))return i}return t}function zJ(n){let e=Y()[qt][Ft];if(!e.projection){let t=n?n.length:1,r=e.projection=TF(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?kU(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function qJ(n,e=0,t,r,i,o){let s=Y(),a=Re(),c=r?n+1:null;c!==null&&Ud(s,a,c,r,i,o,null,t);let l=Ms(a,ze+n,16,null,t||null);l.projection===null&&(l.projection=e),gv();let p=!s[gs]||mS();s[qt][Ft].projection[l.projection]===null&&c!==null?OU(s,a,c):p&&!$v(l)&&vj(a,s,l)}function OU(n,e,t){let r=ze+t,i=e.data[r],o=n[r],s=Es(o,i.tView.ssrId),a=bc(n,i,void 0,{dehydratedView:s});Cc(o,a,0,_s(i,s))}function FU(n,e,t){return TA(n,"",e,"",t),FU}function TA(n,e,t,r,i){let o=Y(),s=hA(o,e,t,r);if(s!==Lt){let a=Re(),c=Dc();lh(a,c,o,n,s,o[Ne],i,!1)}return TA}function bA(n,e,t,r){X0(n,e,t,r)}function GJ(n,e,t){_2(n,e,t)}function CA(n){let e=Y(),t=Re(),r=yv();eh(r+1);let i=Kv(t,r);if(n.dirty&&qF(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=tA(e,r);n.reset(o,HS),n.notifyOnChanges()}return!0}return!1}function SA(){return Wv(Y(),yv())}function WJ(n,e,t,r,i){T2(e,X0(n,t,r,i))}function KJ(n=1){eh(yv()+n)}function QJ(n){let e=nL();return uv(e,ze+n)}function YJ(n,e=""){let t=Y(),r=Re(),i=n+ze,o=r.firstCreatePass?Ms(r,i,1,e,null):r.data[i],s=LU(r,t,o,e,n);t[i]=s,th()&&hh(r,t,s,o),oi(o,!1)}var LU=(n,e,t,r,i)=>(nh(!0),jV(e[Ne],r));function VU(n){return AA("",n,""),VU}function AA(n,e,t){let r=Y(),i=hA(r,n,e,t);return i!==Lt&&RA(r,wr(),i),AA}function jU(n,e,t,r,i){let o=Y(),s=Y2(o,n,e,t,r,i);return s!==Lt&&RA(o,wr(),s),jU}function RA(n,e,t){let r=dS(e,n);UV(n[Ne],r,t)}function UU(n,e,t){zS(e)&&(e=e());let r=Y(),i=no();if(rn(r,i,e)){let o=Re(),s=Dc();lh(o,s,r,n,e,r[Ne],t,!1)}return UU}function ZJ(n,e){let t=zS(n);return t&&n.set(e),t}function BU(n,e){let t=Y(),r=Re(),i=mt();return DA(r,t,t[Ne],i,n,e),BU}var $U={};function HU(n){let e=Re(),t=Y(),r=n+ze,i=Ms(e,r,128,null,null);return oi(i,!1),hS(e,t,r,$U),HU}function zU(n,e,t){let r=Re();if(r.firstCreatePass){let i=On(n);Hy(t,r.data,r.blueprint,i,!0),Hy(e,r.data,r.blueprint,i,!1)}}function Hy(n,e,t,r,i){if(n=bt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Hy(n[o],e,t,r,i);else{let o=Re(),s=Y(),a=mt(),c=ps(n)?n:bt(n.provide),l=iS(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(ps(n)||!n.multi){let m=new Ji(l,i,z),w=$m(c,e,i?h:h+g,p);w===-1?(ty(Pd(a,s),o,c),Bm(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[w]=m,s[w]=m)}else{let m=$m(c,e,h+g,p),w=$m(c,e,h,h+g),A=m>=0&&t[m],R=w>=0&&t[w];if(i&&!R||!i&&!A){ty(Pd(a,s),o,c);let k=WU(i?GU:qU,t.length,i,r,l);!i&&R&&(t[w].providerFactory=k),Bm(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(k),s.push(k)}else{let k=NA(t[i?w:m],l,!i&&r);Bm(o,n,m>-1?m:w,k)}!i&&r&&R&&t[w].componentProviders++}}}function Bm(n,e,t,r){let i=ps(e),o=xF(e);if(i||o){let c=(o?bt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,c]):l[h+1].push(r,c)}else l.push(t,c)}}}function NA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function $m(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function qU(n,e,t,r,i){return zy(this.multi,[])}function GU(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=gc(r,r[re],this.providerFactory.index,i);s=c.slice(0,a),zy(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],zy(o,s);return s}function zy(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function WU(n,e,t,r,i){let o=new Ji(n,t,z);return o.multi=[],o.index=e,o.componentProviders=0,NA(o,i,r&&!t),o}function an(n,e=[]){return t=>{t.providersResolver=(r,i)=>zU(r,i?i(n):n,e)}}function JJ(n,e,t){let r=Xd()+n,i=Y();return i[r]===Lt?Jv(i,r,t?e.call(t):e()):U2(i,r)}function XJ(n,e,t,r){return PA(Y(),Xd(),n,e,t,r)}function MA(n,e){let t=n[e];return t===Lt?void 0:t}function PA(n,e,t,r,i,o){let s=e+t;return rn(n,s,i)?Jv(n,s+1,o?r.call(o,i):r(i)):MA(n,s+1)}function KU(n,e,t,r,i,o,s){let a=e+t;return aA(n,a,i,o)?Jv(n,a+2,s?r.call(s,i,o):r(i,o)):MA(n,a+2)}function eX(n,e){let t=Re(),r,i=n+ze;t.firstCreatePass?(r=QU(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=qi(r.type,!0)),s,a=Pt(z);try{let c=Md(!1),l=o();return Md(c),hS(t,Y(),i,l),l}finally{Pt(a)}}function QU(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function tX(n,e,t){let r=n+ze,i=Y(),o=uv(i,r);return xA(i,r)?PA(i,Xd(),e,o.transform,t,o):o.transform(t)}function nX(n,e,t,r){let i=n+ze,o=Y(),s=uv(o,i);return xA(o,i)?KU(o,Xd(),e,s.transform,t,r,s):s.transform(t,r)}function xA(n,e){return n[re].data[e].pure}function rX(n,e){return ph(n,e)}var ii=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},kA=new ii("19.2.14"),qy=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},OA=(()=>{class n{compileModuleSync(t){return new Py(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=eS(t),o=y0(i.declarations).reduce((s,a)=>{let c=ti(a);return c&&s.push(new eo(c)),s},[]);return new qy(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var YU=(()=>{class n{zone=M(he);changeDetectionScheduler=M(ri);applicationRef=M(_r);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ZU=new V("",{factory:()=>!1});function FA({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new he(oe(O({},LA()),{scheduleInRootZone:t})),[{provide:he,useFactory:n},{provide:fs,multi:!0,useFactory:()=>{let r=M(YU,{optional:!0});return()=>r.initialize()}},{provide:fs,multi:!0,useFactory:()=>{let r=M(JU);return()=>{r.initialize()}}},e===!0?{provide:VS,useValue:!0}:[],{provide:jS,useValue:t??LS}]}function iX(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=FA({ngZoneFactory:()=>{let i=LA(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Tr("NgZone_CoalesceEvent"),new he(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Gt([{provide:ZU,useValue:!0},{provide:ih,useValue:!1},r])}function LA(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var JU=(()=>{class n{subscription=new Le;initialized=!1;zone=M(he);pendingTasks=M(Hn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{he.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var XU=(()=>{class n{appRef=M(_r);taskService=M(Hn);ngZone=M(he);zonelessEnabled=M(ih);tracing=M(Ns,{optional:!0});disableScheduling=M(VS,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Le;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(kd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(jS,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof oy||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?oC:US;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(kd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,oC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eB(){return typeof $localize<"u"&&$localize.locale||zd}var Eh=new V("",{providedIn:"root",factory:()=>M(Eh,ce.Optional|ce.SkipSelf)||eB()});var Gy=new V(""),tB=new V("");function uc(n){return!n.moduleRef}function nB(n){let e=uc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(he);return t.run(()=>{uc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Vn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),uc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Gy);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Gy);s.add(o),n.moduleRef.onDestroy(()=>{vd(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return iB(r,t,()=>{let o=e.get(dA);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Eh,zd);if(MU(s||zd),!e.get(tB,!0))return uc(n)?e.get(_r):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(uc(n)){let c=e.get(_r);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return rB(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function rB(n,e){let t=n.injector.get(_r);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new L(-403,!1);e.push(n)}function iB(n,e,t){try{let r=t();return ro(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var _d=null;function oB(n=[],e){return ke.create({name:e,providers:[{provide:Kd,useValue:"platform"},{provide:Gy,useValue:new Set([()=>_d=null])},...n]})}function sB(n=[]){if(_d)return _d;let e=oB(n);return _d=e,G2(),aB(e),e}function aB(n){let e=n.get(bv,null);tt(n,()=>{e?.forEach(t=>t())})}function o_(){return!1}var ci=(()=>{class n{static __NG_ELEMENT_ID__=cB}return n})();function cB(n){return uB(mt(),Y(),(n&16)===16)}function uB(n,e,t){if(bs(n)&&!t){let r=Ln(n.index,e);return new vc(r,r)}else if(n.type&175){let r=e[qt];return new vc(r,e)}return null}var Wy=class{constructor(){}supports(e){return sA(e)}create(e){return new Ky(e)}},lB=(n,e)=>e,Ky=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||lB}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<kC(r,i,o)?t:r,a=kC(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=c-i;if(l!=h){for(let g=0;g<l;g++){let m=g<o.length?o[g]:o[g]=0,w=m+g;h<=w&&w<l&&(o[g]=m+1)}let p=s.previousIndex;o[p]=h-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!sA(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,j2(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Qy(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new qd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new qd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Qy=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Yy=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},qd=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Yy,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function kC(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var Zy=class{constructor(){}supports(e){return e instanceof Map||Zv(e)}create(){return new Jy}},Jy=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Zv(e)))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new Xy(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},Xy=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function OC(){return new s_([new Wy])}var s_=(()=>{class n{factories;static \u0275prov=j({token:n,providedIn:"root",factory:OC});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||OC()),deps:[[n,new YC,new St]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new L(901,!1)}}return n})();function FC(){return new a_([new Zy])}var a_=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:FC});factories;constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||FC()),deps:[[n,new YC,new St]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new L(901,!1)}}return n})();var VA=(()=>{class n{constructor(t){}static \u0275fac=function(r){return new(r||n)(G(_r))};static \u0275mod=Vt({type:n});static \u0275inj=Ot({})}return n})();function jA(n){De(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=sB(r),o=[FA({}),{provide:ri,useExisting:XU},...t||[]],s=new jd({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return nB({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{De(9)}}function ui(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function yn(n){return um(n)}function io(n,e){return Ml(n,e?.equal)}var ev=class{[Rt];constructor(e){this[Rt]=e}destroy(){this[Rt].destroy()}};function UA(n,e){!e?.injector&&wc(UA);let t=e?.injector??M(ke),r=e?.manualCleanup!==!0?t.get(Dr):null,i,o=t.get(Av,null,{optional:!0}),s=t.get(ri);return o!==null&&!e?.forceRoot?(i=fB(o.view,s,n),r instanceof xd&&r._lView===o.view&&(r=null)):i=pB(n,t.get(cA),s),i.injector=t,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new ev(i)}var BA=oe(O({},Ko),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:mc,run(){if(this.dirty=!1,this.hasRun&&!Al(this))return;this.hasRun=!0;let n=r=>(this.cleanupFns??=[]).push(r),e=tc(this),t=Ad(!1);try{this.maybeCleanup(),this.fn(n)}finally{Ad(t),Sl(this,e)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),dB=oe(O({},BA),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){nc(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),hB=oe(O({},BA),{consumerMarkedDirty(){this.view[Z]|=8192,Ss(this.view),this.notifier.notify(13)},destroy(){nc(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Ki]?.delete(this)}});function fB(n,e,t){let r=Object.create(hB);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=t,n[Ki]??=new Set,n[Ki].add(r),r.consumerMarkedDirty(r),r}function pB(n,e,t){let r=Object.create(dB);return r.fn=n,r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(12),r}function oX(n,e){let t=ti(n),r=e.elementInjector||Qd();return new eo(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}function $A(n){let e=ti(n);if(!e)return null;let t=new eo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Be=new V("");var qA=null;function Kt(){return qA}function c_(n){qA??=n}var Rc=class{},Nc=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(GA),providedIn:"platform"})}return n})(),u_=new V(""),GA=(()=>{class n extends Nc{_location;_history;_doc=M(Be);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Kt().getBaseHref(this._doc)}onPopState(t){let r=Kt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Kt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Ih(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function HA(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function _n(n){return n&&n[0]!=="?"?`?${n}`:n}var En=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(Dh),providedIn:"root"})}return n})(),wh=new V(""),Dh=(()=>{class n extends En{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(Be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ih(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+_n(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+_n(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+_n(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(G(Nc),G(wh,8))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),li=(()=>{class n{_subject=new Ae;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=yB(HA(zA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+_n(r))}normalize(t){return n.stripTrailingSlash(mB(this._basePath,zA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_n(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_n(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=_n;static joinWithSlash=Ih;static stripTrailingSlash=HA;static \u0275fac=function(r){return new(r||n)(G(En))};static \u0275prov=j({token:n,factory:()=>gB(),providedIn:"root"})}return n})();function gB(){return new li(G(En))}function mB(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function zA(n){return n.replace(/\/index.html$/,"")}function yB(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var f_=(()=>{class n extends En{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Ih(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+_n(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+_n(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(G(Nc),G(wh,8))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();var p_=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(p_||{});var qn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function ks(n,e){let t=i_(n),r=t[xs.NumberSymbols][e];if(typeof r>"u"){if(e===qn.CurrencyDecimal)return t[xs.NumberSymbols][qn.Decimal];if(e===qn.CurrencyGroup)return t[xs.NumberSymbols][qn.Group]}return r}function ZA(n,e){return i_(n)[xs.NumberFormats][e]}var vB=/^(\d+)?\.((\d+)(-(\d+))?)?$/,WA=22,Th=".",Mc="0",_B=";",EB=",",l_="#";function IB(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=ks(t,qn.Infinity);else{let l=TB(n);s&&(l=DB(l));let h=e.minInt,p=e.minFrac,g=e.maxFrac;if(o){let H=o.match(vB);if(H===null)throw new Error(`${o} is not a valid digit info`);let q=H[1],ge=H[3],$e=H[5];q!=null&&(h=d_(q)),ge!=null&&(p=d_(ge)),$e!=null?g=d_($e):ge!=null&&p>g&&(g=p)}bB(l,p,g);let m=l.digits,w=l.integerLen,A=l.exponent,R=[];for(c=m.every(H=>!H);w<h;w++)m.unshift(0);for(;w<0;w++)m.unshift(0);w>0?R=m.splice(w,m.length):(R=m,m=[0]);let k=[];for(m.length>=e.lgSize&&k.unshift(m.splice(-e.lgSize,m.length).join(""));m.length>e.gSize;)k.unshift(m.splice(-e.gSize,m.length).join(""));m.length&&k.unshift(m.join("")),a=k.join(ks(t,r)),R.length&&(a+=ks(t,i)+R.join("")),A&&(a+=ks(t,qn.Exponential)+"+"+A)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function JA(n,e,t){let r=ZA(e,p_.Decimal),i=wB(r,ks(e,qn.MinusSign));return IB(n,i,e,qn.Group,qn.Decimal,t)}function wB(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(_B),i=r[0],o=r[1],s=i.indexOf(Th)!==-1?i.split(Th):[i.substring(0,i.lastIndexOf(Mc)+1),i.substring(i.lastIndexOf(Mc)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(l_));for(let h=0;h<c.length;h++){let p=c.charAt(h);p===Mc?t.minFrac=t.maxFrac=h+1:p===l_?t.maxFrac=h+1:t.posSuf+=p}let l=a.split(EB);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-t.posPre.length-t.posSuf.length,p=o.indexOf(l_);t.negPre=o.substring(0,p).replace(/'/g,""),t.negSuf=o.slice(p+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function DB(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function TB(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(Th))>-1&&(e=e.replace(Th,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Mc;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Mc;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>WA&&(r=r.splice(0,WA-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function bB(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,l=e+n.integerLen,h=r.reduceRight(function(p,g,m,w){return g=g+p,w[m]=g<10?g:g-10,c&&(w[m]===0&&m>=l?w.pop():c=!1),g>=10?1:0},0);h&&(r.unshift(h),n.integerLen++)}function d_(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}var h_=/\s+/,KA=[],CB=(()=>{class n{_ngEl;_renderer;initialClasses=KA;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(h_):KA}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(h_):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(h_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(z(yt),z(sn))};static \u0275dir=_e({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var bh=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},XA=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new bh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),QA(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);QA(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(z(Sr),z(Xi),z(s_))};static \u0275dir=_e({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function QA(n,e){n.context.$implicit=e.item}var SB=(()=>{class n{_viewContainer;_context=new Ch;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){YA(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){YA(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(z(Sr),z(Xi))};static \u0275dir=_e({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Ch=class{$implicit=null;ngIf=null};function YA(n,e){if(n&&!n.createEmbeddedView)throw new L(2020,!1)}var AB=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:Un.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(z(yt),z(a_),z(sn))};static \u0275dir=_e({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})(),RB=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(z(Sr))};static \u0275dir=_e({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Wt]})}return n})();function eR(n,e){return new L(2100,!1)}var NB=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw eR(n,t);return t.toUpperCase()}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=Yv({name:"uppercase",type:n,pure:!0})}return n})();var MB=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!PB(t))return null;i||=this._locale;try{let o=xB(t);return JA(o,i,r)}catch(o){throw eR(n,o.message)}}static \u0275fac=function(r){return new(r||n)(z(Eh,16))};static \u0275pipe=Yv({name:"number",type:n,pure:!0})}return n})();function PB(n){return!(n==null||n===""||n!==n)}function xB(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var g_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Vt({type:n});static \u0275inj=Ot({})}return n})();function Pc(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Sh="browser",tR="server";function kB(n){return n===Sh}function Ah(n){return n===tR}var oo=class{};var nR=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>new m_(M(Be),window)})}return n})(),m_=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=OB(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function OB(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Mh=new V(""),E_=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new L(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(G(Mh),G(he))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),xc=class{_doc;constructor(e){this._doc=e}manager},Rh="ng-app-id";function rR(n){for(let e of n)e.remove()}function iR(n,e){let t=e.createElement("style");return t.textContent=n,t}function LB(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Rh}="${e}"],link[${Rh}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Rh),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function v_(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var I_=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Ah(o),LB(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,iR);r?.forEach(i=>this.addUsage(i,this.external,v_))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(rR(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])rR(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,iR(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,v_(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Rh,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(G(Be),G(Tv),G(Cv,8),G(ai))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),y_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},w_=/%COMP%/g;var sR="%COMP%",VB=`_nghost-${sR}`,jB=`_ngcontent-${sR}`,UB=!0,BB=new V("",{providedIn:"root",factory:()=>UB});function $B(n){return jB.replace(w_,n)}function HB(n){return VB.replace(w_,n)}function aR(n,e){return e.map(t=>t.replace(w_,n))}var D_=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=h,this.platformIsServer=Ah(a),this.defaultRenderer=new kc(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===jn.ShadowDom&&(r=oe(O({},r),{encapsulation:jn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Nh?i.applyToHost(t):i instanceof Oc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case jn.Emulated:o=new Nh(c,l,r,this.appId,h,s,a,p,g);break;case jn.ShadowDom:return new __(c,l,t,r,s,a,this.nonce,p,g);default:o=new Oc(c,l,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(G(E_),G(I_),G(Tv),G(BB),G(Be),G(ai),G(he),G(Cv),G(Ns,8))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),kc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(y_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(oR(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(oR(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new L(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=y_[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=y_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Un.DashCase|Un.Important)?e.style.setProperty(t,r,i&Un.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Un.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Kt().getGlobalEventTarget(this.doc,e),!e))throw new L(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function oR(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var __=class extends kc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,c,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=aR(i.id,h);for(let g of h){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=g,this.shadowRoot.appendChild(m)}let p=i.getExternalStyles?.();if(p)for(let g of p){let m=v_(g,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Oc=class extends kc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?aR(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Nh=class extends Oc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,c,l,h),this.contentAttr=$B(h),this.hostAttr=HB(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Ph=class n extends Rc{supportsDOMEvents=!0;static makeCurrent(){c_(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=zB();return t==null?null:qB(t)}resetBaseElement(){Fc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Pc(document.cookie,e)}},Fc=null;function zB(){return Fc=Fc||document.head.querySelector("base"),Fc?Fc.getAttribute("href"):null}function qB(n){return new URL(n,document.baseURI).pathname}var xh=class{addToWindow(e){at.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new L(5103,!1);return o},at.getAllAngularTestabilities=()=>e.getAllTestabilities(),at.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=at.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};at.frameworkStabilizers||(at.frameworkStabilizers=[]),at.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?Kt().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},GB=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),uR=(()=>{class n extends xc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(G(Be))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),cR=["alt","control","meta","shift"],WB={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},KB={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},lR=(()=>{class n extends xc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Kt().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),cR.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=WB[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),cR.forEach(s=>{if(s!==i){let a=KB[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(G(Be))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function QB(n,e){return jA(O({rootComponent:n},YB(e)))}function YB(n){return{appProviders:[...dR,...n?.providers??[]],platformProviders:e$}}function ZB(){Ph.makeCurrent()}function JB(){return new Vn}function XB(){return ZS(document),document}var e$=[{provide:ai,useValue:Sh},{provide:bv,useValue:ZB,multi:!0},{provide:Be,useFactory:XB}];var t$=[{provide:Ac,useClass:xh},{provide:e_,useClass:mh,deps:[he,yh,Ac]},{provide:mh,useClass:mh,deps:[he,yh,Ac]}],dR=[{provide:Kd,useValue:"root"},{provide:Vn,useFactory:JB},{provide:Mh,useClass:uR,multi:!0,deps:[Be]},{provide:Mh,useClass:lR,multi:!0,deps:[Be]},D_,I_,E_,{provide:Is,useExisting:D_},{provide:oo,useClass:GB},[]],n$=(()=>{class n{constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Vt({type:n});static \u0275inj=Ot({providers:[...dR,...t$],imports:[g_,VA]})}return n})();var Fs=class{},Lc=class{},di=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Oh=class{encodeKey(e){return hR(e)}encodeValue(e){return hR(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function r$(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var i$=/%(\d[a-f0-9])/gi,o$={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function hR(n){return encodeURIComponent(n).replace(i$,(e,t)=>o$[t]??e)}function kh(n){return`${n}`}var Ar=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Oh,e.fromString){if(e.fromObject)throw new L(2805,!1);this.map=r$(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(kh):[kh(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(kh(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(kh(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Fh=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function s$(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function fR(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function pR(n){return typeof Blob<"u"&&n instanceof Blob}function gR(n){return typeof FormData<"u"&&n instanceof FormData}function a$(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var mR="Content-Type",yR="Accept",_R="X-Request-URL",ER="text/plain",IR="application/json",c$=`${IR}, ${ER}, */*`,Os=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(s$(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new di,this.context??=new Fh,!this.params)this.params=new Ar,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||fR(this.body)||pR(this.body)||gR(this.body)||a$(this.body)?this.body:this.body instanceof Ar?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||gR(this.body)?null:pR(this.body)?this.body.type||null:fR(this.body)?null:typeof this.body=="string"?ER:this.body instanceof Ar?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?IR:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((g,m)=>g.set(m,e.setHeaders[m]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,m)=>g.set(m,e.setParams[m]),h)),new n(t,r,s,{params:h,headers:l,context:p,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},so=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(so||{}),Ls=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new di,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Lh=class n extends Ls{constructor(e={}){super(e)}type=so.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Vc=class n extends Ls{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=so.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},jc=class extends Ls{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},u$=200,l$=204;function T_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var wR=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Os)o=t;else{let c;i.headers instanceof di?c=i.headers:c=new di(i.headers);let l;i.params&&(i.params instanceof Ar?l=i.params:l=new Ar({fromObject:i.params})),o=new Os(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=W(o).pipe(xn(c=>this.handler.handle(c)));if(t instanceof Os||i.observe==="events")return s;let a=s.pipe(Xe(c=>c instanceof Vc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ne(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new L(2806,!1);return c.body}));case"blob":return a.pipe(ne(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new L(2807,!1);return c.body}));case"text":return a.pipe(ne(c=>{if(c.body!==null&&typeof c.body!="string")throw new L(2808,!1);return c.body}));case"json":default:return a.pipe(ne(c=>c.body))}case"response":return a;default:throw new L(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Ar().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,T_(i,r))}post(t,r,i={}){return this.request("POST",t,T_(i,r))}put(t,r,i={}){return this.request("PUT",t,T_(i,r))}static \u0275fac=function(r){return new(r||n)(G(Fs))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();var d$=new V("");function DR(n,e){return e(n)}function h$(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function f$(n,e,t){return(r,i)=>tt(t,()=>e(r,o=>n(o,i)))}var TR=new V(""),C_=new V(""),bR=new V(""),S_=new V("",{providedIn:"root",factory:()=>!0});function p$(){let n=null;return(e,t)=>{n===null&&(n=(M(TR,{optional:!0})??[]).reduceRight(h$,DR));let r=M(Hn);if(M(S_)){let o=r.add();return n(e,t).pipe(Jr(()=>r.remove(o)))}else return n(e,t)}}var Vh=(()=>{class n extends Fs{backend;injector;chain=null;pendingTasks=M(Hn);contributeToStability=M(S_);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(C_),...this.injector.get(bR,[])]));this.chain=r.reduceRight((i,o)=>f$(i,o,this.injector),DR)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Jr(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(G(Lc),G(et))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();var g$=/^\)\]\}',?\n/,m$=RegExp(`^${_R}:`,"m");function y$(n){return"responseURL"in n&&n.responseURL?n.responseURL:m$.test(n.getAllResponseHeaders())?n.getResponseHeader(_R):null}var b_=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new L(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ie(r.\u0275loadImpl()):W(null)).pipe(Mt(()=>new J(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((A,R)=>s.setRequestHeader(A,R.join(","))),t.headers.has(yR)||s.setRequestHeader(yR,c$),!t.headers.has(mR)){let A=t.detectContentTypeHeader();A!==null&&s.setRequestHeader(mR,A)}if(t.responseType){let A=t.responseType.toLowerCase();s.responseType=A!=="json"?A:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let A=s.statusText||"OK",R=new di(s.getAllResponseHeaders()),k=y$(s)||t.url;return c=new Lh({headers:R,status:s.status,statusText:A,url:k}),c},h=()=>{let{headers:A,status:R,statusText:k,url:H}=l(),q=null;R!==l$&&(q=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=q?u$:0);let ge=R>=200&&R<300;if(t.responseType==="json"&&typeof q=="string"){let $e=q;q=q.replace(g$,"");try{q=q!==""?JSON.parse(q):null}catch(ve){q=$e,ge&&(ge=!1,q={error:ve,text:q})}}ge?(o.next(new Vc({body:q,headers:A,status:R,statusText:k,url:H||void 0})),o.complete()):o.error(new jc({error:q,headers:A,status:R,statusText:k,url:H||void 0}))},p=A=>{let{url:R}=l(),k=new jc({error:A,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(k)},g=!1,m=A=>{g||(o.next(l()),g=!0);let R={type:so.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(R.total=A.total),t.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},w=A=>{let R={type:so.UploadProgress,loaded:A.loaded};A.lengthComputable&&(R.total=A.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",m),a!==null&&s.upload&&s.upload.addEventListener("progress",w)),s.send(a),o.next({type:so.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",m),a!==null&&s.upload&&s.upload.removeEventListener("progress",w)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(G(oo))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),CR=new V(""),v$="XSRF-TOKEN",_$=new V("",{providedIn:"root",factory:()=>v$}),E$="X-XSRF-TOKEN",I$=new V("",{providedIn:"root",factory:()=>E$}),Uc=class{},w$=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Pc(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(G(Be),G(_$))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function D$(n,e){let t=n.url.toLowerCase();if(!M(CR)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=M(Uc).getToken(),i=M(I$);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var A_=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(A_||{});function T$(n,e){return{\u0275kind:n,\u0275providers:e}}function SR(...n){let e=[wR,b_,Vh,{provide:Fs,useExisting:Vh},{provide:Lc,useFactory:()=>M(d$,{optional:!0})??M(b_)},{provide:C_,useValue:D$,multi:!0},{provide:CR,useValue:!0},{provide:Uc,useClass:w$}];for(let t of n)e.push(...t.\u0275providers);return Gt(e)}var vR=new V("");function AR(){return T$(A_.LegacyInterceptors,[{provide:vR,useFactory:p$},{provide:C_,useExisting:vR,multi:!0}])}var b$=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Vt({type:n});static \u0275inj=Ot({providers:[SR(AR())]})}return n})();var RR=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(G(Be))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var C$=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=G(S$),i},providedIn:"root"})}return n})(),S$=(()=>{class n extends C${_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case mn.NONE:return r;case mn.HTML:return br(r,"HTML")?on(r):Mv(this._doc,String(r)).toString();case mn.STYLE:return br(r,"Style")?on(r):r;case mn.SCRIPT:if(br(r,"Script"))return on(r);throw new L(5200,!1);case mn.URL:return br(r,"URL")?on(r):ah(String(r));case mn.RESOURCE_URL:if(br(r,"ResourceURL"))return on(r);throw new L(5201,!1);default:throw new L(5202,!1)}}bypassSecurityTrustHtml(t){return s0(t)}bypassSecurityTrustStyle(t){return a0(t)}bypassSecurityTrustScript(t){return c0(t)}bypassSecurityTrustUrl(t){return u0(t)}bypassSecurityTrustResourceUrl(t){return l0(t)}static \u0275fac=function(r){return new(r||n)(G(Be))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ae="primary",Xc=Symbol("RouteTitle"),x_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function uo(n){return new x_(n)}function LR(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function R$(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Gn(n[t],e[t]))return!1;return!0}function Gn(n,e){let t=n?k_(n):void 0,r=e?k_(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!VR(n[i],e[i]))return!1;return!0}function k_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function VR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function jR(n){return n.length>0?n[n.length-1]:null}function mi(n){return wm(n)?n:ro(n)?Ie(Promise.resolve(n)):W(n)}var N$={exact:BR,subset:$R},UR={exact:M$,subset:P$,ignored:()=>!0};function NR(n,e,t){return N$[t.paths](n.root,e.root,t.matrixParams)&&UR[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function M$(n,e){return Gn(n,e)}function BR(n,e,t){if(!ao(n.segments,e.segments)||!Bh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!BR(n.children[r],e.children[r],t))return!1;return!0}function P$(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>VR(n[t],e[t]))}function $R(n,e,t){return HR(n,e,e.segments,t)}function HR(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ao(i,t)||e.hasChildren()||!Bh(i,t,r))}else if(n.segments.length===t.length){if(!ao(n.segments,t)||!Bh(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!$R(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!ao(n.segments,i)||!Bh(n.segments,i,r)||!n.children[ae]?!1:HR(n.children[ae],e,o,r)}}function Bh(n,e,t){return e.every((r,i)=>UR[t](n[i].parameters,r.parameters))}var Kn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ee([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=uo(this.queryParams),this._queryParamMap}toString(){return O$.serialize(this)}},Ee=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $h(this)}},hi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=uo(this.parameters),this._parameterMap}toString(){return qR(this)}};function x$(n,e){return ao(n,e)&&n.every((t,r)=>Gn(t.parameters,e[r].parameters))}function ao(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function k$(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ae&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ae&&(t=t.concat(e(i,r)))}),t}var lo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>new fi,providedIn:"root"})}return n})(),fi=class{parse(e){let t=new F_(e);return new Kn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Bc(e.root,!0)}`,r=V$(e.queryParams),i=typeof e.fragment=="string"?`#${F$(e.fragment)}`:"";return`${t}${r}${i}`}},O$=new fi;function $h(n){return n.segments.map(e=>qR(e)).join("/")}function Bc(n,e){if(!n.hasChildren())return $h(n);if(e){let t=n.children[ae]?Bc(n.children[ae],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ae&&r.push(`${i}:${Bc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=k$(n,(r,i)=>i===ae?[Bc(n.children[ae],!1)]:[`${i}:${Bc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ae]!=null?`${$h(n)}/${t[0]}`:`${$h(n)}/(${t.join("//")})`}}function zR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jh(n){return zR(n).replace(/%3B/gi,";")}function F$(n){return encodeURI(n)}function O_(n){return zR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hh(n){return decodeURIComponent(n)}function MR(n){return Hh(n.replace(/\+/g,"%20"))}function qR(n){return`${O_(n.path)}${L$(n.parameters)}`}function L$(n){return Object.entries(n).map(([e,t])=>`;${O_(e)}=${O_(t)}`).join("")}function V$(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${jh(t)}=${jh(i)}`).join("&"):`${jh(t)}=${jh(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var j$=/^[^\/()?;#]+/;function R_(n){let e=n.match(j$);return e?e[0]:""}var U$=/^[^\/()?;=#]+/;function B$(n){let e=n.match(U$);return e?e[0]:""}var $$=/^[^=?&#]+/;function H$(n){let e=n.match($$);return e?e[0]:""}var z$=/^[^&#]+/;function q$(n){let e=n.match(z$);return e?e[0]:""}var F_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ae]=new Ee(e,t)),r}parseSegment(){let e=R_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new hi(Hh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=B$(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=R_(this.remaining);i&&(r=i,this.capture(r))}e[Hh(t)]=Hh(r)}parseQueryParam(e){let t=H$(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=q$(this.remaining);s&&(r=s,this.capture(r))}let i=MR(t),o=MR(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=R_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new L(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ae);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ae]:new Ee([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}};function GR(n){return n.segments.length>0?new Ee([],{[ae]:n}):n}function WR(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=WR(i);if(r===ae&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ee(n.segments,e);return G$(t)}function G$(n){if(n.numberOfChildren===1&&n.children[ae]){let e=n.children[ae];return new Ee(n.segments.concat(e.segments),e.children)}return n}function pi(n){return n instanceof Kn}function KR(n,e,t=null,r=null){let i=QR(n);return YR(i,e,t,r)}function QR(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new Ee(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=GR(r);return e??i}function YR(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return N_(i,i,i,t,r);let o=W$(e);if(o.toRoot())return N_(i,i,new Ee([],{}),t,r);let s=K$(o,i,n),a=s.processChildren?Hc(s.segmentGroup,s.index,o.commands):JR(s.segmentGroup,s.index,o.commands);return N_(i,s.segmentGroup,a,t,r)}function qh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function qc(n){return typeof n=="object"&&n!=null&&n.outlets}function N_(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=ZR(n,e,t);let a=GR(WR(s));return new Kn(a,o,i)}function ZR(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=ZR(o,e,t)}),new Ee(n.segments,r)}var Gh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&qh(r[0]))throw new L(4003,!1);let i=r.find(qc);if(i&&i!==jR(r))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function W$(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Gh(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Gh(t,e,r)}var Us=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function K$(n,e,t){if(n.isAbsolute)return new Us(e,!0,0);if(!t)return new Us(e,!1,NaN);if(t.parent===null)return new Us(t,!0,0);let r=qh(n.commands[0])?0:1,i=t.segments.length-1+r;return Q$(t,i,n.numberOfDoubleDots)}function Q$(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new L(4005,!1);i=r.segments.length}return new Us(r,!1,i-o)}function Y$(n){return qc(n[0])?n[0].outlets:{[ae]:n}}function JR(n,e,t){if(n??=new Ee([],{}),n.segments.length===0&&n.hasChildren())return Hc(n,e,t);let r=Z$(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ee(n.segments.slice(0,r.pathIndex),{});return o.children[ae]=new Ee(n.segments.slice(r.pathIndex),n.children),Hc(o,0,i)}else return r.match&&i.length===0?new Ee(n.segments,{}):r.match&&!n.hasChildren()?L_(n,e,t):r.match?Hc(n,0,i):L_(n,e,t)}function Hc(n,e,t){if(t.length===0)return new Ee(n.segments,{});{let r=Y$(t),i={};if(Object.keys(r).some(o=>o!==ae)&&n.children[ae]&&n.numberOfChildren===1&&n.children[ae].segments.length===0){let o=Hc(n.children[ae],e,t);return new Ee(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=JR(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ee(n.segments,i)}}function Z$(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(qc(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!xR(c,l,s))return o;r+=2}else{if(!xR(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function L_(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(qc(o)){let c=J$(o.outlets);return new Ee(r,c)}if(i===0&&qh(t[0])){let c=n.segments[e];r.push(new hi(c.path,PR(t[0]))),i++;continue}let s=qc(o)?o.outlets[ae]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&qh(a)?(r.push(new hi(s,PR(a))),i+=2):(r.push(new hi(s,{})),i++)}return new Ee(r,{})}function J$(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=L_(new Ee([],{}),0,r))}),e}function PR(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function xR(n,e,t){return n==t.path&&Gn(e,t.parameters)}var zh="imperative",Je=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Je||{}),Yt=class{id;url;constructor(e,t){this.id=e,this.url=t}},gi=class extends Yt{type=Je.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Zt=class extends Yt{urlAfterRedirects;type=Je.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},jt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(jt||{}),$s=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}($s||{}),Wn=class extends Yt{reason;code;type=Je.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Qn=class extends Yt{reason;code;type=Je.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Hs=class extends Yt{error;target;type=Je.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Gc=class extends Yt{urlAfterRedirects;state;type=Je.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wh=class extends Yt{urlAfterRedirects;state;type=Je.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kh=class extends Yt{urlAfterRedirects;state;shouldActivate;type=Je.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Qh=class extends Yt{urlAfterRedirects;state;type=Je.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yh=class extends Yt{urlAfterRedirects;state;type=Je.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zh=class{route;type=Je.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Jh=class{route;type=Je.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Xh=class{snapshot;type=Je.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ef=class{snapshot;type=Je.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tf=class{snapshot;type=Je.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nf=class{snapshot;type=Je.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zs=class{routerEvent;position;anchor;type=Je.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Wc=class{},qs=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function X$(n,e){return n.providers&&!n._injector&&(n._injector=Sc(n.providers,e,`Route: ${n.path}`)),n._injector??e}function In(n){return n.outlet||ae}function eH(n,e){let t=n.filter(r=>In(r)===e);return t.push(...n.filter(r=>In(r)!==e)),t}function eu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var rf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return eu(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ho(this.rootInjector)}},ho=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new rf(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(G(et))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),of=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=V_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=V_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=j_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return j_(e,this._root).map(t=>t.value)}};function V_(n,e){if(n===e.value)return e;for(let t of e.children){let r=V_(n,t);if(r)return r}return null}function j_(n,e){if(n===e.value)return[e];for(let t of e.children){let r=j_(n,t);if(r.length)return r.unshift(e),r}return[]}var Qt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function js(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Kc=class extends of{snapshot;constructor(e,t){super(e),this.snapshot=t,W_(this,e)}toString(){return this.snapshot.toString()}};function XR(n){let e=tH(n),t=new He([new hi("",{})]),r=new He({}),i=new He({}),o=new He({}),s=new He(""),a=new Yn(t,r,o,s,i,ae,n,e.root);return a.snapshot=e.root,new Kc(new Qt(a,[]),e)}function tH(n){let e={},t={},r={},i="",o=new co([],e,r,i,t,ae,n,null,{});return new Qc("",new Qt(o,[]))}var Yn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ne(l=>l[Xc]))??W(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ne(e=>uo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ne(e=>uo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function sf(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),n.params),data:O(O({},e.data),n.data),resolve:O(O(O(O({},n.data),e.data),i?.data),n._resolvedData)}:r={params:O({},n.params),data:O({},n.data),resolve:O(O({},n.data),n._resolvedData??{})},i&&tN(i)&&(r.resolve[Xc]=i.title),r}var co=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Xc]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=uo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=uo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Qc=class extends of{url;constructor(e,t){super(t),this.url=e,W_(this,t)}toString(){return eN(this._root)}};function W_(n,e){e.value._routerState=n,e.children.forEach(t=>W_(n,t))}function eN(n){let e=n.children.length>0?` { ${n.children.map(eN).join(", ")} } `:"";return`${n.value}${e}`}function M_(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Gn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Gn(e.params,t.params)||n.paramsSubject.next(t.params),R$(e.url,t.url)||n.urlSubject.next(t.url),Gn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function U_(n,e){let t=Gn(n.params,e.params)&&x$(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||U_(n.parent,e.parent))}function tN(n){return typeof n.title=="string"||n.title===null}var nN=new V(""),K_=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ae;activateEvents=new xe;deactivateEvents=new xe;attachEvents=new xe;detachEvents=new xe;routerOutletData=$S(void 0);parentContexts=M(ho);location=M(Sr);changeDetector=M(ci);inputBinder=M(tu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new B_(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=_e({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Wt]})}return n})(),B_=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Yn?this.route:e===ho?this.childContexts:e===nN?this.outletData:this.parent.get(e,t)}},tu=new V(""),Q_=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=cc([r.queryParams,r.params,r.data]).pipe(Mt(([o,s,a],c)=>(a=O(O(O({},o),s),a),c===0?W(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=$A(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),Y_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=rA({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&r_(0,"router-outlet")},dependencies:[K_],encapsulation:2})}return n})();function Z_(n){let e=n.children&&n.children.map(Z_),t=e?oe(O({},n),{children:e}):O({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ae&&(t.component=Y_),t}function nH(n,e,t){let r=Yc(n,e._root,t?t._root:void 0);return new Kc(r,e)}function Yc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=rH(n,e,t);return new Qt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Yc(n,a)),s}}let r=iH(e.value),i=e.children.map(o=>Yc(n,o));return new Qt(r,i)}}function rH(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Yc(n,r,i);return Yc(n,r)})}function iH(n){return new Yn(new He(n.url),new He(n.params),new He(n.queryParams),new He(n.fragment),new He(n.data),n.outlet,n.component,n)}var Gs=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},rN="ngNavigationCancelingError";function af(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=pi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=iN(!1,jt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function iN(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[rN]=!0,t.cancellationCode=e,t}function oH(n){return oN(n)&&pi(n.url)}function oN(n){return!!n&&n[rN]}var sH=(n,e,t,r)=>ne(i=>(new $_(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),$_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),M_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=js(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=js(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=js(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=js(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new nf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new ef(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(M_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),M_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},cf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Bs=class{component;route;constructor(e,t){this.component=e,this.route=t}};function aH(n,e,t){let r=n._root,i=e?e._root:null;return $c(r,i,t,[r.value])}function cH(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ks(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!$C(n)?n:e.get(n):r}function $c(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=js(e);return n.children.forEach(s=>{uH(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>zc(a,t.getContext(s),i)),i}function uH(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=lH(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new cf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?$c(n,e,a?a.children:null,r,i):$c(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Bs(a.outlet.component,s))}else s&&zc(e,a,i),i.canActivateChecks.push(new cf(r)),o.component?$c(n,null,a?a.children:null,r,i):$c(n,null,t,r,i);return i}function lH(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ao(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ao(n.url,e.url)||!Gn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!U_(n,e)||!Gn(n.queryParams,e.queryParams);case"paramsChange":default:return!U_(n,e)}}function zc(n,e,t){let r=js(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?zc(s,e.children.getContext(o),t):zc(s,null,t):zc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Bs(e.outlet.component,i)):t.canDeactivateChecks.push(new Bs(null,i)):t.canDeactivateChecks.push(new Bs(null,i))}function nu(n){return typeof n=="function"}function dH(n){return typeof n=="boolean"}function hH(n){return n&&nu(n.canLoad)}function fH(n){return n&&nu(n.canActivate)}function pH(n){return n&&nu(n.canActivateChild)}function gH(n){return n&&nu(n.canDeactivate)}function mH(n){return n&&nu(n.canMatch)}function sN(n){return n instanceof hr||n?.name==="EmptyError"}var Uh=Symbol("INITIAL_VALUE");function Ws(){return Mt(n=>cc(n.map(e=>e.pipe(pr(1),cd(Uh)))).pipe(ne(e=>{for(let t of e)if(t!==!0){if(t===Uh)return Uh;if(t===!1||yH(t))return t}return!0}),Xe(e=>e!==Uh),pr(1)))}function yH(n){return pi(n)||n instanceof Gs}function vH(n,e){return Ue(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?W(oe(O({},t),{guardsResult:!0})):_H(s,r,i,n).pipe(Ue(a=>a&&dH(a)?EH(r,o,n,e):W(a)),ne(a=>oe(O({},t),{guardsResult:a})))})}function _H(n,e,t,r){return Ie(n).pipe(Ue(i=>bH(i.component,i.route,t,e,r)),gr(i=>i!==!0,!0))}function EH(n,e,t,r){return Ie(e).pipe(xn(i=>os(wH(i.route.parent,r),IH(i.route,r),TH(n,i.path,t),DH(n,i.route,t))),gr(i=>i!==!0,!0))}function IH(n,e){return n!==null&&e&&e(new tf(n)),W(!0)}function wH(n,e){return n!==null&&e&&e(new Xh(n)),W(!0)}function DH(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(o=>od(()=>{let s=eu(e)??t,a=Ks(o,s),c=fH(a)?a.canActivate(e,n):tt(s,()=>a(e,n));return mi(c).pipe(gr())}));return W(i).pipe(Ws())}function TH(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>cH(s)).filter(s=>s!==null).map(s=>od(()=>{let a=s.guards.map(c=>{let l=eu(s.node)??t,h=Ks(c,l),p=pH(h)?h.canActivateChild(r,n):tt(l,()=>h(r,n));return mi(p).pipe(gr())});return W(a).pipe(Ws())}));return W(o).pipe(Ws())}function bH(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(a=>{let c=eu(e)??i,l=Ks(a,c),h=gH(l)?l.canDeactivate(n,e,t,r):tt(c,()=>l(n,e,t,r));return mi(h).pipe(gr())});return W(s).pipe(Ws())}function CH(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let o=i.map(s=>{let a=Ks(s,n),c=hH(a)?a.canLoad(e,t):tt(n,()=>a(e,t));return mi(c)});return W(o).pipe(Ws(),aN(r))}function aN(n){return Vl(st(e=>{if(typeof e!="boolean")throw af(n,e)}),ne(e=>e===!0))}function SH(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let o=i.map(s=>{let a=Ks(s,n),c=mH(a)?a.canMatch(e,t):tt(n,()=>a(e,t));return mi(c)});return W(o).pipe(Ws(),aN(r))}var Zc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Jc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Vs(n){return is(new Zc(n))}function AH(n){return is(new L(4e3,!1))}function RH(n){return is(iN(!1,jt.GuardRejected))}var H_=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[ae])return AH(`${e.redirectTo}`);i=i.children[ae]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:h,url:p,outlet:g,params:m,data:w,title:A}=i,R=tt(o,()=>a({params:m,data:w,queryParams:c,fragment:l,routeConfig:h,url:p,outlet:g,title:A}));if(R instanceof Kn)throw new Jc(R);t=R}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Jc(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Kn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ee(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new L(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},z_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function NH(n,e,t,r,i){let o=cN(n,e,t);return o.matched?(r=X$(e,r),SH(r,e,t,i).pipe(ne(s=>s===!0?o:O({},z_)))):W(o)}function cN(n,e,t){if(e.path==="**")return MH(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?O({},z_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||LR)(t,n,e);if(!i)return O({},z_);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?O(O({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function MH(n){return{matched:!0,parameters:n.length>0?jR(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function kR(n,e,t,r){return t.length>0&&kH(n,t,r)?{segmentGroup:new Ee(e,xH(r,new Ee(t,n.children))),slicedSegments:[]}:t.length===0&&OH(n,t,r)?{segmentGroup:new Ee(n.segments,PH(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ee(n.segments,n.children),slicedSegments:t}}function PH(n,e,t,r){let i={};for(let o of t)if(lf(n,e,o)&&!r[In(o)]){let s=new Ee([],{});i[In(o)]=s}return O(O({},r),i)}function xH(n,e){let t={};t[ae]=e;for(let r of n)if(r.path===""&&In(r)!==ae){let i=new Ee([],{});t[In(r)]=i}return t}function kH(n,e,t){return t.some(r=>lf(n,e,r)&&In(r)!==ae)}function OH(n,e,t){return t.some(r=>lf(n,e,r))}function lf(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function FH(n,e,t){return e.length===0&&!n.children[t]}var q_=class{};function LH(n,e,t,r,i,o,s="emptyOnly"){return new G_(n,e,t,r,i,s,o).recognize()}var VH=31,G_=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new H_(this.urlSerializer,this.urlTree)}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}recognize(){let e=kR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ne(({children:t,rootSnapshot:r})=>{let i=new Qt(r,t),o=new Qc("",i),s=KR(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new co([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ae,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ae,t).pipe(ne(r=>({children:r,rootSnapshot:t})),fr(r=>{if(r instanceof Jc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Zc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ne(s=>s instanceof Qt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ie(o).pipe(xn(s=>{let a=r.children[s],c=eH(t,s);return this.processSegmentGroup(e,c,a,s,i)}),ad((s,a)=>(s.push(...a),s)),Zr(null),Tm(),Ue(s=>{if(s===null)return Vs(r);let a=uN(s);return jH(a),W(a)}))}processSegment(e,t,r,i,o,s,a){return Ie(t).pipe(xn(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(fr(l=>{if(l instanceof Zc)return W(null);throw l}))),gr(c=>!!c),fr(c=>{if(sN(c))return FH(r,i,o)?W(new q_):Vs(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return In(r)!==s&&(s===ae||!lf(i,o,r))?Vs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Vs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=cN(t,i,o);if(!c)return Vs(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>VH&&(this.allowRedirects=!1));let m=new co(o,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,OR(i),In(i),i.component??i._loadedComponent??null,i,FR(i)),w=sf(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(w.params),m.data=Object.freeze(w.data);let A=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,m,e);return this.applyRedirects.lineralizeSegments(i,A).pipe(Ue(R=>this.processSegment(e,r,t,R.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=NH(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Mt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Mt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:m}=c,w=new co(g,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,OR(r),In(r),r.component??r._loadedComponent??null,r,FR(r)),A=sf(w,s,this.paramsInheritanceStrategy);w.params=Object.freeze(A.params),w.data=Object.freeze(A.data);let{segmentGroup:R,slicedSegments:k}=kR(t,g,m,l);if(k.length===0&&R.hasChildren())return this.processChildren(h,l,R,w).pipe(ne(q=>new Qt(w,q)));if(l.length===0&&k.length===0)return W(new Qt(w,[]));let H=In(r)===o;return this.processSegment(h,l,R,k,H?ae:o,!0,w).pipe(ne(q=>new Qt(w,q instanceof Qt?[q]:[])))}))):Vs(t)))}getChildConfig(e,t,r){return t.children?W({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?W({routes:t._loadedRoutes,injector:t._loadedInjector}):CH(e,t,r,this.urlSerializer).pipe(Ue(i=>i?this.configLoader.loadChildren(e,t).pipe(st(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):RH(t))):W({routes:[],injector:e})}};function jH(n){n.sort((e,t)=>e.value.outlet===ae?-1:t.value.outlet===ae?1:e.value.outlet.localeCompare(t.value.outlet))}function UH(n){let e=n.value.routeConfig;return e&&e.path===""}function uN(n){let e=[],t=new Set;for(let r of n){if(!UH(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=uN(r.children);e.push(new Qt(r.value,i))}return e.filter(r=>!t.has(r))}function OR(n){return n.data||{}}function FR(n){return n.resolve||{}}function BH(n,e,t,r,i,o){return Ue(s=>LH(n,e,t,r,s.extractedUrl,i,o).pipe(ne(({state:a,tree:c})=>oe(O({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function $H(n,e){return Ue(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of lN(c))s.add(l);let a=0;return Ie(s).pipe(xn(c=>o.has(c)?HH(c,r,n,e):(c.data=sf(c,c.parent,n).resolve,W(void 0))),st(()=>a++),ss(1),Ue(c=>a===s.size?W(t):ft))})}function lN(n){let e=n.children.map(t=>lN(t)).flat();return[n,...e]}function HH(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!tN(i)&&(o[Xc]=i.title),zH(o,n,e,r).pipe(ne(s=>(n._resolvedData=s,n.data=sf(n,n.parent,t).resolve,null)))}function zH(n,e,t,r){let i=k_(n);if(i.length===0)return W({});let o={};return Ie(i).pipe(Ue(s=>qH(n[s],e,t,r).pipe(gr(),st(a=>{if(a instanceof Gs)throw af(new fi,a);o[s]=a}))),ss(1),ne(()=>o),fr(s=>sN(s)?ft:is(s)))}function qH(n,e,t,r){let i=eu(e)??r,o=Ks(n,i),s=o.resolve?o.resolve(e,t):tt(i,()=>o(e,t));return mi(s)}function P_(n){return Mt(e=>{let t=n(e);return t?Ie(t).pipe(ne(()=>e)):W(e)})}var J_=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ae);return r}getResolvedTitleForRoute(t){return t.data[Xc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(dN),providedIn:"root"})}return n})(),dN=(()=>{class n extends J_{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(G(RR))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fo=new V("",{providedIn:"root",factory:()=>({})}),po=new V(""),df=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=M(OA);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=mi(t.loadComponent()).pipe(ne(fN),st(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Jr(()=>{this.componentLoaders.delete(t)})),i=new es(r,()=>new Ae).pipe(Xo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=hN(r,this.compiler,t,this.onLoadEndListener).pipe(Jr(()=>{this.childrenLoaders.delete(r)})),s=new es(o,()=>new Ae).pipe(Xo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hN(n,e,t,r){return mi(n.loadChildren()).pipe(ne(fN),Ue(i=>i instanceof Qv||Array.isArray(i)?W(i):Ie(e.compileModuleAsync(i))),ne(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(po,[],{optional:!0,self:!0}).flat()),{routes:s.map(Z_),injector:o}}))}function GH(n){return n&&typeof n=="object"&&"default"in n}function fN(n){return GH(n)?n.default:n}var hf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(WH),providedIn:"root"})}return n})(),WH=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),X_=new V(""),eE=new V("");function pN(n,e,t){let r=n.get(eE),i=n.get(Be);return n.get(he).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),KH(n))),{onViewTransitionCreated:c}=r;return c&&tt(n,()=>c({transition:a,from:e,to:t})),s})}function KH(n){return new Promise(e=>{Rv({read:()=>setTimeout(e)},{injector:n})})}var tE=new V(""),ff=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ae;transitionAbortSubject=new Ae;configLoader=M(df);environmentInjector=M(et);destroyRef=M(Dr);urlSerializer=M(lo);rootContexts=M(ho);location=M(li);inputBindingEnabled=M(tu,{optional:!0})!==null;titleStrategy=M(J_);options=M(fo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=M(hf);createViewTransition=M(X_,{optional:!0});navigationErrorHandler=M(tE,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>W(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Zh(i)),r=i=>this.events.next(new Jh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(oe(O({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new He(null),this.transitions.pipe(Xe(r=>r!==null),Mt(r=>{let i=!1,o=!1;return W(r).pipe(Mt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",jt.SupersededByNewNavigation),ft;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?oe(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&c!=="reload"){let l="";return this.events.next(new Qn(s.id,this.urlSerializer.serialize(s.rawUrl),l,$s.IgnoredSameUrlNavigation)),s.resolve(!1),ft}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return W(s).pipe(Mt(l=>(this.events.next(new gi(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?ft:Promise.resolve(l))),BH(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),st(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=oe(O({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new Gc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:g,extras:m}=s,w=new gi(l,this.urlSerializer.serialize(h),p,g);this.events.next(w);let A=XR(this.rootComponentType).snapshot;return this.currentTransition=r=oe(O({},s),{targetSnapshot:A,urlAfterRedirects:h,extras:oe(O({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,W(r)}else{let l="";return this.events.next(new Qn(s.id,this.urlSerializer.serialize(s.extractedUrl),l,$s.IgnoredByUrlHandlingStrategy)),s.resolve(!1),ft}}),st(s=>{let a=new Wh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ne(s=>(this.currentTransition=r=oe(O({},s),{guards:aH(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),vH(this.environmentInjector,s=>this.events.next(s)),st(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw af(this.urlSerializer,s.guardsResult);let a=new Kh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Xe(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",jt.GuardRejected),!1)),P_(s=>{if(s.guards.canActivateChecks.length!==0)return W(s).pipe(st(a=>{let c=new Qh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),Mt(a=>{let c=!1;return W(a).pipe($H(this.paramsInheritanceStrategy,this.environmentInjector),st({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",jt.NoDataFromResolver)}}))}),st(a=>{let c=new Yh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),P_(s=>{let a=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(st(h=>{c.component=h}),ne(()=>{})));for(let h of c.children)l.push(...a(h));return l};return cc(a(s.targetSnapshot.root)).pipe(Zr(null),pr(1))}),P_(()=>this.afterPreactivation()),Mt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?Ie(c).pipe(ne(()=>r)):W(r)}),ne(s=>{let a=nH(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=oe(O({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),st(()=>{this.events.next(new Wc)}),sH(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),pr(1),st({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Zt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Sm(this.transitionAbortSubject.pipe(st(s=>{throw s}))),Jr(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",jt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),fr(s=>{if(this.destroyed)return r.resolve(!1),ft;if(o=!0,oN(s))this.events.next(new Wn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),oH(s)?this.events.next(new qs(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Hs(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=tt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Gs){let{message:l,cancellationCode:h}=af(this.urlSerializer,c);this.events.next(new Wn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new qs(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return ft}))}))}cancelNavigationTransition(t,r,i){let o=new Wn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function QH(n){return n!==zh}var gN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(YH),providedIn:"root"})}return n})(),uf=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},YH=(()=>{class n extends uf{static \u0275fac=(()=>{let t;return function(i){return(t||(t=$n(n)))(i||n)}})();static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mN=(()=>{class n{urlSerializer=M(lo);options=M(fo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=M(li);urlHandlingStrategy=M(hf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Kn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Kn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=XR(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(ZH),providedIn:"root"})}return n})(),ZH=(()=>{class n extends mN{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof gi?this.updateStateMemento():t instanceof Qn?this.commitTransition(r):t instanceof Gc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Wc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Wn&&(t.code===jt.GuardRejected||t.code===jt.NoDataFromResolver)?this.restoreHistory(r):t instanceof Hs?this.restoreHistory(r,!0):t instanceof Zt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=O(O({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=O(O({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=$n(n)))(i||n)}})();static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pf(n,e){n.events.pipe(Xe(t=>t instanceof Zt||t instanceof Wn||t instanceof Hs||t instanceof Qn),ne(t=>t instanceof Zt||t instanceof Qn?0:(t instanceof Wn?t.code===jt.Redirect||t.code===jt.SupersededByNewNavigation:!1)?2:1),Xe(t=>t!==2),pr(1)).subscribe(()=>{e()})}var JH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},XH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},wn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=M(Xv);stateManager=M(mN);options=M(fo,{optional:!0})||{};pendingTasks=M(Hn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=M(ff);urlSerializer=M(lo);location=M(li);urlHandlingStrategy=M(hf);_events=new Ae;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=M(gN);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=M(po,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!M(tu,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Le;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Wn&&r.code!==jt.Redirect&&r.code!==jt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Zt)this.navigated=!0;else if(r instanceof qs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=O({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||QH(i.source)},s);this.scheduleNavigation(a,zh,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}t4(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),zh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=O({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Z_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=QR(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return YR(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=pi(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,zh,null,r)}navigate(t,r={skipLocationChange:!1}){return e4(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=O({},JH):r===!1?i=O({},XH):i=r,pi(t))return NR(this.currentUrlTree,t,i);let o=this.parseUrl(t);return NR(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,c=g});let h=this.pendingTasks.add();return pf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function e4(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new L(4008,!1)}function t4(n){return!(n instanceof Wc)&&!(n instanceof qs)}var gf=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ae;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Zt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(pi(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:m0(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:pi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(z(wn),z(Yn),rh("tabindex"),z(sn),z(yt),z(En))};static \u0275dir=_e({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&zn("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ps("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ui],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ui],replaceUrl:[2,"replaceUrl","replaceUrl",ui],routerLink:"routerLink"},features:[Wt]})}return n})(),n4=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new xe;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Zt&&this.update()})}ngAfterContentInit(){W(this.links.changes,W(null)).pipe(Pn()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ie(t).pipe(Pn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=r4(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(z(wn),z(yt),z(sn),z(ci),z(gf,8))};static \u0275dir=_e({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&bA(o,gf,5),r&2){let s;CA(s=SA())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Wt]})}return n})();function r4(n){return!!n.paths}var ru=class{};var yN=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Xe(t=>t instanceof Zt),xn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Sc(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ie(i).pipe(Pn())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=W(null);let o=i.pipe(Ue(s=>s===null?W(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Ie([o,s]).pipe(Pn())}else return o})}static \u0275fac=function(r){return new(r||n)(G(wn),G(et),G(ru),G(df))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vN=new V(""),i4=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof gi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Zt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Qn&&t.code===$s.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof zs&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new zs(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){q0()};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function o4(n,...e){return Gt([{provide:po,multi:!0,useValue:n},[],{provide:Yn,useFactory:_N,deps:[wn]},{provide:vh,multi:!0,useFactory:EN},e.map(t=>t.\u0275providers)])}function _N(n){return n.routerState.root}function iu(n,e){return{\u0275kind:n,\u0275providers:e}}function EN(){let n=M(ke);return e=>{let t=n.get(_r);if(e!==t.components[0])return;let r=n.get(wn),i=n.get(IN);n.get(rE)===1&&r.initialNavigation(),n.get(TN,null,ce.Optional)?.setUpPreloading(),n.get(vN,null,ce.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var IN=new V("",{factory:()=>new Ae}),rE=new V("",{providedIn:"root",factory:()=>1});function wN(){let n=[{provide:rE,useValue:0},n_(()=>{let e=M(ke);return e.get(u_,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(wn),o=e.get(IN);pf(i,()=>{r(!0)}),e.get(ff).afterPreactivation=()=>(r(!0),o.closed?W(void 0):o),i.initialNavigation()}))})];return iu(2,n)}function DN(){let n=[n_(()=>{M(wn).setUpLocationChangeListener()}),{provide:rE,useValue:2}];return iu(3,n)}var TN=new V("");function bN(n){return iu(0,[{provide:TN,useExisting:yN},{provide:ru,useExisting:n}])}function CN(){return iu(8,[Q_,{provide:tu,useExisting:Q_}])}function SN(n){Tr("NgRouterViewTransitions");let e=[{provide:X_,useValue:pN},{provide:eE,useValue:O({skipNextTransition:!!n?.skipInitialTransition},n)}];return iu(9,e)}var AN=[li,{provide:lo,useClass:fi},wn,ho,{provide:Yn,useFactory:_N,deps:[wn]},df,[]],s4=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[AN,[],{provide:po,multi:!0,useValue:t},[],r?.errorHandler?{provide:tE,useValue:r.errorHandler}:[],{provide:fo,useValue:r||{}},r?.useHash?c4():u4(),a4(),r?.preloadingStrategy?bN(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?l4(r):[],r?.bindToComponentInputs?CN().\u0275providers:[],r?.enableViewTransitions?SN().\u0275providers:[],d4()]}}static forChild(t){return{ngModule:n,providers:[{provide:po,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Vt({type:n});static \u0275inj=Ot({})}return n})();function a4(){return{provide:vN,useFactory:()=>{let n=M(nR),e=M(he),t=M(fo),r=M(ff),i=M(lo);return t.scrollOffset&&n.setOffset(t.scrollOffset),new i4(i,r,n,e,t)}}}function c4(){return{provide:En,useClass:f_}}function u4(){return{provide:En,useClass:Dh}}function l4(n){return[n.initialNavigation==="disabled"?DN().\u0275providers:[],n.initialNavigation==="enabledBlocking"?wN().\u0275providers:[]]}var nE=new V("");function d4(){return[{provide:nE,useFactory:EN},{provide:vh,multi:!0,useExisting:nE}]}var VN=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(z(sn),z(yt))};static \u0275dir=_e({type:n})}return n})(),Sf=(()=>{class n extends VN{static \u0275fac=(()=>{let t;return function(i){return(t||(t=$n(n)))(i||n)}})();static \u0275dir=_e({type:n,features:[vt]})}return n})(),go=new V(""),h4={provide:go,useExisting:kt(()=>f4),multi:!0},f4=(()=>{class n extends Sf{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=$n(n)))(i||n)}})();static \u0275dir=_e({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&zn("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[an([h4]),vt]})}return n})(),p4={provide:go,useExisting:kt(()=>jN),multi:!0};function g4(){let n=Kt()?Kt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var m4=new V(""),jN=(()=>{class n extends VN{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!g4())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(z(sn),z(yt),z(m4,8))};static \u0275dir=_e({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&zn("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[an([p4]),vt]})}return n})();function aE(n){return n==null||cE(n)===0}function cE(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var mo=new V(""),hu=new V(""),y4=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,RN=class{static min(e){return v4(e)}static max(e){return _4(e)}static required(e){return UN(e)}static requiredTrue(e){return E4(e)}static email(e){return I4(e)}static minLength(e){return BN(e)}static maxLength(e){return w4(e)}static pattern(e){return D4(e)}static nullValidator(e){return yf()}static compose(e){return WN(e)}static composeAsync(e){return KN(e)}};function v4(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function _4(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function UN(n){return aE(n.value)?{required:!0}:null}function E4(n){return n.value===!0?null:{required:!0}}function I4(n){return aE(n.value)||y4.test(n.value)?null:{email:!0}}function BN(n){return e=>{let t=e.value?.length??cE(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function w4(n){return e=>{let t=e.value?.length??cE(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function D4(n){if(!n)return yf;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(aE(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function yf(n){return null}function $N(n){return n!=null}function HN(n){return ro(n)?Ie(n):n}function zN(n){let e={};return n.forEach(t=>{e=t!=null?O(O({},e),t):e}),Object.keys(e).length===0?null:e}function qN(n,e){return e.map(t=>t(n))}function T4(n){return!n.validate}function GN(n){return n.map(e=>T4(e)?e:t=>e.validate(t))}function WN(n){if(!n)return null;let e=n.filter($N);return e.length==0?null:function(t){return zN(qN(t,e))}}function uE(n){return n!=null?WN(GN(n)):null}function KN(n){if(!n)return null;let e=n.filter($N);return e.length==0?null:function(t){let r=qN(t,e).map(HN);return Dm(r).pipe(ne(zN))}}function lE(n){return n!=null?KN(GN(n)):null}function NN(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function QN(n){return n._rawValidators}function YN(n){return n._rawAsyncValidators}function iE(n){return n?Array.isArray(n)?n:[n]:[]}function vf(n,e){return Array.isArray(n)?n.includes(e):n===e}function MN(n,e){let t=iE(e);return iE(n).forEach(i=>{vf(t,i)||t.push(i)}),t}function PN(n,e){return iE(e).filter(t=>!vf(n,t))}var _f=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=uE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=lE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Rr=class extends _f{name;get formDirective(){return null}get path(){return null}},Nr=class extends _f{_parent=null;name=null;valueAccessor=null},Ef=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},b4={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},sre=oe(O({},b4),{"[class.ng-submitted]":"isSubmitted"}),are=(()=>{class n extends Ef{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(z(Nr,2))};static \u0275dir=_e({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&_h("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[vt]})}return n})(),cre=(()=>{class n extends Ef{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(z(Rr,10))};static \u0275dir=_e({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&_h("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[vt]})}return n})();var ou="VALID",mf="INVALID",Qs="PENDING",su="DISABLED",yi=class{},If=class extends yi{value;source;constructor(e,t){super(),this.value=e,this.source=t}},cu=class extends yi{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},uu=class extends yi{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ys=class extends yi{status;source;constructor(e,t){super(),this.status=e,this.source=t}},wf=class extends yi{source;constructor(e){super(),this.source=e}},Df=class extends yi{source;constructor(e){super(),this.source=e}};function dE(n){return(Af(n)?n.validators:n)||null}function C4(n){return Array.isArray(n)?uE(n):n||null}function hE(n,e){return(Af(e)?e.asyncValidators:n)||null}function S4(n){return Array.isArray(n)?lE(n):n||null}function Af(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function ZN(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new L(1e3,"");if(!r[t])throw new L(1001,"")}function JN(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new L(1002,"")})}var Zs=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return yn(this.statusReactive)}set status(e){yn(()=>this.statusReactive.set(e))}_status=io(()=>this.statusReactive());statusReactive=si(void 0);get valid(){return this.status===ou}get invalid(){return this.status===mf}get pending(){return this.status==Qs}get disabled(){return this.status===su}get enabled(){return this.status!==su}errors;get pristine(){return yn(this.pristineReactive)}set pristine(e){yn(()=>this.pristineReactive.set(e))}_pristine=io(()=>this.pristineReactive());pristineReactive=si(!0);get dirty(){return!this.pristine}get touched(){return yn(this.touchedReactive)}set touched(e){yn(()=>this.touchedReactive.set(e))}_touched=io(()=>this.touchedReactive());touchedReactive=si(!1);get untouched(){return!this.touched}_events=new Ae;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(MN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(MN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(PN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(PN(e,this._rawAsyncValidators))}hasValidator(e){return vf(this._rawValidators,e)}hasAsyncValidator(e){return vf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(oe(O({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new uu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new uu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(oe(O({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new cu(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new cu(!0,r))}markAsPending(e={}){this.status=Qs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ys(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(oe(O({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=su,this.errors=null,this._forEachChild(i=>{i.disable(oe(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new If(this.value,r)),this._events.next(new Ys(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(oe(O({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ou,this._forEachChild(r=>{r.enable(oe(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(oe(O({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ou||this.status===Qs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new If(this.value,t)),this._events.next(new Ys(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(oe(O({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?su:ou}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Qs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=HN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ys(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new xe,this.statusChanges=new xe}_calculateStatus(){return this._allControlsDisabled()?su:this.errors?mf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qs)?Qs:this._anyControlsHaveStatus(mf)?mf:ou}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new cu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new uu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Af(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=C4(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=S4(this._rawAsyncValidators)}},Js=class extends Zs{constructor(e,t,r){super(dE(t),hE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){JN(this,!0,e),Object.keys(e).forEach(r=>{ZN(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var oE=class extends Js{};var Xs=new V("",{providedIn:"root",factory:()=>Rf}),Rf="always";function XN(n,e){return[...e.path,n]}function du(n,e,t=Rf){fE(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),R4(n,e),M4(n,e),N4(n,e),A4(n,e)}function Tf(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Cf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function bf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function A4(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function fE(n,e){let t=QN(n);e.validator!==null?n.setValidators(NN(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=YN(n);e.asyncValidator!==null?n.setAsyncValidators(NN(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();bf(e._rawValidators,i),bf(e._rawAsyncValidators,i)}function Cf(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=QN(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=YN(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return bf(e._rawValidators,r),bf(e._rawAsyncValidators,r),t}function R4(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&eM(n,e)})}function N4(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&eM(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function eM(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function M4(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function tM(n,e){n==null,fE(n,e)}function P4(n,e){return Cf(n,e)}function pE(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function x4(n){return Object.getPrototypeOf(n.constructor)===Sf}function nM(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function gE(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===jN?t=o:x4(o)?r=o:i=o}),i||r||t||null}function k4(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var O4={provide:Rr,useExisting:kt(()=>F4)},au=Promise.resolve(),F4=(()=>{class n extends Rr{callSetDisabledState;get submitted(){return yn(this.submittedReactive)}_submitted=io(()=>this.submittedReactive());submittedReactive=si(!1);_directives=new Set;form;ngSubmit=new xe;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Js({},uE(t),lE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){au.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),du(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){au.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){au.then(()=>{let r=this._findContainer(t.path),i=new Js({});tM(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){au.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){au.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),nM(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new wf(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new Df(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(z(mo,10),z(hu,10),z(Xs,8))};static \u0275dir=_e({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&zn("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[an([O4]),vt]})}return n})();function xN(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function kN(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var lu=class extends Zs{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(dE(t),hE(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Af(t)&&(t.nonNullable||t.initialValueIsDefault)&&(kN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){xN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){xN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){kN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var L4=n=>n instanceof lu;var V4={provide:Nr,useExisting:kt(()=>j4)},ON=Promise.resolve(),j4=(()=>{class n extends Nr{_changeDetectorRef;callSetDisabledState;control=new lu;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new xe;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=gE(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),pE(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){du(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){ON.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&ui(r);ON.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?XN(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(z(Rr,9),z(mo,10),z(hu,10),z(go,10),z(ci,8),z(Xs,8))};static \u0275dir=_e({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[an([V4]),vt,Wt]})}return n})();var lre=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=_e({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var mE=new V(""),U4={provide:Nr,useExisting:kt(()=>B4)},B4=(()=>{class n extends Nr{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(t){}model;update=new xe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=gE(this,i)}ngOnChanges(t){if(this._isControlChanged(t)){let r=t.form.previousValue;r&&Tf(r,this,!1),du(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}pE(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Tf(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static \u0275fac=function(r){return new(r||n)(z(mo,10),z(hu,10),z(go,10),z(mE,8),z(Xs,8))};static \u0275dir=_e({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[an([U4]),vt,Wt]})}return n})(),$4={provide:Rr,useExisting:kt(()=>H4)},H4=(()=>{class n extends Rr{callSetDisabledState;get submitted(){return yn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=io(()=>this._submittedReactive());_submittedReactive=si(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new xe;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Cf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return du(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Tf(t.control||null,t,!1),k4(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),nM(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new wf(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Df(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(Tf(r||null,t),L4(i)&&(du(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);tM(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&P4(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){fE(this.form,this),this._oldForm&&Cf(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(z(mo,10),z(hu,10),z(Xs,8))};static \u0275dir=_e({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&zn("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[an([$4]),vt,Wt]})}return n})();var z4={provide:Nr,useExisting:kt(()=>q4)},q4=(()=>{class n extends Nr{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new xe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=gE(this,o)}ngOnChanges(t){this._added||this._setUpControl(),pE(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return XN(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(z(Rr,13),z(mo,10),z(hu,10),z(go,10),z(mE,8))};static \u0275dir=_e({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[an([z4]),vt,Wt]})}return n})();var G4={provide:go,useExisting:kt(()=>iM),multi:!0};function rM(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function W4(n){return n.split(":")[0]}var iM=(()=>{class n extends Sf{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=rM(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=W4(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=$n(n)))(i||n)}})();static \u0275dir=_e({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&zn("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[an([G4]),vt]})}return n})(),dre=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(rM(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(z(yt),z(sn),z(iM,9))};static \u0275dir=_e({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),K4={provide:go,useExisting:kt(()=>oM),multi:!0};function FN(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Q4(n){return n.split(":")[0]}var oM=(()=>{class n extends Sf{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=Q4(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=$n(n)))(i||n)}})();static \u0275dir=_e({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&zn("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[an([K4]),vt]})}return n})(),hre=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(FN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(FN(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(z(yt),z(sn),z(oM,9))};static \u0275dir=_e({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function Y4(n){return typeof n=="number"?n:parseInt(n,10)}var sM=(()=>{class n{_validator=yf;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):yf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=_e({type:n,features:[Wt]})}return n})();var Z4={provide:mo,useExisting:kt(()=>J4),multi:!0};var J4=(()=>{class n extends sM{required;inputName="required";normalizeInput=ui;createValidator=t=>UN;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=$n(n)))(i||n)}})();static \u0275dir=_e({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ps("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[an([Z4]),vt]})}return n})();var X4={provide:mo,useExisting:kt(()=>ez),multi:!0},ez=(()=>{class n extends sM{minlength;inputName="minlength";normalizeInput=t=>Y4(t);createValidator=t=>BN(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=$n(n)))(i||n)}})();static \u0275dir=_e({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ps("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[an([X4]),vt]})}return n})();var aM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Vt({type:n});static \u0275inj=Ot({})}return n})(),sE=class extends Zs{constructor(e,t,r){super(dE(t),hE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){JN(this,!1,e),e.forEach((r,i)=>{ZN(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function LN(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var fre=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return LN(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Js(i,o)}record(t,r=null){let i=this._reduceControls(t);return new oE(i,r)}control(t,r,i){let o={};return this.useNonNullable?(LN(r)?o=r:(o.validators=r,o.asyncValidators=i),new lu(t,oe(O({},o),{nonNullable:!0}))):new lu(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new sE(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof lu)return t;if(t instanceof Zs)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pre=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Xs,useValue:t.callSetDisabledState??Rf}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Vt({type:n});static \u0275inj=Ot({imports:[aM]})}return n})(),gre=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:mE,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Xs,useValue:t.callSetDisabledState??Rf}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Vt({type:n});static \u0275inj=Ot({imports:[aM]})}return n})();var cM=()=>{};var dM=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},tz=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Nf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,m=l&63;c||(m=64,s||(g=64)),r.push(t[h],t[p],t[g],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(dM(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):tz(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new vE;let g=o<<2|a>>4;if(r.push(g),l!==64){let m=a<<4&240|l>>2;if(r.push(m),p!==64){let w=l<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},vE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},nz=function(n){let e=dM(n);return Nf.encodeByteArray(e,!0)},pu=function(n){return nz(n).replace(/\./g,"")},Mf=function(n){try{return Nf.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function EE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var rz=()=>EE().__FIREBASE_DEFAULTS__,iz=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},oz=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Mf(n[1]);return e&&JSON.parse(e)},Pf=()=>{try{return cM()||rz()||iz()||oz()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},IE=n=>{var e,t;return(t=(e=Pf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},hM=n=>{let e=IE(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},wE=()=>{var n;return(n=Pf())===null||n===void 0?void 0:n.config},DE=n=>{var e;return(e=Pf())===null||e===void 0?void 0:e[`_${n}`]};var yo=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function vi(n){return n.endsWith(".cloudworkstations.dev")}function xf(n){return v(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function fM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[pu(JSON.stringify(t)),pu(JSON.stringify(s)),""].join(".")}var fu={};function sz(){let n={prod:[],emulator:[]};for(let e of Object.keys(fu))fu[e]?n.emulator.push(e):n.prod.push(e);return n}function az(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var uM=!1;function kf(n,e){if(typeof window>"u"||typeof document>"u"||!vi(window.location.host)||fu[n]===e||fu[n]||uM)return;fu[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=sz().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{uM=!0,s()},g}function h(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=az(r),m=t("text"),w=document.getElementById(m)||document.createElement("span"),A=t("learnmore"),R=document.getElementById(A)||document.createElement("a"),k=t("preprendIcon"),H=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let q=g.element;a(q),h(R,A);let ge=l();c(H,k),q.append(H,w,R,ge),document.body.appendChild(q)}o?(w.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function cz(){var n;let e=(n=Pf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mM(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vM(){let n=nt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _M(){return!cz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gu(){try{return typeof indexedDB=="object"}catch{return!1}}function EM(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var uz="FirebaseError",Jt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=uz,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dn.prototype.create)}},Dn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?lz(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Jt(i,a,r)}};function lz(n,e){return n.replace(dz,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var dz=/\{\$([^}]+)}/g;function IM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Zn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(lM(o)&&lM(s)){if(!Zn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function lM(n){return n!==null&&typeof n=="object"}function vo(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ea(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ta(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function wM(n,e){let t=new _E(n,e);return t.subscribe.bind(t)}var _E=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");hz(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=yE),i.error===void 0&&(i.error=yE),i.complete===void 0&&(i.complete=yE);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function hz(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function yE(){}var Ere=4*60*60*1e3;function Me(n){return n&&n._delegate?n._delegate:n}var At=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var _o="[DEFAULT]";var TE=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new yo;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pz(e))try{this.getOrInitializeService({instanceIdentifier:_o})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=_o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=_o){return this.instances.has(e)}getOptions(e=_o){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fz(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_o){return this.component?this.component.multipleInstances?e:_o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function fz(n){return n===_o?void 0:n}function pz(n){return n.instantiationMode==="EAGER"}var Of=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new TE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var gz=[],fe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(fe||{}),mz={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},yz=fe.INFO,vz={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},_z=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=vz[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Jn=class{constructor(e){this.name=e,this._logLevel=yz,this._logHandler=_z,this._userLogHandler=null,gz.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var Ez=(n,e)=>e.some(t=>n instanceof t),DM,TM;function Iz(){return DM||(DM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wz(){return TM||(TM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var bM=new WeakMap,CE=new WeakMap,CM=new WeakMap,bE=new WeakMap,AE=new WeakMap;function Dz(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Xn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&bM.set(t,n)}).catch(()=>{}),AE.set(e,n),e}function Tz(n){if(CE.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});CE.set(n,e)}var SE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return CE.get(n);if(e==="objectStoreNames")return n.objectStoreNames||CM.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function SM(n){SE=n(SE)}function bz(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Ff(this),e,...t);return CM.set(r,e.sort?e.sort():[e]),Xn(r)}:wz().includes(n)?function(...e){return n.apply(Ff(this),e),Xn(bM.get(this))}:function(...e){return Xn(n.apply(Ff(this),e))}}function Cz(n){return typeof n=="function"?bz(n):(n instanceof IDBTransaction&&Tz(n),Ez(n,Iz())?new Proxy(n,SE):n)}function Xn(n){if(n instanceof IDBRequest)return Dz(n);if(bE.has(n))return bE.get(n);let e=Cz(n);return e!==n&&(bE.set(n,e),AE.set(e,n)),e}var Ff=n=>AE.get(n);function RM(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Xn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Xn(s.result),c.oldVersion,c.newVersion,Xn(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var Sz=["get","getKey","getAll","getAllKeys","count"],Az=["put","add","delete","clear"],RE=new Map;function AM(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(RE.get(e))return RE.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Az.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Sz.includes(t)))return;let o=function(s,...a){return v(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return RE.set(e,o),o}SM(n=>oe(O({},n),{get:(e,t,r)=>AM(e,t)||n.get(e,t,r),has:(e,t)=>!!AM(e,t)||n.has(e,t)}));var ME=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Rz(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Rz(n){let e=n.getComponent();return e?.type==="VERSION"}var PE="@firebase/app",NM="0.13.1";var Mr=new Jn("@firebase/app"),Nz="@firebase/app-compat",Mz="@firebase/analytics-compat",Pz="@firebase/analytics",xz="@firebase/app-check-compat",kz="@firebase/app-check",Oz="@firebase/auth",Fz="@firebase/auth-compat",Lz="@firebase/database",Vz="@firebase/data-connect",jz="@firebase/database-compat",Uz="@firebase/functions",Bz="@firebase/functions-compat",$z="@firebase/installations",Hz="@firebase/installations-compat",zz="@firebase/messaging",qz="@firebase/messaging-compat",Gz="@firebase/performance",Wz="@firebase/performance-compat",Kz="@firebase/remote-config",Qz="@firebase/remote-config-compat",Yz="@firebase/storage",Zz="@firebase/storage-compat",Jz="@firebase/firestore",Xz="@firebase/ai",eq="@firebase/firestore-compat",tq="firebase",nq="11.9.0";var xE="[DEFAULT]",rq={[PE]:"fire-core",[Nz]:"fire-core-compat",[Pz]:"fire-analytics",[Mz]:"fire-analytics-compat",[kz]:"fire-app-check",[xz]:"fire-app-check-compat",[Oz]:"fire-auth",[Fz]:"fire-auth-compat",[Lz]:"fire-rtdb",[Vz]:"fire-data-connect",[jz]:"fire-rtdb-compat",[Uz]:"fire-fn",[Bz]:"fire-fn-compat",[$z]:"fire-iid",[Hz]:"fire-iid-compat",[zz]:"fire-fcm",[qz]:"fire-fcm-compat",[Gz]:"fire-perf",[Wz]:"fire-perf-compat",[Kz]:"fire-rc",[Qz]:"fire-rc-compat",[Yz]:"fire-gcs",[Zz]:"fire-gcs-compat",[Jz]:"fire-fst",[eq]:"fire-fst-compat",[Xz]:"fire-vertex","fire-js":"fire-js",[tq]:"fire-js-all"};var mu=new Map,iq=new Map,kE=new Map;function MM(n,e){try{n.container.addComponent(e)}catch(t){Mr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Tn(n){let e=n.name;if(kE.has(e))return Mr.debug(`There were multiple attempts to register component ${e}.`),!1;kE.set(e,n);for(let t of mu.values())MM(t,n);for(let t of iq.values())MM(t,n);return!0}function na(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function _t(n){return n==null?!1:n.settings!==void 0}var oq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_i=new Dn("app","Firebase",oq);var OE=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new At("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}};var Ei=nq;function VE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:xE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw _i.create("bad-app-name",{appName:String(i)});if(t||(t=wE()),!t)throw _i.create("no-options");let o=mu.get(i);if(o){if(Zn(t,o.options)&&Zn(r,o.config))return o;throw _i.create("duplicate-app",{appName:i})}let s=new Of(i);for(let c of kE.values())s.addComponent(c);let a=new OE(t,r,s);return mu.set(i,a),a}function Eo(n=xE){let e=mu.get(n);if(!e&&n===xE&&wE())return VE();if(!e)throw _i.create("no-app",{appName:n});return e}function Lf(){return Array.from(mu.values())}function Ve(n,e,t){var r;let i=(r=rq[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mr.warn(a.join(" "));return}Tn(new At(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var sq="firebase-heartbeat-database",aq=1,yu="firebase-heartbeat-store",NE=null;function OM(){return NE||(NE=RM(sq,aq,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(yu)}catch(t){console.warn(t)}}}}).catch(n=>{throw _i.create("idb-open",{originalErrorMessage:n.message})})),NE}function cq(n){return v(this,null,function*(){try{let t=(yield OM()).transaction(yu),r=yield t.objectStore(yu).get(FM(n));return yield t.done,r}catch(e){if(e instanceof Jt)Mr.warn(e.message);else{let t=_i.create("idb-get",{originalErrorMessage:e?.message});Mr.warn(t.message)}}})}function PM(n,e){return v(this,null,function*(){try{let r=(yield OM()).transaction(yu,"readwrite");yield r.objectStore(yu).put(e,FM(n)),yield r.done}catch(t){if(t instanceof Jt)Mr.warn(t.message);else{let r=_i.create("idb-set",{originalErrorMessage:t?.message});Mr.warn(r.message)}}})}function FM(n){return`${n.name}!${n.options.appId}`}var uq=1024,lq=30,FE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new LE(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=xM();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>lq){let s=hq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Mr.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=xM(),{heartbeatsToSend:r,unsentEntries:i}=dq(this._heartbeatsCache.heartbeats),o=pu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Mr.warn(t),""}})}};function xM(){return new Date().toISOString().substring(0,10)}function dq(n,e=uq){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),kM(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),kM(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var LE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return gu()?EM().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield cq(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return PM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return PM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function kM(n){return pu(JSON.stringify({version:2,heartbeats:n})).length}function hq(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function fq(n){Tn(new At("platform-logger",e=>new ME(e),"PRIVATE")),Tn(new At("heartbeat",e=>new FE(e),"PRIVATE")),Ve(PE,NM,n),Ve(PE,NM,"esm2017"),Ve("fire-js","")}fq("");function nP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var rP=nP,iP=new Dn("auth","Firebase",nP());var Hf=new Jn("@firebase/auth");function pq(n,...e){Hf.logLevel<=fe.WARN&&Hf.warn(`Auth (${Ei}): ${n}`,...e)}function jf(n,...e){Hf.logLevel<=fe.ERROR&&Hf.error(`Auth (${Ei}): ${n}`,...e)}function cn(n,...e){throw hI(n,...e)}function Ut(n,...e){return hI(n,...e)}function dI(n,e,t){let r=Object.assign(Object.assign({},rP()),{[e]:t});return new Dn("auth","Firebase",r).create(e,{appName:n.name})}function er(n){return dI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gq(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&cn(n,"argument-error"),dI(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hI(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return iP.create(n,...e)}function U(n,e,...t){if(!n)throw hI(e,...t)}function Pr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw jf(e),new Error(e)}function kr(n,e){n||Pr(e)}function HE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function oP(){return LM()==="http:"||LM()==="https:"}function LM(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function mq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oP()||mM()||"connection"in navigator)?navigator.onLine:!0}function yq(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Io=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,kr(t>e,"Short delay should be less than long delay!"),this.isMobile=pM()||yM()}get(){return mq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function fI(n,e){kr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var zf=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var vq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var _q=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Eq=new Io(3e4,6e4);function Bt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Xt(o,s,a,c){return v(this,arguments,function*(n,e,t,r,i={}){return sP(n,i,()=>v(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=vo(Object.assign({key:n.config.apiKey},h)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:g},l);return gM()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&vi(n.emulatorConfig.host)&&(m.credentials="include"),zf.fetch()(yield aP(n,n.config.apiHost,t,p),m)}))})}function sP(n,e,t){return v(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},vq),e);try{let i=new zE(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw _u(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw _u(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw _u(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw _u(n,"user-disabled",s);let h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw dI(n,h,l);cn(n,h)}}catch(i){if(i instanceof Jt)throw i;cn(n,"network-request-failed",{message:String(i)})}})}function Di(o,s,a,c){return v(this,arguments,function*(n,e,t,r,i={}){let l=yield Xt(n,e,t,r,i);return"mfaPendingCredential"in l&&cn(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function aP(n,e,t,r){return v(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?fI(n.config,i):`${n.config.apiScheme}://${i}`;return _q.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function Iq(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var zE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ut(this.auth,"network-request-failed")),Eq.get())})}};function _u(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Ut(n,e,r);return i.customData._tokenResponse=t,i}function VM(n){return n!==void 0&&n.getResponse!==void 0}function jM(n){return n!==void 0&&n.enterprise!==void 0}var qf=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Iq(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function wq(n){return v(this,null,function*(){return(yield Xt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})}function cP(n,e){return v(this,null,function*(){return Xt(n,"GET","/v2/recaptchaConfig",Bt(n,e))})}function Dq(n,e){return v(this,null,function*(){return Xt(n,"POST","/v1/accounts:delete",e)})}function Gf(n,e){return v(this,null,function*(){return Xt(n,"POST","/v1/accounts:lookup",e)})}function Eu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function pI(n,e=!1){return v(this,null,function*(){let t=Me(n),r=yield t.getIdToken(e),i=gI(r);U(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Eu(jE(i.auth_time)),issuedAtTime:Eu(jE(i.iat)),expirationTime:Eu(jE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function jE(n){return Number(n)*1e3}function gI(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return jf("JWT malformed, contained fewer than 3 sections"),null;try{let i=Mf(t);return i?JSON.parse(i):(jf("Failed to decode base64 JWT payload"),null)}catch(i){return jf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function UM(n){let e=gI(n);return U(e,"internal-error"),U(typeof e.exp<"u","internal-error"),U(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function oa(n,e,t=!1){return v(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Jt&&Tq(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Tq({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var qE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),t)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Tu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Wf(n){return v(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield oa(n,Gf(t,{idToken:r}));U(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?uP(o.providerUserInfo):[],a=bq(n.providerData,s),c=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=c?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Tu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function mI(n){return v(this,null,function*(){let e=Me(n);yield Wf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function bq(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function uP(n){return n.map(e=>{var{providerId:t}=e,r=ql(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Cq(n,e){return v(this,null,function*(){let t=yield sP(n,{},()=>v(null,null,function*(){let r=vo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield aP(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&vi(n.emulatorConfig.host)&&(c.credentials="include"),zf.fetch()(s,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Sq(n,e){return v(this,null,function*(){return Xt(n,"POST","/v2/accounts:revokeToken",Bt(n,e))})}var Iu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){U(e.idToken,"internal-error"),U(typeof e.idToken<"u","internal-error"),U(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){U(e.length!==0,"internal-error");let t=UM(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return v(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(U(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Cq(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(U(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(U(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(U(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Pr("not implemented")}};function Ii(n,e){U(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var wi=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=ql(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let t=yield oa(this,this.stsTokenManager.getToken(this.auth,e));return U(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return pI(this,e)}reload(){return mI(this)}_assign(e){this!==e&&(U(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Wf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(_t(this.auth.app))return Promise.reject(er(this.auth));let e=yield this.getIdToken();return yield oa(this,Dq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=t.photoURL)!==null&&s!==void 0?s:void 0,A=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,k=(l=t.createdAt)!==null&&l!==void 0?l:void 0,H=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:q,emailVerified:ge,isAnonymous:$e,providerData:ve,stsTokenManager:T}=t;U(q&&T,e,"internal-error");let _=Iu.fromJSON(this.name,T);U(typeof q=="string",e,"internal-error"),Ii(p,e.name),Ii(g,e.name),U(typeof ge=="boolean",e,"internal-error"),U(typeof $e=="boolean",e,"internal-error"),Ii(m,e.name),Ii(w,e.name),Ii(A,e.name),Ii(R,e.name),Ii(k,e.name),Ii(H,e.name);let I=new n({uid:q,auth:e,email:g,emailVerified:ge,displayName:p,isAnonymous:$e,photoURL:w,phoneNumber:m,tenantId:A,stsTokenManager:_,createdAt:k,lastLoginAt:H});return ve&&Array.isArray(ve)&&(I.providerData=ve.map(D=>Object.assign({},D))),R&&(I._redirectEventId=R),I}static _fromIdTokenResponse(e,t,r=!1){return v(this,null,function*(){let i=new Iu;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Wf(o),o})}static _fromGetAccountInfoResponse(e,t,r){return v(this,null,function*(){let i=t.users[0];U(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?uP(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Iu;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Tu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var BM=new Map;function xr(n){kr(n instanceof Function,"Expected a class definition");let e=BM.get(n);return e?(kr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,BM.set(n,e),e)}var Aq=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(t,r){return v(this,null,function*(){this.storage[t]=r})}_get(t){return v(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return v(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),GE=Aq;function Uf(n,e,t){return`firebase:${n}:${e}:${t}`}var Kf=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Uf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Uf("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Gf(this.auth,{idToken:e}).catch(()=>{});return t?wi._fromGetAccountInfoResponse(this.auth,t,e):null}return wi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(this,null,function*(){if(!t.length)return new n(xr(GE),e,r);let i=(yield Promise.all(t.map(l=>v(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||xr(GE),s=Uf(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let g=yield Gf(e,{idToken:h}).catch(()=>{});if(!g)break;p=yield wi._fromGetAccountInfoResponse(e,g,h)}else p=wi._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>v(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function $M(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gP(e))return"Blackberry";if(mP(e))return"Webos";if(dP(e))return"Safari";if((e.includes("chrome/")||hP(e))&&!e.includes("edge/"))return"Chrome";if(pP(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function lP(n=nt()){return/firefox\//i.test(n)}function dP(n=nt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hP(n=nt()){return/crios\//i.test(n)}function fP(n=nt()){return/iemobile/i.test(n)}function pP(n=nt()){return/android/i.test(n)}function gP(n=nt()){return/blackberry/i.test(n)}function mP(n=nt()){return/webos/i.test(n)}function yI(n=nt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Rq(n=nt()){var e;return yI(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Nq(){return vM()&&document.documentMode===10}function yP(n=nt()){return yI(n)||pP(n)||mP(n)||gP(n)||/windows phone/i.test(n)||fP(n)}function vP(n,e=[]){let t;switch(n){case"Browser":t=$M(nt());break;case"Worker":t=`${$M(nt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ei}/${r}`}var WE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Mq(t){return v(this,arguments,function*(n,e={}){return Xt(n,"GET","/v2/passwordPolicy",Bt(n,e))})}var Pq=6,KE=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:Pq,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var QE=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qf(this),this.idTokenSubscription=new Qf(this),this.beforeStateQueue=new WE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=xr(t)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Kf.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let t=yield Gf(this,{idToken:e}),r=yield wi._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var t;if(_t(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return U(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield Wf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=yq()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(_t(this.app))return Promise.reject(er(this));let t=e?Me(e):null;return t&&U(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return v(this,null,function*(){if(!this._deleted)return e&&U(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return _t(this.app)?Promise.reject(er(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return _t(this.app)?Promise.reject(er(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(xr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield Mq(this),t=new KE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Dn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Sq(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&xr(e)||this._popupRedirectResolver;U(t,this,"argument-error"),this.redirectPersistenceManager=yield Kf.create(this,[xr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(U(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return v(this,null,function*(){var e;if(_t(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&pq(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function bn(n){return Me(n)}var Qf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=wM(t=>this.observer=t)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Au={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xq(n){Au=n}function vI(n){return Au.loadJS(n)}function kq(){return Au.recaptchaV2Script}function Oq(){return Au.recaptchaEnterpriseScript}function Fq(){return Au.gapiScript}function _P(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Lq=500,Vq=6e4,Vf=1e12,YE=class{constructor(e){this.auth=e,this.counter=Vf,this._widgets=new Map}render(e,t){let r=this.counter;return this._widgets.set(r,new XE(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;let r=e||Vf;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;let r=e||Vf;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}execute(e){return v(this,null,function*(){var t;let r=e||Vf;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""})}},ZE=class{constructor(){this.enterprise=new JE}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},JE=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},XE=class{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let i=typeof e=="string"?document.getElementById(e):e;U(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=jq(50);let{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},Vq)},Lq))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}};function jq(n){let e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}var Uq="recaptcha-enterprise",wu="NO_RECAPTCHA",Yf=class{constructor(e){this.type=Uq,this.auth=bn(e)}verify(e="verify",t=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(null,null,function*(){cP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new qf(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;jM(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(wu)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZE().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&jM(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Oq();c.length!==0&&(c+=a),vI(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function vu(n,e,t,r=!1,i=!1){return v(this,null,function*(){let o=new Yf(n),s;if(i)s=wu;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function ra(n,e,t,r,i){return v(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield vu(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>v(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield vu(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield vu(n,e,t);return r(n,a).catch(c=>v(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield vu(n,e,t,!1,!0);return r(n,h)}return Promise.reject(c)}))}else{let a=yield vu(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function Bq(n){return v(this,null,function*(){let e=bn(n),t=yield cP(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new qf(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new Yf(e).verify()})}function _I(n,e){let t=na(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Zn(o,e??{}))return i;cn(i,"already-initialized")}return t.initialize({options:e})}function $q(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(xr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function EI(n,e,t){let r=bn(n);U(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=EP(e),{host:s,port:a}=Hq(e),c=a===null?"":`:${a}`,l={url:`${o}//${s}${c}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){U(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),U(Zn(l,r.config.emulator)&&Zn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,vi(s)?(xf(`${o}//${s}${c}`),kf("Auth",!0)):i||zq()}function EP(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Hq(n){let e=EP(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:HM(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:HM(s)}}}function HM(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function zq(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var wo=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Pr("not implemented")}_getIdTokenResponse(e){return Pr("not implemented")}_linkToIdToken(e,t){return Pr("not implemented")}_getReauthenticationResolver(e){return Pr("not implemented")}};function qq(n,e){return v(this,null,function*(){return Xt(n,"POST","/v1/accounts:update",e)})}function Gq(n,e){return v(this,null,function*(){return Xt(n,"POST","/v1/accounts:signUp",e)})}function Wq(n,e){return v(this,null,function*(){return Di(n,"POST","/v1/accounts:signInWithPassword",Bt(n,e))})}function Kq(n,e){return v(this,null,function*(){return Di(n,"POST","/v1/accounts:signInWithEmailLink",Bt(n,e))})}function Qq(n,e){return v(this,null,function*(){return Di(n,"POST","/v1/accounts:signInWithEmailLink",Bt(n,e))})}var bu=class n extends wo{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ra(e,t,"signInWithPassword",Wq,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Kq(e,{email:this._email,oobCode:this._password});default:cn(e,"internal-error")}})}_linkToIdToken(e,t){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ra(e,r,"signUpPassword",Gq,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Qq(e,{idToken:t,email:this._email,oobCode:this._password});default:cn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function ia(n,e){return v(this,null,function*(){return Di(n,"POST","/v1/accounts:signInWithIdp",Bt(n,e))})}var Yq="http://localhost",Zf=class n extends wo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):cn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=ql(t,["providerId","signInMethod"]);if(!r||!i)return null;let s=new n(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return ia(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,ia(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,ia(e,t)}buildRequest(){let e={requestUri:Yq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vo(t)}return e}};function zM(n,e){return v(this,null,function*(){return Xt(n,"POST","/v1/accounts:sendVerificationCode",Bt(n,e))})}function Zq(n,e){return v(this,null,function*(){return Di(n,"POST","/v1/accounts:signInWithPhoneNumber",Bt(n,e))})}function Jq(n,e){return v(this,null,function*(){let t=yield Di(n,"POST","/v1/accounts:signInWithPhoneNumber",Bt(n,e));if(t.temporaryProof)throw _u(n,"account-exists-with-different-credential",t);return t})}var Xq={USER_NOT_FOUND:"user-not-found"};function e3(n,e){return v(this,null,function*(){let t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Di(n,"POST","/v1/accounts:signInWithPhoneNumber",Bt(n,t),Xq)})}var Jf=class n extends wo{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new n({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new n({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return Zq(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Jq(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return e3(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));let{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!t&&!i&&!o?null:new n({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o})}};function t3(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function n3(n){let e=ea(ta(n)).link,t=e?ea(ta(e)).deep_link_id:null,r=ea(ta(n)).deep_link_id;return(r?ea(ta(r)).link:null)||r||t||e||n}var Xf=class n{constructor(e){var t,r,i,o,s,a;let c=ea(ta(e)),l=(t=c.apiKey)!==null&&t!==void 0?t:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,p=t3((i=c.mode)!==null&&i!==void 0?i:null);U(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=n3(e);try{return new n(t)}catch{return null}}};var IP=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return bu._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Xf.parseLink(r);return U(i,"argument-error"),bu._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Cu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var ep=class extends Cu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var II=(()=>{class n extends ep{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Zf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();function r3(n,e){return v(this,null,function*(){return Di(n,"POST","/v1/accounts:signUp",Bt(n,e))})}var sa=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return v(this,null,function*(){let o=yield wi._fromIdTokenResponse(e,r,i),s=qM(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=qM(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function qM(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var eI=class n extends Jt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function wP(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?eI._fromErrorAndOperation(n,o,e,r):o})}function i3(n,e,t=!1){return v(this,null,function*(){let r=yield oa(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return sa._forOperation(n,"link",r)})}function o3(n,e,t=!1){return v(this,null,function*(){let{auth:r}=n;if(_t(r.app))return Promise.reject(er(r));let i="reauthenticate";try{let o=yield oa(n,wP(r,i,e,n),t);U(o.idToken,r,"internal-error");let s=gI(o.idToken);U(s,r,"internal-error");let{sub:a}=s;return U(n.uid===a,r,"user-mismatch"),sa._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&cn(r,"user-mismatch"),o}})}function DP(n,e,t=!1){return v(this,null,function*(){if(_t(n.app))return Promise.reject(er(n));let r="signIn",i=yield wP(n,r,e),o=yield sa._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function sp(n,e){return v(this,null,function*(){return DP(bn(n),e)})}function TP(n){return v(this,null,function*(){let e=bn(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function ap(n,e,t){return v(this,null,function*(){if(_t(n.app))return Promise.reject(er(n));let r=bn(n),s=yield ra(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",r3,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&TP(n),c}),a=yield sa._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Ru(n,e,t){return _t(n.app)?Promise.reject(er(n)):sp(Me(n),IP.credential(e,t)).catch(r=>v(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&TP(n),r}))}function cp(n,e){return s3(Me(n),null,e)}function s3(n,e,t){return v(this,null,function*(){let{auth:r}=n,o={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);let s=yield oa(n,qq(r,o));yield n._updateTokensIfNecessary(s,!0)})}function wI(n,e,t,r){return Me(n).onIdTokenChanged(e,t,r)}function DI(n,e,t){return Me(n).beforeAuthStateChanged(e,t)}function TI(n,e,t,r){return Me(n).onAuthStateChanged(e,t,r)}function up(n){return Me(n).signOut()}function GM(n,e){return Xt(n,"POST","/v2/accounts/mfaEnrollment:start",Bt(n,e))}var tp="__sak";var np=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(tp,"1"),this.storage.removeItem(tp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var a3=1e3,c3=10,u3=(()=>{class n extends np{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yP(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);Nq()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,c3):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},a3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return v(this,null,function*(){yield Wr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return v(this,null,function*(){let r=yield Wr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return v(this,null,function*(){yield Wr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),bP=u3;var l3=(()=>{class n extends np{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),bI=l3;function d3(n){return Promise.all(n.map(e=>v(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var h3=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return v(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield d3(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function CI(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var tI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=CI("",20);i.port1.start();let h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function qe(){return window}function f3(n){qe().location.href=n}function SI(){return typeof qe().WorkerGlobalScope<"u"&&typeof qe().importScripts=="function"}function p3(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function g3(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function m3(){return SI()?self:null}var CP="firebaseLocalStorageDb",y3=1,rp="firebaseLocalStorage",SP="fbase_key",Do=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function lp(n,e){return n.transaction([rp],e?"readwrite":"readonly").objectStore(rp)}function v3(){let n=indexedDB.deleteDatabase(CP);return new Do(n).toPromise()}function nI(){let n=indexedDB.open(CP,y3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(rp,{keyPath:SP})}catch(i){t(i)}}),n.addEventListener("success",()=>v(null,null,function*(){let r=n.result;r.objectStoreNames.contains(rp)?e(r):(r.close(),yield v3(),e(yield nI()))}))})}function WM(n,e,t){return v(this,null,function*(){let r=lp(n,!0).put({[SP]:e,value:t});return new Do(r).toPromise()})}function _3(n,e){return v(this,null,function*(){let t=lp(n,!1).get(e),r=yield new Do(t).toPromise();return r===void 0?null:r.value})}function KM(n,e){let t=lp(n,!0).delete(e);return new Do(t).toPromise()}var E3=800,I3=3,w3=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield nI(),this.db)})}_withRetries(t){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>I3)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return SI()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=h3._getInstance(m3()),this.receiver._subscribe("keyChanged",(t,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var t,r;if(this.activeServiceWorker=yield p3(),!this.activeServiceWorker)return;this.sender=new tI(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||g3()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let t=yield nI();return yield WM(t,tp,"1"),yield KM(t,tp),!0}catch{}return!1})}_withPendingWrite(t){return v(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>WM(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return v(this,null,function*(){let r=yield this._withRetries(i=>_3(i,t));return this.localCache[t]=r,r})}_remove(t){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>KM(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return v(this,null,function*(){let t=yield this._withRetries(o=>{let s=lp(o,!1).getAll();return new Do(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),E3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),AP=w3;function QM(n,e){return Xt(n,"POST","/v2/accounts/mfaSignIn:start",Bt(n,e))}var UE=_P("rcb"),D3=new Io(3e4,6e4),rI=class{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=qe().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return U(T3(t),e,"argument-error"),this.shouldResolveImmediately(t)&&VM(qe().grecaptcha)?Promise.resolve(qe().grecaptcha):new Promise((r,i)=>{let o=qe().setTimeout(()=>{i(Ut(e,"network-request-failed"))},D3.get());qe()[UE]=()=>{qe().clearTimeout(o),delete qe()[UE];let a=qe().grecaptcha;if(!a||!VM(a)){i(Ut(e,"internal-error"));return}let c=a.render;a.render=(l,h)=>{let p=c(l,h);return this.counter++,p},this.hostLanguage=t,r(a)};let s=`${kq()}?${vo({onload:UE,render:"explicit",hl:t})}`;vI(s).catch(()=>{clearTimeout(o),i(Ut(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=qe().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}};function T3(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}var iI=class{load(e){return v(this,null,function*(){return new YE(e)})}clearedOneInstance(){}};var Du="recaptcha",b3={theme:"light",type:"image"},oI=class{constructor(e,t,r=Object.assign({},b3)){this.parameters=r,this.type=Du,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bn(e),this.isInvisible=this.parameters.size==="invisible",U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");let i=typeof t=="string"?document.getElementById(t):t;U(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new iI:new rI,this.validateStartingState()}verify(){return v(this,null,function*(){this.assertNotDestroyed();let e=yield this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{let o=s=>{s&&(this.tokenChangeListeners.delete(o),i(s))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){let r=qe()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){return v(this,null,function*(){if(yield this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){let t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId})}init(){return v(this,null,function*(){U(oP()&&!SI(),this.auth,"internal-error"),yield C3(),this.recaptcha=yield this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let e=yield wq(this.auth);U(e,this.auth,"internal-error"),this.parameters.sitekey=e})}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function C3(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}var sI=class{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){let t=Jf._fromVerification(this.verificationId,e);return this.onConfirmation(t)}};function RP(n,e,t){return v(this,null,function*(){if(_t(n.app))return Promise.reject(er(n));let r=bn(n),i=yield S3(r,e,Me(t));return new sI(i,o=>sp(r,o))})}function S3(n,e,t){return v(this,null,function*(){var r;if(!n._getRecaptchaConfig())try{yield Bq(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){let o=i.session;if("phoneNumber"in i){U(o.type==="enroll",n,"internal-error");let s={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(yield ra(n,s,"mfaSmsEnrollment",(h,p)=>v(null,null,function*(){if(p.phoneEnrollmentInfo.captchaResponse===wu){U(t?.type===Du,h,"argument-error");let g=yield BE(h,p,t);return GM(h,g)}return GM(h,p)}),"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneSessionInfo.sessionInfo}else{U(o.type==="signin",n,"internal-error");let s=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;U(s,n,"missing-multi-factor-info");let a={mfaPendingCredential:o.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(yield ra(n,a,"mfaSmsSignIn",(p,g)=>v(null,null,function*(){if(g.phoneSignInInfo.captchaResponse===wu){U(t?.type===Du,p,"argument-error");let m=yield BE(p,g,t);return QM(p,m)}return QM(p,g)}),"PHONE_PROVIDER").catch(p=>Promise.reject(p))).phoneResponseInfo.sessionInfo}}else{let o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(yield ra(n,o,"sendVerificationCode",(l,h)=>v(null,null,function*(){if(h.captchaResponse===wu){U(t?.type===Du,l,"argument-error");let p=yield BE(l,h,t);return zM(l,p)}return zM(l,h)}),"PHONE_PROVIDER").catch(l=>Promise.reject(l))).sessionInfo}}finally{t?._reset()}})}function BE(n,e,t){return v(this,null,function*(){U(t.type===Du,n,"argument-error");let r=yield t.verify();U(typeof r=="string",n,"argument-error");let i=Object.assign({},e);if("phoneEnrollmentInfo"in i){let o=i.phoneEnrollmentInfo.phoneNumber,s=i.phoneEnrollmentInfo.captchaResponse,a=i.phoneEnrollmentInfo.clientType,c=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:s,clientType:a,recaptchaVersion:c}}),i}else if("phoneSignInInfo"in i){let o=i.phoneSignInInfo.captchaResponse,s=i.phoneSignInInfo.clientType,a=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:s,recaptchaVersion:a}}),i}else return Object.assign(i,{recaptchaToken:r}),i})}function NP(n,e){return e?xr(e):(U(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Su=class extends wo{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ia(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ia(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ia(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function A3(n){return DP(n.auth,new Su(n),n.bypassAuthState)}function R3(n){let{auth:e,user:t}=n;return U(t,e,"internal-error"),o3(t,new Su(n),n.bypassAuthState)}function N3(n){return v(this,null,function*(){let{auth:e,user:t}=n;return U(t,e,"internal-error"),i3(t,new Su(n),n.bypassAuthState)})}var ip=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return A3;case"linkViaPopup":case"linkViaRedirect":return N3;case"reauthViaPopup":case"reauthViaRedirect":return R3;default:cn(this.auth,"internal-error")}}resolve(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var M3=new Io(2e3,1e4);function dp(n,e,t){return v(this,null,function*(){if(_t(n.app))return Promise.reject(Ut(n,"operation-not-supported-in-this-environment"));let r=bn(n);gq(n,e,Cu);let i=NP(r,t);return new P3(r,"signInViaPopup",e,i).executeNotNull()})}var P3=(()=>{class n extends ip{constructor(t,r,i,o,s){super(t,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return v(this,null,function*(){let t=yield this.execute();return U(t,this.auth,"internal-error"),t})}onExecution(){return v(this,null,function*(){kr(this.filter.length===1,"Popup operations only handle one event");let t=CI();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ut(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ut(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ut(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,M3.get())};t()}}n.currentPopupAction=null;return n})(),x3="pendingRedirect",Bf=new Map,aI=class n extends ip{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=Bf.get(this.auth._key());if(!e){try{let r=(yield k3(this.resolver,this.auth))?yield Wr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Bf.set(this.auth._key(),e)}return this.bypassAuthState||Bf.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return Wr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Wr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function k3(n,e){return v(this,null,function*(){let t=L3(e),r=F3(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function O3(n,e){Bf.set(n._key(),e)}function F3(n){return xr(n._redirectPersistence)}function L3(n){return Uf(x3,n.config.apiKey,n.name)}function V3(n,e,t=!1){return v(this,null,function*(){if(_t(n.app))return Promise.reject(er(n));let r=bn(n),i=NP(r,e),s=yield new aI(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var j3=10*60*1e3,cI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!U3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!MP(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ut(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=j3&&this.cachedEventUids.clear(),this.cachedEventUids.has(YM(e))}saveEventToCache(e){this.cachedEventUids.add(YM(e)),this.lastProcessedEventTime=Date.now()}};function YM(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function MP({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function U3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MP(n);default:return!1}}function B3(t){return v(this,arguments,function*(n,e={}){return Xt(n,"GET","/v1/projects",e)})}var $3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,H3=/^https?/;function z3(n){return v(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield B3(n);for(let t of e)try{if(q3(t))return}catch{}cn(n,"unauthorized-domain")})}function q3(n){let e=HE(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!H3.test(t))return!1;if($3.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var G3=new Io(3e4,6e4);function ZM(){let n=qe().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function W3(n){return new Promise((e,t)=>{var r,i,o;function s(){ZM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZM(),t(Ut(n,"network-request-failed"))},timeout:G3.get()})}if(!((i=(r=qe().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=qe().gapi)===null||o===void 0)&&o.load)s();else{let a=_P("iframefcb");return qe()[a]=()=>{gapi.load?s():t(Ut(n,"network-request-failed"))},vI(`${Fq()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw $f=null,e})}var $f=null;function K3(n){return $f=$f||W3(n),$f}var Q3=new Io(5e3,15e3),Y3="__/auth/iframe",Z3="emulator/auth/iframe",J3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function e6(n){let e=n.config;U(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?fI(e,Z3):`https://${n.config.authDomain}/${Y3}`,r={apiKey:e.apiKey,appName:n.name,v:Ei},i=X3.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${vo(r).slice(1)}`}function t6(n){return v(this,null,function*(){let e=yield K3(n),t=qe().gapi;return U(t,n,"internal-error"),e.open({where:document.body,url:e6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:J3,dontclear:!0},r=>new Promise((i,o)=>v(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Ut(n,"network-request-failed"),a=qe().setTimeout(()=>{o(s)},Q3.get());function c(){qe().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var n6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},r6=500,i6=600,o6="_blank",s6="http://localhost",op=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function a6(n,e,t,r=r6,i=i6){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},n6),{width:r.toString(),height:i.toString(),top:o,left:s}),l=nt().toLowerCase();t&&(a=hP(l)?o6:t),lP(l)&&(e=e||s6,c.scrollbars="yes");let h=Object.entries(c).reduce((g,[m,w])=>`${g}${m}=${w},`,"");if(Rq(l)&&a!=="_self")return c6(e||"",a),new op(null);let p=window.open(e||"",a,h);U(p,n,"popup-blocked");try{p.focus()}catch{}return new op(p)}function c6(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var u6="__/auth/handler",l6="emulator/auth/handler",d6=encodeURIComponent("fac");function JM(n,e,t,r,i,o){return v(this,null,function*(){U(n.config.authDomain,n,"auth-domain-config-required"),U(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ei,eventId:i};if(e instanceof Cu){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",IM(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof ep){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let c=yield n._getAppCheckToken(),l=c?`#${d6}=${encodeURIComponent(c)}`:"";return`${h6(n)}?${vo(a).slice(1)}${l}`})}function h6({config:n}){return n.emulator?fI(n,l6):`https://${n.authDomain}/${u6}`}var $E="webStorageSupport",uI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bI,this._completeRedirectFn=V3,this._overrideRedirectResult=O3}_openPopup(e,t,r,i){return v(this,null,function*(){var o;kr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield JM(e,t,r,HE(),i);return a6(e,s,CI())})}_openRedirect(e,t,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield JM(e,t,r,HE(),i);return f3(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(kr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return v(this,null,function*(){let t=yield t6(e),r=new cI(e);return t.register("authEvent",i=>(U(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($E,{type:$E},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[$E];s!==void 0&&t(!!s),cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=z3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return yP()||dP()||yI()}},PP=uI;var XM="@firebase/auth",eP="1.10.7";var lI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function f6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function p6(n){Tn(new At("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;U(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vP(n)},l=new QE(r,i,o,c);return $q(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Tn(new At("auth-internal",e=>{let t=bn(e.getProvider("auth").getImmediate());return(r=>new lI(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ve(XM,eP,f6(n)),Ve(XM,eP,"esm2017")}var g6=5*60,m6=DE("authIdTokenMaxAge")||g6,tP=null,y6=n=>e=>v(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>m6)return;let i=t?.token;tP!==i&&(tP=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Nu(n=Eo()){let e=na(n,"auth");if(e.isInitialized())return e.getImmediate();let t=_I(n,{popupRedirectResolver:PP,persistence:[AP,bP,bI]}),r=DE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=y6(o.toString());DI(t,s,()=>s(t.currentUser)),wI(t,a=>s(a))}}let i=IE("auth");return i&&EI(t,`http://${i}`),t}function v6(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}xq({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Ut("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",v6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});p6("Browser");var rG="firebase",iG="11.9.1";Ve(rG,iG,"app");function AI(n){n===void 0&&(wc(AI),n=M(ke));let e=n.get(oh);return t=>new J(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Ti=new ii("ANGULARFIRE2_VERSION");function Mu(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var ca=(n,e)=>{let t=e?[e]:Lf(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},aa=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(aa||{}),xP=o_()&&typeof Zone<"u"?aa.WARN:aa.SILENT;var hp=class{zone;delegate;constructor(e,t=Em){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},bi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=M(he);this.outsideAngular=t.runOutsideAngular(()=>new hp(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new hp(typeof Zone>"u"?void 0:Zone.current,Kr))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kP=!1;function oG(n,e){!kP&&(xP>aa.SILENT||o_())&&(kP=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),xP>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function sG(n){let e=M(he,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function To(n){let e=M(he,{optional:!0});return e?e.run(()=>n()):n()}var aG=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),tt(t,()=>To(()=>n.apply(void 0,r)))),Ge=(n,e,t)=>(t||=e?aa.WARN:aa.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=M(bi),s=M(oh),a=M(et)}catch{return oG(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=To(()=>s.add())),i[l]=aG(i[l],r,a));let c=sG(()=>n.apply(this,i));return e?c instanceof J?c.pipe(Yr(o.outsideAngular),Qr(o.insideAngular),AI(a)):c instanceof Promise?To(()=>new Promise((l,h)=>{s.run(()=>c).then(p=>tt(a,()=>To(()=>l(p))),p=>tt(a,()=>To(()=>h(p))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:To(()=>c):c instanceof J?c.pipe(Yr(o.outsideAngular),Qr(o.insideAngular)):To(()=>c)});var Or=class{constructor(e){return e}},bo=class{constructor(){return Lf()}};function cG(n){return n&&n.length===1?n[0]:new Or(Eo())}var RI=new V("angularfire2._apps"),uG={provide:Or,useFactory:cG,deps:[[new St,RI]]},lG={provide:bo,deps:[[new St,RI]]};function dG(n){return(e,t)=>{let r=t.get(ai);Ve("angularfire",Ti.full,"core"),Ve("angularfire",Ti.full,"app"),Ve("angular",kA.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Or(i)}}function Qie(n,...e){return Gt([uG,lG,{provide:RI,useFactory:dG(n),multi:!0,deps:[he,ke,bi,...e]}])}var Yie=Ge(VE,!0);var hG=new Map,fG={activated:!1,tokenObservers:[]},pG={initialized:!1,enabled:!1};function Cn(n){return hG.get(n)||Object.assign({},fG)}function VP(){return pG}var gG="https://content-firebaseappcheck.googleapis.com/v1";var mG="exchangeDebugToken",OP={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},ooe=24*60*60*1e3;var PI=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new yo,this.pending.promise.catch(t=>{}),yield yG(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new yo,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function yG(n){return new Promise(e=>{setTimeout(e,n)})}var vG={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Ci=new Dn("appCheck","AppCheck",vG);function jP(n){if(!Cn(n).activated)throw Ci.create("use-before-activation",{appName:n.name})}function UP(r,i){return v(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(m){throw Ci.create("fetch-network-error",{originalErrorMessage:m?.message})}if(c.status!==200)throw Ci.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(m){throw Ci.create("fetch-parse-error",{originalErrorMessage:m?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Ci.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function BP(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${gG}/projects/${t}/apps/${r}:${mG}?key=${i}`,body:{debug_token:e}}}var _G="firebase-app-check-database",EG=1,xI="firebase-app-check-store";var fp=null;function IG(){return fp||(fp=new Promise((n,e)=>{try{let t=indexedDB.open(_G,EG);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ci.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(xI,{keyPath:"compositeKey"})}}}catch(t){e(Ci.create("storage-open",{originalErrorMessage:t?.message}))}}),fp)}function wG(n,e){return DG(TG(n),e)}function DG(n,e){return v(this,null,function*(){let r=(yield IG()).transaction(xI,"readwrite"),o=r.objectStore(xI).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(Ci.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function TG(n){return`${n.options.appId}-${n.name}`}var Pu=new Jn("@firebase/app-check");function NI(n,e){return gu()?wG(n,e).catch(t=>{Pu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function $P(){return VP().enabled}function HP(){return v(this,null,function*(){let n=VP();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var bG={error:"UNKNOWN_ERROR"};function CG(n){return Nf.encodeString(JSON.stringify(n),!1)}function kI(n,e=!1,t=!1){return v(this,null,function*(){let r=n.app;jP(r);let i=Cn(r),o=i.token,s;if(o&&!xu(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(xu(l)?o=l:yield NI(r,void 0))}if(!e&&o&&xu(o))return{token:o.token};let a=!1;if($P())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=UP(BP(r,yield HP()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield NI(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Pu.warn(l.message):t&&Pu.error(l),MI(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Cn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Pu.warn(l.message):t&&Pu.error(l),s=l}let c;return o?s?xu(o)?c={token:o.token,internalError:s}:c=MI(s):(c={token:o.token},i.token=o,yield NI(r,o)):c=MI(s),a&&NG(r,c),c})}function SG(n){return v(this,null,function*(){let e=n.app;jP(e);let{provider:t}=Cn(e);if($P()){let r=yield HP(),{token:i}=yield UP(BP(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function AG(n,e,t,r){let{app:i}=n,o=Cn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&xu(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),FP(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>FP(n))}function zP(n,e){let t=Cn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function FP(n){let{app:e}=n,t=Cn(e),r=t.tokenRefresher;r||(r=RG(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function RG(n){let{app:e}=n;return new PI(()=>v(null,null,function*(){let t=Cn(e),r;if(t.token?r=yield kI(n,!0):r=yield kI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Cn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},OP.RETRIAL_MIN_WAIT,OP.RETRIAL_MAX_WAIT)}function NG(n,e){let t=Cn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function xu(n){return n.expireTimeMillis-Date.now()>0}function MI(n){return{token:CG(bG),error:n}}var OI=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Cn(this.app);for(let t of e)zP(this.app,t.next);return Promise.resolve()}};function MG(n,e){return new OI(n,e)}function PG(n){return{getToken:e=>kI(n,e),getLimitedUseToken:()=>SG(n),addTokenListener:e=>AG(n,"INTERNAL",e),removeTokenListener:e=>zP(n.app,e)}}var xG="@firebase/app-check",kG="0.10.0";var OG="app-check",LP="app-check-internal";function FG(){Tn(new At(OG,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return MG(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(LP).initialize()})),Tn(new At(LP,n=>{let e=n.getProvider("app-check").getImmediate();return PG(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ve(xG,kG)}FG();var LG="app-check";var ua=class{constructor(){return ca(LG)}};var VG=["localhost","0.0.0.0","127.0.0.1"],voe=typeof window<"u"&&VG.includes(window.location.hostname);var qP="auth",Co=class{constructor(e){return e}},ku=class{constructor(){return ca(qP)}};var FI=new V("angularfire2.auth-instances");function jG(n,e){let t=Mu(qP,n,e);return t&&new Co(t)}function UG(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Co(r)}}var BG={provide:ku,deps:[[new St,FI]]},$G={provide:Co,useFactory:jG,deps:[[new St,FI],Or]};function Aoe(n,...e){return Ve("angularfire",Ti.full,"auth"),Gt([$G,BG,{provide:FI,useFactory:UG(n),multi:!0,deps:[he,ke,bi,bo,[new St,ua],...e]}])}var Roe=Ge(Nu,!0);var GP=Ge(TI,!0);var WP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},KP={};var Fr,LI;(function(){var n;function e(T,_){function I(){}I.prototype=_.prototype,T.D=_.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(D,b,S){for(var E=Array(arguments.length-2),ar=2;ar<arguments.length;ar++)E[ar-2]=arguments[ar];return _.prototype[b].apply(D,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,_,I){I||(I=0);var D=Array(16);if(typeof _=="string")for(var b=0;16>b;++b)D[b]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(b=0;16>b;++b)D[b]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=T.g[0],I=T.g[1],b=T.g[2];var S=T.g[3],E=_+(S^I&(b^S))+D[0]+3614090360&4294967295;_=I+(E<<7&4294967295|E>>>25),E=S+(b^_&(I^b))+D[1]+3905402710&4294967295,S=_+(E<<12&4294967295|E>>>20),E=b+(I^S&(_^I))+D[2]+606105819&4294967295,b=S+(E<<17&4294967295|E>>>15),E=I+(_^b&(S^_))+D[3]+3250441966&4294967295,I=b+(E<<22&4294967295|E>>>10),E=_+(S^I&(b^S))+D[4]+4118548399&4294967295,_=I+(E<<7&4294967295|E>>>25),E=S+(b^_&(I^b))+D[5]+1200080426&4294967295,S=_+(E<<12&4294967295|E>>>20),E=b+(I^S&(_^I))+D[6]+2821735955&4294967295,b=S+(E<<17&4294967295|E>>>15),E=I+(_^b&(S^_))+D[7]+4249261313&4294967295,I=b+(E<<22&4294967295|E>>>10),E=_+(S^I&(b^S))+D[8]+1770035416&4294967295,_=I+(E<<7&4294967295|E>>>25),E=S+(b^_&(I^b))+D[9]+2336552879&4294967295,S=_+(E<<12&4294967295|E>>>20),E=b+(I^S&(_^I))+D[10]+4294925233&4294967295,b=S+(E<<17&4294967295|E>>>15),E=I+(_^b&(S^_))+D[11]+2304563134&4294967295,I=b+(E<<22&4294967295|E>>>10),E=_+(S^I&(b^S))+D[12]+1804603682&4294967295,_=I+(E<<7&4294967295|E>>>25),E=S+(b^_&(I^b))+D[13]+4254626195&4294967295,S=_+(E<<12&4294967295|E>>>20),E=b+(I^S&(_^I))+D[14]+2792965006&4294967295,b=S+(E<<17&4294967295|E>>>15),E=I+(_^b&(S^_))+D[15]+1236535329&4294967295,I=b+(E<<22&4294967295|E>>>10),E=_+(b^S&(I^b))+D[1]+4129170786&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^b&(_^I))+D[6]+3225465664&4294967295,S=_+(E<<9&4294967295|E>>>23),E=b+(_^I&(S^_))+D[11]+643717713&4294967295,b=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(b^S))+D[0]+3921069994&4294967295,I=b+(E<<20&4294967295|E>>>12),E=_+(b^S&(I^b))+D[5]+3593408605&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^b&(_^I))+D[10]+38016083&4294967295,S=_+(E<<9&4294967295|E>>>23),E=b+(_^I&(S^_))+D[15]+3634488961&4294967295,b=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(b^S))+D[4]+3889429448&4294967295,I=b+(E<<20&4294967295|E>>>12),E=_+(b^S&(I^b))+D[9]+568446438&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^b&(_^I))+D[14]+3275163606&4294967295,S=_+(E<<9&4294967295|E>>>23),E=b+(_^I&(S^_))+D[3]+4107603335&4294967295,b=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(b^S))+D[8]+1163531501&4294967295,I=b+(E<<20&4294967295|E>>>12),E=_+(b^S&(I^b))+D[13]+2850285829&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^b&(_^I))+D[2]+4243563512&4294967295,S=_+(E<<9&4294967295|E>>>23),E=b+(_^I&(S^_))+D[7]+1735328473&4294967295,b=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(b^S))+D[12]+2368359562&4294967295,I=b+(E<<20&4294967295|E>>>12),E=_+(I^b^S)+D[5]+4294588738&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^b)+D[8]+2272392833&4294967295,S=_+(E<<11&4294967295|E>>>21),E=b+(S^_^I)+D[11]+1839030562&4294967295,b=S+(E<<16&4294967295|E>>>16),E=I+(b^S^_)+D[14]+4259657740&4294967295,I=b+(E<<23&4294967295|E>>>9),E=_+(I^b^S)+D[1]+2763975236&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^b)+D[4]+1272893353&4294967295,S=_+(E<<11&4294967295|E>>>21),E=b+(S^_^I)+D[7]+4139469664&4294967295,b=S+(E<<16&4294967295|E>>>16),E=I+(b^S^_)+D[10]+3200236656&4294967295,I=b+(E<<23&4294967295|E>>>9),E=_+(I^b^S)+D[13]+681279174&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^b)+D[0]+3936430074&4294967295,S=_+(E<<11&4294967295|E>>>21),E=b+(S^_^I)+D[3]+3572445317&4294967295,b=S+(E<<16&4294967295|E>>>16),E=I+(b^S^_)+D[6]+76029189&4294967295,I=b+(E<<23&4294967295|E>>>9),E=_+(I^b^S)+D[9]+3654602809&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^b)+D[12]+3873151461&4294967295,S=_+(E<<11&4294967295|E>>>21),E=b+(S^_^I)+D[15]+530742520&4294967295,b=S+(E<<16&4294967295|E>>>16),E=I+(b^S^_)+D[2]+3299628645&4294967295,I=b+(E<<23&4294967295|E>>>9),E=_+(b^(I|~S))+D[0]+4096336452&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~b))+D[7]+1126891415&4294967295,S=_+(E<<10&4294967295|E>>>22),E=b+(_^(S|~I))+D[14]+2878612391&4294967295,b=S+(E<<15&4294967295|E>>>17),E=I+(S^(b|~_))+D[5]+4237533241&4294967295,I=b+(E<<21&4294967295|E>>>11),E=_+(b^(I|~S))+D[12]+1700485571&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~b))+D[3]+2399980690&4294967295,S=_+(E<<10&4294967295|E>>>22),E=b+(_^(S|~I))+D[10]+4293915773&4294967295,b=S+(E<<15&4294967295|E>>>17),E=I+(S^(b|~_))+D[1]+2240044497&4294967295,I=b+(E<<21&4294967295|E>>>11),E=_+(b^(I|~S))+D[8]+1873313359&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~b))+D[15]+4264355552&4294967295,S=_+(E<<10&4294967295|E>>>22),E=b+(_^(S|~I))+D[6]+2734768916&4294967295,b=S+(E<<15&4294967295|E>>>17),E=I+(S^(b|~_))+D[13]+1309151649&4294967295,I=b+(E<<21&4294967295|E>>>11),E=_+(b^(I|~S))+D[4]+4149444226&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~b))+D[11]+3174756917&4294967295,S=_+(E<<10&4294967295|E>>>22),E=b+(_^(S|~I))+D[2]+718787259&4294967295,b=S+(E<<15&4294967295|E>>>17),E=I+(S^(b|~_))+D[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(b+(E<<21&4294967295|E>>>11))&4294967295,T.g[2]=T.g[2]+b&4294967295,T.g[3]=T.g[3]+S&4294967295}r.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var I=_-this.blockSize,D=this.B,b=this.h,S=0;S<_;){if(b==0)for(;S<=I;)i(this,T,S),S+=this.blockSize;if(typeof T=="string"){for(;S<_;)if(D[b++]=T.charCodeAt(S++),b==this.blockSize){i(this,D),b=0;break}}else for(;S<_;)if(D[b++]=T[S++],b==this.blockSize){i(this,D),b=0;break}}this.h=b,this.o+=_},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var I=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=I&255,I/=256;for(this.u(T),T=Array(16),_=I=0;4>_;++_)for(var D=0;32>D;D+=8)T[I++]=this.g[_]>>>D&255;return T};function o(T,_){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=_(T)}function s(T,_){this.h=_;for(var I=[],D=!0,b=T.length-1;0<=b;b--){var S=T[b]|0;D&&S==_||(I[b]=S,D=!1)}this.g=I}var a={};function c(T){return-128<=T&&128>T?o(T,function(_){return new s([_|0],0>_?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return R(l(-T));for(var _=[],I=1,D=0;T>=I;D++)_[D]=T/I|0,I*=4294967296;return new s(_,0)}function h(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return R(h(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(_,8)),D=p,b=0;b<T.length;b+=8){var S=Math.min(8,T.length-b),E=parseInt(T.substring(b,b+S),_);8>S?(S=l(Math.pow(_,S)),D=D.j(S).add(l(E))):(D=D.j(I),D=D.add(l(E)))}return D}var p=c(0),g=c(1),m=c(16777216);n=s.prototype,n.m=function(){if(A(this))return-R(this).m();for(var T=0,_=1,I=0;I<this.g.length;I++){var D=this.i(I);T+=(0<=D?D:4294967296+D)*_,_*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(w(this))return"0";if(A(this))return"-"+R(this).toString(T);for(var _=l(Math.pow(T,6)),I=this,D="";;){var b=ge(I,_).g;I=k(I,b.j(_));var S=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=b,w(I))return S+D;for(;6>S.length;)S="0"+S;D=S+D}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function w(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function A(T){return T.h==-1}n.l=function(T){return T=k(this,T),A(T)?-1:w(T)?0:1};function R(T){for(var _=T.g.length,I=[],D=0;D<_;D++)I[D]=~T.g[D];return new s(I,~T.h).add(g)}n.abs=function(){return A(this)?R(this):this},n.add=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],D=0,b=0;b<=_;b++){var S=D+(this.i(b)&65535)+(T.i(b)&65535),E=(S>>>16)+(this.i(b)>>>16)+(T.i(b)>>>16);D=E>>>16,S&=65535,E&=65535,I[b]=E<<16|S}return new s(I,I[I.length-1]&-2147483648?-1:0)};function k(T,_){return T.add(R(_))}n.j=function(T){if(w(this)||w(T))return p;if(A(this))return A(T)?R(this).j(R(T)):R(R(this).j(T));if(A(T))return R(this.j(R(T)));if(0>this.l(m)&&0>T.l(m))return l(this.m()*T.m());for(var _=this.g.length+T.g.length,I=[],D=0;D<2*_;D++)I[D]=0;for(D=0;D<this.g.length;D++)for(var b=0;b<T.g.length;b++){var S=this.i(D)>>>16,E=this.i(D)&65535,ar=T.i(b)>>>16,ka=T.i(b)&65535;I[2*D+2*b]+=E*ka,H(I,2*D+2*b),I[2*D+2*b+1]+=S*ka,H(I,2*D+2*b+1),I[2*D+2*b+1]+=E*ar,H(I,2*D+2*b+1),I[2*D+2*b+2]+=S*ar,H(I,2*D+2*b+2)}for(D=0;D<_;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=_;D<2*_;D++)I[D]=0;return new s(I,0)};function H(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function q(T,_){this.g=T,this.h=_}function ge(T,_){if(w(_))throw Error("division by zero");if(w(T))return new q(p,p);if(A(T))return _=ge(R(T),_),new q(R(_.g),R(_.h));if(A(_))return _=ge(T,R(_)),new q(R(_.g),_.h);if(30<T.g.length){if(A(T)||A(_))throw Error("slowDivide_ only works with positive integers.");for(var I=g,D=_;0>=D.l(T);)I=$e(I),D=$e(D);var b=ve(I,1),S=ve(D,1);for(D=ve(D,2),I=ve(I,2);!w(D);){var E=S.add(D);0>=E.l(T)&&(b=b.add(I),S=E),D=ve(D,1),I=ve(I,1)}return _=k(T,b.j(_)),new q(b,_)}for(b=p;0<=T.l(_);){for(I=Math.max(1,Math.floor(T.m()/_.m())),D=Math.ceil(Math.log(I)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),S=l(I),E=S.j(_);A(E)||0<E.l(T);)I-=D,S=l(I),E=S.j(_);w(S)&&(S=g),b=b.add(S),T=k(T,E)}return new q(b,T)}n.A=function(T){return ge(this,T).h},n.and=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],D=0;D<_;D++)I[D]=this.i(D)&T.i(D);return new s(I,this.h&T.h)},n.or=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],D=0;D<_;D++)I[D]=this.i(D)|T.i(D);return new s(I,this.h|T.h)},n.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],D=0;D<_;D++)I[D]=this.i(D)^T.i(D);return new s(I,this.h^T.h)};function $e(T){for(var _=T.g.length+1,I=[],D=0;D<_;D++)I[D]=T.i(D)<<1|T.i(D-1)>>>31;return new s(I,T.h)}function ve(T,_){var I=_>>5;_%=32;for(var D=T.g.length-I,b=[],S=0;S<D;S++)b[S]=0<_?T.i(S+I)>>>_|T.i(S+I+1)<<32-_:T.i(S+I);return new s(b,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,LI=KP.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Fr=KP.Integer=s}).apply(typeof WP<"u"?WP:typeof self<"u"?self:typeof window<"u"?window:{});var pp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Lr={};var VI,HG,la,jI,Ou,gp,UI,BI,$I;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,d,f){return u==Array.prototype||u==Object.prototype||(u[d]=f.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof pp=="object"&&pp];for(var d=0;d<u.length;++d){var f=u[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(u,d){if(d)e:{var f=r;u=u.split(".");for(var y=0;y<u.length-1;y++){var C=u[y];if(!(C in f))break e;f=f[C]}u=u[u.length-1],y=f[u],d=d(y),d!=y&&d!=null&&e(f,u,{configurable:!0,writable:!0,value:d})}}function o(u,d){u instanceof String&&(u+="");var f=0,y=!1,C={next:function(){if(!y&&f<u.length){var N=f++;return{value:d(N,u[N]),done:!1}}return y=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(u){return u||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function c(u){var d=typeof u;return d=d!="object"?d:u?Array.isArray(u)?"array":d:"null",d=="array"||d=="object"&&typeof u.length=="number"}function l(u){var d=typeof u;return d=="object"&&u!=null||d=="function"}function h(u,d,f){return u.call.apply(u.bind,arguments)}function p(u,d,f){if(!u)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,y),u.apply(d,C)}}return function(){return u.apply(d,arguments)}}function g(u,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function m(u,d){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),u.apply(this,y)}}function w(u,d){function f(){}f.prototype=d.prototype,u.aa=d.prototype,u.prototype=new f,u.prototype.constructor=u,u.Qb=function(y,C,N){for(var F=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)F[Te-2]=arguments[Te];return d.prototype[C].apply(y,F)}}function A(u){let d=u.length;if(0<d){let f=Array(d);for(let y=0;y<d;y++)f[y]=u[y];return f}return[]}function R(u,d){for(let f=1;f<arguments.length;f++){let y=arguments[f];if(c(y)){let C=u.length||0,N=y.length||0;u.length=C+N;for(let F=0;F<N;F++)u[C+F]=y[F]}else u.push(y)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function H(u){return/^[\s\xa0]*$/.test(u)}function q(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function ge(u){return ge[" "](u),u}ge[" "]=function(){};var $e=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function ve(u,d,f){for(let y in u)d.call(f,u[y],y,u)}function T(u,d){for(let f in u)d.call(void 0,u[f],f,u)}function _(u){let d={};for(let f in u)d[f]=u[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,d){let f,y;for(let C=1;C<arguments.length;C++){y=arguments[C];for(f in y)u[f]=y[f];for(let N=0;N<I.length;N++)f=I[N],Object.prototype.hasOwnProperty.call(y,f)&&(u[f]=y[f])}}function b(u){var d=1;u=u.split(":");let f=[];for(;0<d&&u.length;)f.push(u.shift()),d--;return u.length&&f.push(u.join(":")),f}function S(u){a.setTimeout(()=>{throw u},0)}function E(){var u=bg;let d=null;return u.g&&(d=u.g,u.g=u.g.next,u.g||(u.h=null),d.next=null),d}class ar{constructor(){this.h=this.g=null}add(d,f){let y=ka.get();y.set(d,f),this.h?this.h.next=y:this.g=y,this.h=y}}var ka=new k(()=>new xO,u=>u.reset());class xO{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Oa,Fa=!1,bg=new ar,aT=()=>{let u=a.Promise.resolve(void 0);Oa=()=>{u.then(kO)}};var kO=()=>{for(var u;u=E();){try{u.h.call(u.g)}catch(f){S(f)}var d=ka;d.j(u),100>d.h&&(d.h++,u.next=d.g,d.g=u)}Fa=!1};function Hr(){this.s=this.s,this.C=this.C}Hr.prototype.s=!1,Hr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Hr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(u,d){this.type=u,this.g=this.target=d,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var OO=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,d=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return u}();function La(u,d){if(ut.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var f=this.type=u.type,y=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=d,d=u.relatedTarget){if($e){e:{try{ge(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=u.fromElement:f=="mouseout"&&(d=u.toElement);this.relatedTarget=d,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:FO[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&La.aa.h.call(this)}}w(La,ut);var FO={2:"touch",3:"pen",4:"mouse"};La.prototype.h=function(){La.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Va="closure_listenable_"+(1e6*Math.random()|0),LO=0;function VO(u,d,f,y,C){this.listener=u,this.proxy=null,this.src=d,this.type=f,this.capture=!!y,this.ha=C,this.key=++LO,this.da=this.fa=!1}function cl(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ul(u){this.src=u,this.g={},this.h=0}ul.prototype.add=function(u,d,f,y,C){var N=u.toString();u=this.g[N],u||(u=this.g[N]=[],this.h++);var F=Sg(u,d,y,C);return-1<F?(d=u[F],f||(d.fa=!1)):(d=new VO(d,this.src,N,!!y,C),d.fa=f,u.push(d)),d};function Cg(u,d){var f=d.type;if(f in u.g){var y=u.g[f],C=Array.prototype.indexOf.call(y,d,void 0),N;(N=0<=C)&&Array.prototype.splice.call(y,C,1),N&&(cl(d),u.g[f].length==0&&(delete u.g[f],u.h--))}}function Sg(u,d,f,y){for(var C=0;C<u.length;++C){var N=u[C];if(!N.da&&N.listener==d&&N.capture==!!f&&N.ha==y)return C}return-1}var Ag="closure_lm_"+(1e6*Math.random()|0),Rg={};function cT(u,d,f,y,C){if(y&&y.once)return lT(u,d,f,y,C);if(Array.isArray(d)){for(var N=0;N<d.length;N++)cT(u,d[N],f,y,C);return null}return f=xg(f),u&&u[Va]?u.K(d,f,l(y)?!!y.capture:!!y,C):uT(u,d,f,!1,y,C)}function uT(u,d,f,y,C,N){if(!d)throw Error("Invalid event type");var F=l(C)?!!C.capture:!!C,Te=Mg(u);if(Te||(u[Ag]=Te=new ul(u)),f=Te.add(d,f,y,F,N),f.proxy)return f;if(y=jO(),f.proxy=y,y.src=u,y.listener=f,u.addEventListener)OO||(C=F),C===void 0&&(C=!1),u.addEventListener(d.toString(),y,C);else if(u.attachEvent)u.attachEvent(hT(d.toString()),y);else if(u.addListener&&u.removeListener)u.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function jO(){function u(f){return d.call(u.src,u.listener,f)}let d=UO;return u}function lT(u,d,f,y,C){if(Array.isArray(d)){for(var N=0;N<d.length;N++)lT(u,d[N],f,y,C);return null}return f=xg(f),u&&u[Va]?u.L(d,f,l(y)?!!y.capture:!!y,C):uT(u,d,f,!0,y,C)}function dT(u,d,f,y,C){if(Array.isArray(d))for(var N=0;N<d.length;N++)dT(u,d[N],f,y,C);else y=l(y)?!!y.capture:!!y,f=xg(f),u&&u[Va]?(u=u.i,d=String(d).toString(),d in u.g&&(N=u.g[d],f=Sg(N,f,y,C),-1<f&&(cl(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete u.g[d],u.h--)))):u&&(u=Mg(u))&&(d=u.g[d.toString()],u=-1,d&&(u=Sg(d,f,y,C)),(f=-1<u?d[u]:null)&&Ng(f))}function Ng(u){if(typeof u!="number"&&u&&!u.da){var d=u.src;if(d&&d[Va])Cg(d.i,u);else{var f=u.type,y=u.proxy;d.removeEventListener?d.removeEventListener(f,y,u.capture):d.detachEvent?d.detachEvent(hT(f),y):d.addListener&&d.removeListener&&d.removeListener(y),(f=Mg(d))?(Cg(f,u),f.h==0&&(f.src=null,d[Ag]=null)):cl(u)}}}function hT(u){return u in Rg?Rg[u]:Rg[u]="on"+u}function UO(u,d){if(u.da)u=!0;else{d=new La(d,this);var f=u.listener,y=u.ha||u.src;u.fa&&Ng(u),u=f.call(y,d)}return u}function Mg(u){return u=u[Ag],u instanceof ul?u:null}var Pg="__closure_events_fn_"+(1e9*Math.random()>>>0);function xg(u){return typeof u=="function"?u:(u[Pg]||(u[Pg]=function(d){return u.handleEvent(d)}),u[Pg])}function lt(){Hr.call(this),this.i=new ul(this),this.M=this,this.F=null}w(lt,Hr),lt.prototype[Va]=!0,lt.prototype.removeEventListener=function(u,d,f,y){dT(this,u,d,f,y)};function Dt(u,d){var f,y=u.F;if(y)for(f=[];y;y=y.F)f.push(y);if(u=u.M,y=d.type||d,typeof d=="string")d=new ut(d,u);else if(d instanceof ut)d.target=d.target||u;else{var C=d;d=new ut(y,u),D(d,C)}if(C=!0,f)for(var N=f.length-1;0<=N;N--){var F=d.g=f[N];C=ll(F,y,!0,d)&&C}if(F=d.g=u,C=ll(F,y,!0,d)&&C,C=ll(F,y,!1,d)&&C,f)for(N=0;N<f.length;N++)F=d.g=f[N],C=ll(F,y,!1,d)&&C}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var u=this.i,d;for(d in u.g){for(var f=u.g[d],y=0;y<f.length;y++)cl(f[y]);delete u.g[d],u.h--}}this.F=null},lt.prototype.K=function(u,d,f,y){return this.i.add(String(u),d,!1,f,y)},lt.prototype.L=function(u,d,f,y){return this.i.add(String(u),d,!0,f,y)};function ll(u,d,f,y){if(d=u.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,N=0;N<d.length;++N){var F=d[N];if(F&&!F.da&&F.capture==f){var Te=F.listener,ot=F.ha||F.src;F.fa&&Cg(u.i,F),C=Te.call(ot,y)!==!1&&C}}return C&&!y.defaultPrevented}function fT(u,d,f){if(typeof u=="function")f&&(u=g(u,f));else if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(u,d||0)}function pT(u){u.g=fT(()=>{u.g=null,u.i&&(u.i=!1,pT(u))},u.l);let d=u.h;u.h=null,u.m.apply(null,d)}class BO extends Hr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:pT(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ja(u){Hr.call(this),this.h=u,this.g={}}w(ja,Hr);var gT=[];function mT(u){ve(u.g,function(d,f){this.g.hasOwnProperty(f)&&Ng(d)},u),u.g={}}ja.prototype.N=function(){ja.aa.N.call(this),mT(this)},ja.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kg=a.JSON.stringify,$O=a.JSON.parse,HO=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Og(){}Og.prototype.h=null;function yT(u){return u.h||(u.h=u.i())}function vT(){}var Ua={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fg(){ut.call(this,"d")}w(Fg,ut);function Lg(){ut.call(this,"c")}w(Lg,ut);var Pi={},_T=null;function dl(){return _T=_T||new lt}Pi.La="serverreachability";function ET(u){ut.call(this,Pi.La,u)}w(ET,ut);function Ba(u){let d=dl();Dt(d,new ET(d))}Pi.STAT_EVENT="statevent";function IT(u,d){ut.call(this,Pi.STAT_EVENT,u),this.stat=d}w(IT,ut);function Tt(u){let d=dl();Dt(d,new IT(d,u))}Pi.Ma="timingevent";function wT(u,d){ut.call(this,Pi.Ma,u),this.size=d}w(wT,ut);function $a(u,d){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},d)}function Ha(){this.g=!0}Ha.prototype.xa=function(){this.g=!1};function zO(u,d,f,y,C,N){u.info(function(){if(u.g)if(N)for(var F="",Te=N.split("&"),ot=0;ot<Te.length;ot++){var ye=Te[ot].split("=");if(1<ye.length){var dt=ye[0];ye=ye[1];var ht=dt.split("_");F=2<=ht.length&&ht[1]=="type"?F+(dt+"="+ye+"&"):F+(dt+"=redacted&")}}else F=null;else F=N;return"XMLHTTP REQ ("+y+") [attempt "+C+"]: "+d+`
`+f+`
`+F})}function qO(u,d,f,y,C,N,F){u.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+C+"]: "+d+`
`+f+`
`+N+" "+F})}function zo(u,d,f,y){u.info(function(){return"XMLHTTP TEXT ("+d+"): "+WO(u,f)+(y?" "+y:"")})}function GO(u,d){u.info(function(){return"TIMEOUT: "+d})}Ha.prototype.info=function(){};function WO(u,d){if(!u.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(u=0;u<f.length;u++)if(Array.isArray(f[u])){var y=f[u];if(!(2>y.length)){var C=y[1];if(Array.isArray(C)&&!(1>C.length)){var N=C[0];if(N!="noop"&&N!="stop"&&N!="close")for(var F=1;F<C.length;F++)C[F]=""}}}}return kg(f)}catch{return d}}var hl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},DT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vg;function fl(){}w(fl,Og),fl.prototype.g=function(){return new XMLHttpRequest},fl.prototype.i=function(){return{}},Vg=new fl;function zr(u,d,f,y){this.j=u,this.i=d,this.l=f,this.R=y||1,this.U=new ja(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new TT}function TT(){this.i=null,this.g="",this.h=!1}var bT={},jg={};function Ug(u,d,f){u.L=1,u.v=yl(cr(d)),u.m=f,u.P=!0,CT(u,null)}function CT(u,d){u.F=Date.now(),pl(u),u.A=cr(u.v);var f=u.A,y=u.R;Array.isArray(y)||(y=[String(y)]),UT(f.i,"t",y),u.C=0,f=u.j.J,u.h=new TT,u.g=ib(u.j,f?d:null,!u.m),0<u.O&&(u.M=new BO(g(u.Y,u,u.g),u.O)),d=u.U,f=u.g,y=u.ca;var C="readystatechange";Array.isArray(C)||(C&&(gT[0]=C.toString()),C=gT);for(var N=0;N<C.length;N++){var F=cT(f,C[N],y||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=u.H?_(u.H):{},u.m?(u.u||(u.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,d)):(u.u="GET",u.g.ea(u.A,u.u,null,d)),Ba(),zO(u.i,u.u,u.A,u.l,u.R,u.m)}zr.prototype.ca=function(u){u=u.target;let d=this.M;d&&ur(u)==3?d.j():this.Y(u)},zr.prototype.Y=function(u){try{if(u==this.g)e:{let ht=ur(this.g);var d=this.g.Ba();let Wo=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||WT(this.g)))){this.J||ht!=4||d==7||(d==8||0>=Wo?Ba(3):Ba(2)),Bg(this);var f=this.g.Z();this.X=f;t:if(ST(this)){var y=WT(this.g);u="";var C=y.length,N=ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xi(this),za(this);var F="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,u+=this.h.i.decode(y[d],{stream:!(N&&d==C-1)});y.length=0,this.h.g+=u,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,qO(this.i,this.u,this.A,this.l,this.R,ht,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Te,ot=this.g;if((Te=ot.g?ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Te)){var ye=Te;break t}}ye=null}if(f=ye)zo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$g(this,f);else{this.o=!1,this.s=3,Tt(12),xi(this),za(this);break e}}if(this.P){f=!0;let dn;for(;!this.J&&this.C<F.length;)if(dn=KO(this,F),dn==jg){ht==4&&(this.s=4,Tt(14),f=!1),zo(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==bT){this.s=4,Tt(15),zo(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else zo(this.i,this.l,dn,null),$g(this,dn);if(ST(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||F.length!=0||this.h.h||(this.s=1,Tt(16),f=!1),this.o=this.o&&f,!f)zo(this.i,this.l,F,"[Invalid Chunked Response]"),xi(this),za(this);else if(0<F.length&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.ba&&!dt.M&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),Kg(dt),dt.M=!0,Tt(11))}}else zo(this.i,this.l,F,null),$g(this,F);ht==4&&xi(this),this.o&&!this.J&&(ht==4?eb(this.j,this):(this.o=!1,pl(this)))}else d1(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),xi(this),za(this)}}}catch{}finally{}};function ST(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function KO(u,d){var f=u.C,y=d.indexOf(`
`,f);return y==-1?jg:(f=Number(d.substring(f,y)),isNaN(f)?bT:(y+=1,y+f>d.length?jg:(d=d.slice(y,y+f),u.C=y+f,d)))}zr.prototype.cancel=function(){this.J=!0,xi(this)};function pl(u){u.S=Date.now()+u.I,AT(u,u.I)}function AT(u,d){if(u.B!=null)throw Error("WatchDog timer not null");u.B=$a(g(u.ba,u),d)}function Bg(u){u.B&&(a.clearTimeout(u.B),u.B=null)}zr.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(GO(this.i,this.A),this.L!=2&&(Ba(),Tt(17)),xi(this),this.s=2,za(this)):AT(this,this.S-u)};function za(u){u.j.G==0||u.J||eb(u.j,u)}function xi(u){Bg(u);var d=u.M;d&&typeof d.ma=="function"&&d.ma(),u.M=null,mT(u.U),u.g&&(d=u.g,u.g=null,d.abort(),d.ma())}function $g(u,d){try{var f=u.j;if(f.G!=0&&(f.g==u||Hg(f.h,u))){if(!u.K&&Hg(f.h,u)&&f.G==3){try{var y=f.Da.g.parse(d)}catch{y=null}if(Array.isArray(y)&&y.length==3){var C=y;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<u.F)wl(f),El(f);else break e;Wg(f),Tt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=$a(g(f.Za,f),6e3));if(1>=MT(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Oi(f,11)}else if((u.K||f.g==u)&&wl(f),!H(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let ye=C[d];if(f.T=ye[0],ye=ye[1],f.G==2)if(ye[0]=="c"){f.K=ye[1],f.ia=ye[2];let dt=ye[3];dt!=null&&(f.la=dt,f.j.info("VER="+f.la));let ht=ye[4];ht!=null&&(f.Aa=ht,f.j.info("SVER="+f.Aa));let Wo=ye[5];Wo!=null&&typeof Wo=="number"&&0<Wo&&(y=1.5*Wo,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;let dn=u.g;if(dn){let Tl=dn.g?dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tl){var N=y.h;N.g||Tl.indexOf("spdy")==-1&&Tl.indexOf("quic")==-1&&Tl.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(zg(N,N.h),N.h=null))}if(y.D){let Qg=dn.g?dn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qg&&(y.ya=Qg,Se(y.I,y.D,Qg))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-u.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var F=u;if(y.qa=rb(y,y.J?y.ia:null,y.W),F.K){PT(y.h,F);var Te=F,ot=y.L;ot&&(Te.I=ot),Te.B&&(Bg(Te),pl(Te)),y.g=F}else JT(y);0<f.i.length&&Il(f)}else ye[0]!="stop"&&ye[0]!="close"||Oi(f,7);else f.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Oi(f,7):Gg(f):ye[0]!="noop"&&f.l&&f.l.ta(ye),f.v=0)}}Ba(4)}catch{}}var QO=class{constructor(u,d){this.g=u,this.map=d}};function RT(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function NT(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function MT(u){return u.h?1:u.g?u.g.size:0}function Hg(u,d){return u.h?u.h==d:u.g?u.g.has(d):!1}function zg(u,d){u.g?u.g.add(d):u.h=d}function PT(u,d){u.h&&u.h==d?u.h=null:u.g&&u.g.has(d)&&u.g.delete(d)}RT.prototype.cancel=function(){if(this.i=xT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function xT(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let d=u.i;for(let f of u.g.values())d=d.concat(f.D);return d}return A(u.i)}function YO(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var d=[],f=u.length,y=0;y<f;y++)d.push(u[y]);return d}d=[],f=0;for(y in u)d[f++]=u[y];return d}function ZO(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var d=[];u=u.length;for(var f=0;f<u;f++)d.push(f);return d}d=[],f=0;for(let y in u)d[f++]=y;return d}}}function kT(u,d){if(u.forEach&&typeof u.forEach=="function")u.forEach(d,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,d,void 0);else for(var f=ZO(u),y=YO(u),C=y.length,N=0;N<C;N++)d.call(void 0,y[N],f&&f[N],u)}var OT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function JO(u,d){if(u){u=u.split("&");for(var f=0;f<u.length;f++){var y=u[f].indexOf("="),C=null;if(0<=y){var N=u[f].substring(0,y);C=u[f].substring(y+1)}else N=u[f];d(N,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function ki(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ki){this.h=u.h,gl(this,u.j),this.o=u.o,this.g=u.g,ml(this,u.s),this.l=u.l;var d=u.i,f=new Wa;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),FT(this,f),this.m=u.m}else u&&(d=String(u).match(OT))?(this.h=!1,gl(this,d[1]||"",!0),this.o=qa(d[2]||""),this.g=qa(d[3]||"",!0),ml(this,d[4]),this.l=qa(d[5]||"",!0),FT(this,d[6]||"",!0),this.m=qa(d[7]||"")):(this.h=!1,this.i=new Wa(null,this.h))}ki.prototype.toString=function(){var u=[],d=this.j;d&&u.push(Ga(d,LT,!0),":");var f=this.g;return(f||d=="file")&&(u.push("//"),(d=this.o)&&u.push(Ga(d,LT,!0),"@"),u.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&u.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&u.push("/"),u.push(Ga(f,f.charAt(0)=="/"?t1:e1,!0))),(f=this.i.toString())&&u.push("?",f),(f=this.m)&&u.push("#",Ga(f,r1)),u.join("")};function cr(u){return new ki(u)}function gl(u,d,f){u.j=f?qa(d,!0):d,u.j&&(u.j=u.j.replace(/:$/,""))}function ml(u,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);u.s=d}else u.s=null}function FT(u,d,f){d instanceof Wa?(u.i=d,i1(u.i,u.h)):(f||(d=Ga(d,n1)),u.i=new Wa(d,u.h))}function Se(u,d,f){u.i.set(d,f)}function yl(u){return Se(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function qa(u,d){return u?d?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ga(u,d,f){return typeof u=="string"?(u=encodeURI(u).replace(d,XO),f&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function XO(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var LT=/[#\/\?@]/g,e1=/[#\?:]/g,t1=/[#\?]/g,n1=/[#\?@]/g,r1=/#/g;function Wa(u,d){this.h=this.g=null,this.i=u||null,this.j=!!d}function qr(u){u.g||(u.g=new Map,u.h=0,u.i&&JO(u.i,function(d,f){u.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Wa.prototype,n.add=function(u,d){qr(this),this.i=null,u=qo(this,u);var f=this.g.get(u);return f||this.g.set(u,f=[]),f.push(d),this.h+=1,this};function VT(u,d){qr(u),d=qo(u,d),u.g.has(d)&&(u.i=null,u.h-=u.g.get(d).length,u.g.delete(d))}function jT(u,d){return qr(u),d=qo(u,d),u.g.has(d)}n.forEach=function(u,d){qr(this),this.g.forEach(function(f,y){f.forEach(function(C){u.call(d,C,y,this)},this)},this)},n.na=function(){qr(this);let u=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let y=0;y<d.length;y++){let C=u[y];for(let N=0;N<C.length;N++)f.push(d[y])}return f},n.V=function(u){qr(this);let d=[];if(typeof u=="string")jT(this,u)&&(d=d.concat(this.g.get(qo(this,u))));else{u=Array.from(this.g.values());for(let f=0;f<u.length;f++)d=d.concat(u[f])}return d},n.set=function(u,d){return qr(this),this.i=null,u=qo(this,u),jT(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[d]),this.h+=1,this},n.get=function(u,d){return u?(u=this.V(u),0<u.length?String(u[0]):d):d};function UT(u,d,f){VT(u,d),0<f.length&&(u.i=null,u.g.set(qo(u,d),A(f)),u.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var y=d[f];let N=encodeURIComponent(String(y)),F=this.V(y);for(y=0;y<F.length;y++){var C=N;F[y]!==""&&(C+="="+encodeURIComponent(String(F[y]))),u.push(C)}}return this.i=u.join("&")};function qo(u,d){return d=String(d),u.j&&(d=d.toLowerCase()),d}function i1(u,d){d&&!u.j&&(qr(u),u.i=null,u.g.forEach(function(f,y){var C=y.toLowerCase();y!=C&&(VT(this,y),UT(this,C,f))},u)),u.j=d}function o1(u,d){let f=new Ha;if(a.Image){let y=new Image;y.onload=m(Gr,f,"TestLoadImage: loaded",!0,d,y),y.onerror=m(Gr,f,"TestLoadImage: error",!1,d,y),y.onabort=m(Gr,f,"TestLoadImage: abort",!1,d,y),y.ontimeout=m(Gr,f,"TestLoadImage: timeout",!1,d,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=u}else d(!1)}function s1(u,d){let f=new Ha,y=new AbortController,C=setTimeout(()=>{y.abort(),Gr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(u,{signal:y.signal}).then(N=>{clearTimeout(C),N.ok?Gr(f,"TestPingServer: ok",!0,d):Gr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Gr(f,"TestPingServer: error",!1,d)})}function Gr(u,d,f,y,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),y(f)}catch{}}function a1(){this.g=new HO}function c1(u,d,f){let y=f||"";try{kT(u,function(C,N){let F=C;l(C)&&(F=kg(C)),d.push(y+N+"="+encodeURIComponent(F))})}catch(C){throw d.push(y+"type="+encodeURIComponent("_badmap")),C}}function Ka(u){this.l=u.Ub||null,this.j=u.eb||!1}w(Ka,Og),Ka.prototype.g=function(){return new vl(this.l,this.j)},Ka.prototype.i=function(u){return function(){return u}}({});function vl(u,d){lt.call(this),this.D=u,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(vl,lt),n=vl.prototype,n.open=function(u,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=d,this.readyState=1,Ya(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(d.body=u),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qa(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ya(this)),this.g&&(this.readyState=3,Ya(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;BT(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function BT(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var d=u.value?u.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!u.done}))&&(this.response=this.responseText+=d)}u.done?Qa(this):Ya(this),this.readyState==3&&BT(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Qa(this))},n.Qa=function(u){this.g&&(this.response=u,Qa(this))},n.ga=function(){this.g&&Qa(this)};function Qa(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ya(u)}n.setRequestHeader=function(u,d){this.u.append(u,d)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,u.push(f[0]+": "+f[1]),f=d.next();return u.join(`\r
`)};function Ya(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function $T(u){let d="";return ve(u,function(f,y){d+=y,d+=":",d+=f,d+=`\r
`}),d}function qg(u,d,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=$T(f),typeof u=="string"?f!=null&&encodeURIComponent(String(f)):Se(u,d,f))}function Fe(u){lt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Fe,lt);var u1=/^https?$/i,l1=["POST","PUT"];n=Fe.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,d,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);d=d?d.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vg.g(),this.v=this.o?yT(this.o):yT(Vg),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(u),!0),this.B=!1}catch(N){HT(this,N);return}if(u=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var C in y)f.set(C,y[C]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let N of y.keys())f.set(N,y.get(N));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),C=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(l1,d,void 0))||y||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,F]of f)this.g.setRequestHeader(N,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{GT(this),this.u=!0,this.g.send(u),this.u=!1}catch(N){HT(this,N)}};function HT(u,d){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=d,u.m=5,zT(u),_l(u)}function zT(u){u.A||(u.A=!0,Dt(u,"complete"),Dt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Dt(this,"complete"),Dt(this,"abort"),_l(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_l(this,!0)),Fe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?qT(this):this.bb())},n.bb=function(){qT(this)};function qT(u){if(u.h&&typeof s<"u"&&(!u.v[1]||ur(u)!=4||u.Z()!=2)){if(u.u&&ur(u)==4)fT(u.Ea,0,u);else if(Dt(u,"readystatechange"),ur(u)==4){u.h=!1;try{let F=u.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var y;if(y=F===0){var C=String(u.D).match(OT)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),y=!u1.test(C?C.toLowerCase():"")}f=y}if(f)Dt(u,"complete"),Dt(u,"success");else{u.m=6;try{var N=2<ur(u)?u.g.statusText:""}catch{N=""}u.l=N+" ["+u.Z()+"]",zT(u)}}finally{_l(u)}}}}function _l(u,d){if(u.g){GT(u);let f=u.g,y=u.v[0]?()=>{}:null;u.g=null,u.v=null,d||Dt(u,"ready");try{f.onreadystatechange=y}catch{}}}function GT(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function ur(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<ur(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var d=this.g.responseText;return u&&d.indexOf(u)==0&&(d=d.substring(u.length)),$O(d)}};function WT(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function d1(u){let d={};u=(u.g&&2<=ur(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<u.length;y++){if(H(u[y]))continue;var f=b(u[y]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=d[C]||[];d[C]=N,N.push(f)}T(d,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Za(u,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[u]||d}function KT(u){this.Aa=0,this.i=[],this.j=new Ha,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Za("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Za("baseRetryDelayMs",5e3,u),this.cb=Za("retryDelaySeedMs",1e4,u),this.Wa=Za("forwardChannelMaxRetries",2,u),this.wa=Za("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new RT(u&&u.concurrentRequestLimit),this.Da=new a1,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=KT.prototype,n.la=8,n.G=1,n.connect=function(u,d,f,y){Tt(0),this.W=u,this.H=d||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=rb(this,null,this.W),Il(this)};function Gg(u){if(QT(u),u.G==3){var d=u.U++,f=cr(u.I);if(Se(f,"SID",u.K),Se(f,"RID",d),Se(f,"TYPE","terminate"),Ja(u,f),d=new zr(u,u.j,d),d.L=2,d.v=yl(cr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=ib(d.j,null),d.g.ea(d.v)),d.F=Date.now(),pl(d)}nb(u)}function El(u){u.g&&(Kg(u),u.g.cancel(),u.g=null)}function QT(u){El(u),u.u&&(a.clearTimeout(u.u),u.u=null),wl(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Il(u){if(!NT(u.h)&&!u.s){u.s=!0;var d=u.Ga;Oa||aT(),Fa||(Oa(),Fa=!0),bg.add(d,u),u.B=0}}function h1(u,d){return MT(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=d.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=$a(g(u.Ga,u,d),tb(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let C=new zr(this,this.j,u),N=this.o;if(this.S&&(N?(N=_(N),D(N,this.S)):N=this.S),this.m!==null||this.O||(C.H=N,N=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(d+=y,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=ZT(this,C,d),f=cr(this.I),Se(f,"RID",u),Se(f,"CVER",22),this.D&&Se(f,"X-HTTP-Session-Id",this.D),Ja(this,f),N&&(this.O?d="headers="+encodeURIComponent(String($T(N)))+"&"+d:this.m&&qg(f,this.m,N)),zg(this.h,C),this.Ua&&Se(f,"TYPE","init"),this.P?(Se(f,"$req",d),Se(f,"SID","null"),C.T=!0,Ug(C,f,null)):Ug(C,f,d),this.G=2}}else this.G==3&&(u?YT(this,u):this.i.length==0||NT(this.h)||YT(this))};function YT(u,d){var f;d?f=d.l:f=u.U++;let y=cr(u.I);Se(y,"SID",u.K),Se(y,"RID",f),Se(y,"AID",u.T),Ja(u,y),u.m&&u.o&&qg(y,u.m,u.o),f=new zr(u,u.j,f,u.B+1),u.m===null&&(f.H=u.o),d&&(u.i=d.D.concat(u.i)),d=ZT(u,f,1e3),f.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),zg(u.h,f),Ug(f,y,d)}function Ja(u,d){u.H&&ve(u.H,function(f,y){Se(d,y,f)}),u.l&&kT({},function(f,y){Se(d,y,f)})}function ZT(u,d,f){f=Math.min(u.i.length,f);var y=u.l?g(u.l.Na,u.l,u):null;e:{var C=u.i;let N=-1;for(;;){let F=["count="+f];N==-1?0<f?(N=C[0].g,F.push("ofs="+N)):N=0:F.push("ofs="+N);let Te=!0;for(let ot=0;ot<f;ot++){let ye=C[ot].g,dt=C[ot].map;if(ye-=N,0>ye)N=Math.max(0,C[ot].g-100),Te=!1;else try{c1(dt,F,"req"+ye+"_")}catch{y&&y(dt)}}if(Te){y=F.join("&");break e}}}return u=u.i.splice(0,f),d.D=u,y}function JT(u){if(!u.g&&!u.u){u.Y=1;var d=u.Fa;Oa||aT(),Fa||(Oa(),Fa=!0),bg.add(d,u),u.v=0}}function Wg(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=$a(g(u.Fa,u),tb(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,XT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=$a(g(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),El(this),XT(this))};function Kg(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function XT(u){u.g=new zr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var d=cr(u.qa);Se(d,"RID","rpc"),Se(d,"SID",u.K),Se(d,"AID",u.T),Se(d,"CI",u.F?"0":"1"),!u.F&&u.ja&&Se(d,"TO",u.ja),Se(d,"TYPE","xmlhttp"),Ja(u,d),u.m&&u.o&&qg(d,u.m,u.o),u.L&&(u.g.I=u.L);var f=u.g;u=u.ia,f.L=1,f.v=yl(cr(d)),f.m=null,f.P=!0,CT(f,u)}n.Za=function(){this.C!=null&&(this.C=null,El(this),Wg(this),Tt(19))};function wl(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function eb(u,d){var f=null;if(u.g==d){wl(u),Kg(u),u.g=null;var y=2}else if(Hg(u.h,d))f=d.D,PT(u.h,d),y=1;else return;if(u.G!=0){if(d.o)if(y==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=u.B;y=dl(),Dt(y,new wT(y,f)),Il(u)}else JT(u);else if(C=d.s,C==3||C==0&&0<d.X||!(y==1&&h1(u,d)||y==2&&Wg(u)))switch(f&&0<f.length&&(d=u.h,d.i=d.i.concat(f)),C){case 1:Oi(u,5);break;case 4:Oi(u,10);break;case 3:Oi(u,6);break;default:Oi(u,2)}}}function tb(u,d){let f=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(f*=2),f*d}function Oi(u,d){if(u.j.info("Error code "+d),d==2){var f=g(u.fb,u),y=u.Xa;let C=!y;y=new ki(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||gl(y,"https"),yl(y),C?o1(y.toString(),f):s1(y.toString(),f)}else Tt(2);u.G=0,u.l&&u.l.sa(d),nb(u),QT(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function nb(u){if(u.G=0,u.ka=[],u.l){let d=xT(u.h);(d.length!=0||u.i.length!=0)&&(R(u.ka,d),R(u.ka,u.i),u.h.i.length=0,A(u.i),u.i.length=0),u.l.ra()}}function rb(u,d,f){var y=f instanceof ki?cr(f):new ki(f);if(y.g!="")d&&(y.g=d+"."+y.g),ml(y,y.s);else{var C=a.location;y=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var N=new ki(null);y&&gl(N,y),d&&(N.g=d),C&&ml(N,C),f&&(N.l=f),y=N}return f=u.D,d=u.ya,f&&d&&Se(y,f,d),Se(y,"VER",u.la),Ja(u,y),y}function ib(u,d,f){if(d&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=u.Ca&&!u.pa?new Fe(new Ka({eb:f})):new Fe(u.pa),d.Ha(u.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ob(){}n=ob.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Dl(){}Dl.prototype.g=function(u,d){return new Ht(u,d)};function Ht(u,d){lt.call(this),this.g=new KT(d),this.l=u,this.h=d&&d.messageUrlParams||null,u=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(u?u["X-WebChannel-Content-Type"]=d.messageContentType:u={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(u?u["X-WebChannel-Client-Profile"]=d.va:u={"X-WebChannel-Client-Profile":d.va}),this.g.S=u,(u=d&&d.Sb)&&!H(u)&&(this.g.m=u),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!H(d)&&(this.g.D=d,u=this.h,u!==null&&d in u&&(u=this.h,d in u&&delete u[d])),this.j=new Go(this)}w(Ht,lt),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){Gg(this.g)},Ht.prototype.o=function(u){var d=this.g;if(typeof u=="string"){var f={};f.__data__=u,u=f}else this.u&&(f={},f.__data__=kg(u),u=f);d.i.push(new QO(d.Ya++,u)),d.G==3&&Il(d)},Ht.prototype.N=function(){this.g.l=null,delete this.j,Gg(this.g),delete this.g,Ht.aa.N.call(this)};function sb(u){Fg.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var d=u.__sm__;if(d){e:{for(let f in d){u=f;break e}u=void 0}(this.i=u)&&(u=this.i,d=d!==null&&u in d?d[u]:void 0),this.data=d}else this.data=u}w(sb,Fg);function ab(){Lg.call(this),this.status=1}w(ab,Lg);function Go(u){this.g=u}w(Go,ob),Go.prototype.ua=function(){Dt(this.g,"a")},Go.prototype.ta=function(u){Dt(this.g,new sb(u))},Go.prototype.sa=function(u){Dt(this.g,new ab)},Go.prototype.ra=function(){Dt(this.g,"b")},Dl.prototype.createWebChannel=Dl.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,$I=Lr.createWebChannelTransport=function(){return new Dl},BI=Lr.getStatEventTarget=function(){return dl()},UI=Lr.Event=Pi,gp=Lr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hl.NO_ERROR=0,hl.TIMEOUT=8,hl.HTTP_ERROR=6,Ou=Lr.ErrorCode=hl,DT.COMPLETE="complete",jI=Lr.EventType=DT,vT.EventType=Ua,Ua.OPEN="a",Ua.CLOSE="b",Ua.ERROR="c",Ua.MESSAGE="d",lt.prototype.listen=lt.prototype.K,la=Lr.WebChannel=vT,HG=Lr.FetchXmlHttpFactory=Ka,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,VI=Lr.XhrIo=Fe}).apply(typeof pp<"u"?pp:typeof self<"u"?self:typeof window<"u"?window:{});var QP="@firebase/firestore",YP="4.7.17";var rt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};rt.UNAUTHENTICATED=new rt(null),rt.GOOGLE_CREDENTIALS=new rt("google-credentials-uid"),rt.FIRST_PARTY=new rt("first-party-uid"),rt.MOCK_USER=new rt("mock-user");var Na="11.9.0";var No=new Jn("@firebase/firestore");function da(){return No.logLevel}function B(n,...e){if(No.logLevel<=fe.DEBUG){let t=e.map(PD);No.debug(`Firestore (${Na}): ${n}`,...t)}}function Vr(n,...e){if(No.logLevel<=fe.ERROR){let t=e.map(PD);No.error(`Firestore (${Na}): ${n}`,...t)}}function va(n,...e){if(No.logLevel<=fe.WARN){let t=e.map(PD);No.warn(`Firestore (${Na}): ${n}`,...t)}}function PD(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Q(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,$x(n,r,t)}function $x(n,e,t){let r=`FIRESTORE (${Na}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Vr(r),new Error(r)}function we(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||$x(e,i,r)}function X(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=class extends Jt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Sn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var wp=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},WI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(rt.UNAUTHENTICATED))}shutdown(){}},KI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},QI=class{constructor(e){this.t=e,this.currentUser=rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){we(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new Sn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Sn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>v(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Sn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string",31837,{l:r}),new wp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new rt(e)}},YI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=rt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},ZI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new YI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Dp=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},JI=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_t(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){we(this.o===void 0,3512);let r=o=>{o.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,B("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Dp(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(we(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Dp(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function zG(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function Hx(){return new TextEncoder}var Tp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=zG(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function de(n,e){return n<e?-1:n>e?1:0}function XI(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return de(r,i);{let o=Hx(),s=qG(o.encode(ZP(n,t)),o.encode(ZP(e,t)));return s!==0?s:de(r,i)}}t+=r>65535?2:1}return de(n.length,e.length)}function ZP(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function qG(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return de(n[t],e[t]);return de(n.length,e.length)}function _a(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var JP=-62135596800,XP=1e6,ct=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*XP);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<JP)throw new $(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/XP}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-JP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ie=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new ct(0,0))}static max(){return new n(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ex="__name__",bp=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Q(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Q(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return de(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):XI(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fr.fromString(e.substring(4,e.length-2))}},Oe=class n extends bp{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new $(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},GG=/^[_a-zA-Z][_a-zA-Z0-9]*$/,tn=class n extends bp{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return GG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ex}static keyField(){return new n([ex])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new $(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new $(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new $(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var K=class n{constructor(e){this.path=e}static fromPath(e){return new n(Oe.fromString(e))}static fromName(e){return new n(Oe.fromString(e).popFirst(5))}static empty(){return new n(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Oe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Oe(e.slice()))}};var Bu=-1,ew=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};ew.UNKNOWN_ID=-1;function WG(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new ct(t+1,0):new ct(t,r));return new Mo(i,K.empty(),e)}function KG(n){return new Mo(n.readTime,n.key,Bu)}var Mo=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ie.min(),K.empty(),Bu)}static max(){return new n(ie.max(),K.empty(),Bu)}};function QG(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=K.comparator(n.documentKey,e.documentKey),t!==0?t:de(n.largestBatchId,e.largestBatchId))}var YG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",tw=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ma(n){return v(this,null,function*(){if(n.code!==P.FAILED_PRECONDITION||n.message!==YG)throw n;B("LocalStore","Unexpectedly lost primary lease")})}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function ZG(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Pa(n){return n.name==="IndexedDbTransactionError"}var xD=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),kD=-1;function og(n){return n==null}function $u(n){return n===0&&1/n==-1/0}function JG(n){return typeof n=="number"&&Number.isInteger(n)&&!$u(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var zx="";function XG(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=tx(e)),e=eW(n.get(t),e);return tx(e)}function eW(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case zx:t+="";break;default:t+=o}}return t}function tx(n){return n+zx+""}var tW="remoteDocuments",qx="owner";var Gx="mutationQueues";var Wx="mutations";var Kx="documentMutations",nW="remoteDocumentsV14";var Qx="remoteDocumentGlobal";var Yx="targets";var Zx="targetDocuments";var Jx="targetGlobal",Xx="collectionParents";var ek="clientMetadata";var tk="bundles";var nk="namedQueries";var rW="indexConfiguration";var iW="indexState";var oW="indexEntries";var rk="documentOverlays";var sW="globals";var aW=[Gx,Wx,Kx,tW,Yx,qx,Jx,Zx,ek,Qx,Xx,tk,nk],zoe=[...aW,rk],cW=[Gx,Wx,Kx,nW,Yx,qx,Jx,Zx,ek,Qx,Xx,tk,nk,rk],uW=cW,lW=[...uW,rW,iW,oW];var qoe=[...lW,sW];function nx(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Mi(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ik(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var je=class n{constructor(e,t){this.comparator=e,this.root=t||tr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ga(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ga(this.root,e,this.comparator,!1)}getReverseIterator(){return new ga(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ga(this.root,e,this.comparator,!0)}},ga=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},tr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}};tr.EMPTY=null,tr.RED=!0,tr.BLACK=!1;tr.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new tr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var it=class n{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Cp(this.data.getIterator())}getIteratorFrom(e){return new Cp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Cp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ln=class n{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new n([])}unionWith(e){let t=new it(tn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _a(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Sp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var wt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Sp("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};wt.EMPTY_BYTE_STRING=new wt("");var dW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(n){if(we(!!n,39018),typeof n=="string"){let e=0,t=dW.exec(n);if(we(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pe(n.seconds),nanos:Pe(n.nanos)}}function Pe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ur(n){return typeof n=="string"?wt.fromBase64String(n):wt.fromUint8Array(n)}var ok="server_timestamp",sk="__type__",ak="__previous_value__",ck="__local_write_time__";function OD(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[sk])===null||t===void 0?void 0:t.stringValue)===ok}function sg(n){let e=n.mapValue.fields[ak];return OD(e)?sg(e):e}function Hu(n){let e=jr(n.mapValue.fields[ck].timestampValue);return new ct(e.seconds,e.nanos)}var nw=class{constructor(e,t,r,i,o,s,a,c,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l,this.isUsingEmulator=h}},Ap="(default)",Rp=class n{constructor(e,t){this.projectId=e,this.database=t||Ap}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Ap}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var FD="__type__",uk="__max__",mp={mapValue:{fields:{__type__:{stringValue:uk}}}},LD="__vector__",Ea="value";function Ai(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?OD(n)?4:dk(n)?9007199254740991:lk(n)?10:11:Q(28295,{value:n})}function or(n,e){if(n===e)return!0;let t=Ai(n);if(t!==Ai(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Hu(n).isEqual(Hu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=jr(i.timestampValue),a=jr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Ur(i.bytesValue).isEqual(Ur(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Pe(i.geoPointValue.latitude)===Pe(o.geoPointValue.latitude)&&Pe(i.geoPointValue.longitude)===Pe(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Pe(i.integerValue)===Pe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Pe(i.doubleValue),a=Pe(o.doubleValue);return s===a?$u(s)===$u(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return _a(n.arrayValue.values||[],e.arrayValue.values||[],or);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(nx(s)!==nx(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!or(s[c],a[c])))return!1;return!0}(n,e);default:return Q(52216,{left:n})}}function zu(n,e){return(n.values||[]).find(t=>or(t,e))!==void 0}function Ia(n,e){if(n===e)return 0;let t=Ai(n),r=Ai(e);if(t!==r)return de(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return de(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Pe(o.integerValue||o.doubleValue),c=Pe(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return rx(n.timestampValue,e.timestampValue);case 4:return rx(Hu(n),Hu(e));case 5:return XI(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Ur(o),c=Ur(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let h=de(a[l],c[l]);if(h!==0)return h}return de(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=de(Pe(o.latitude),Pe(s.latitude));return a!==0?a:de(Pe(o.longitude),Pe(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ix(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,l,h;let p=o.fields||{},g=s.fields||{},m=(a=p[Ea])===null||a===void 0?void 0:a.arrayValue,w=(c=g[Ea])===null||c===void 0?void 0:c.arrayValue,A=de(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((h=w?.values)===null||h===void 0?void 0:h.length)||0);return A!==0?A:ix(m,w)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===mp.mapValue&&s===mp.mapValue)return 0;if(o===mp.mapValue)return 1;if(s===mp.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){let g=XI(c[p],h[p]);if(g!==0)return g;let m=Ia(a[c[p]],l[h[p]]);if(m!==0)return m}return de(c.length,h.length)}(n.mapValue,e.mapValue);default:throw Q(23264,{Pe:t})}}function rx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return de(n,e);let t=jr(n),r=jr(e),i=de(t.seconds,r.seconds);return i!==0?i:de(t.nanos,r.nanos)}function ix(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Ia(t[i],r[i]);if(o)return o}return de(t.length,r.length)}function wa(n){return rw(n)}function rw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=jr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ur(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return K.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=rw(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${rw(t.fields[s])}`;return i+"}"}(n.mapValue):Q(61005,{value:n})}function _p(n){switch(Ai(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=sg(n);return e?16+_p(e):16;case 5:return 2*n.stringValue.length;case 6:return Ur(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+_p(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Mi(r.fields,(o,s)=>{i+=o.length+_p(s)}),i}(n.mapValue);default:throw Q(13486,{value:n})}}function ox(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function iw(n){return!!n&&"integerValue"in n}function VD(n){return!!n&&"arrayValue"in n}function sx(n){return!!n&&"nullValue"in n}function ax(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ep(n){return!!n&&"mapValue"in n}function lk(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[FD])===null||t===void 0?void 0:t.stringValue)===LD}function Lu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Mi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Lu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===uk}var Woe={mapValue:{fields:{[FD]:{stringValue:LD},[Ea]:{arrayValue:{}}}}};var en=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ep(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lu(t)}setAll(e){let t=tn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Lu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Ep(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return or(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Ep(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Mi(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Lu(this.value))}};function hk(n){let e=[];return Mi(n.fields,(t,r)=>{let i=new tn([t]);if(Ep(r)){let o=hk(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new ln(e)}var An=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ie.min(),ie.min(),ie.min(),en.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ie.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ie.min(),ie.min(),en.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ie.min(),ie.min(),en.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Da=class{constructor(e,t){this.position=e,this.inclusive=t}};function cx(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=K.comparator(K.fromName(s.referenceValue),t.key):r=Ia(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function ux(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!or(n.position[t],e.position[t]))return!1;return!0}var Ta=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function hW(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Np=class{},Qe=class n extends Np{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new sw(e,t,r):t==="array-contains"?new uw(e,r):t==="in"?new lw(e,r):t==="not-in"?new dw(e,r):t==="array-contains-any"?new hw(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new aw(e,r):new cw(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ia(t,this.value)):t!==null&&Ai(this.value)===Ai(t)&&this.matchesComparison(Ia(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Rn=class n extends Np{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return fk(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function fk(n){return n.op==="and"}function pk(n){return fW(n)&&fk(n)}function fW(n){for(let e of n.filters)if(e instanceof Rn)return!1;return!0}function ow(n){if(n instanceof Qe)return n.field.canonicalString()+n.op.toString()+wa(n.value);if(pk(n))return n.filters.map(e=>ow(e)).join(",");{let e=n.filters.map(t=>ow(t)).join(",");return`${n.op}(${e})`}}function gk(n,e){return n instanceof Qe?function(r,i){return i instanceof Qe&&r.op===i.op&&r.field.isEqual(i.field)&&or(r.value,i.value)}(n,e):n instanceof Rn?function(r,i){return i instanceof Rn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&gk(s,i.filters[a]),!0):!1}(n,e):void Q(19439)}function mk(n){return n instanceof Qe?function(t){return`${t.field.canonicalString()} ${t.op} ${wa(t.value)}`}(n):n instanceof Rn?function(t){return t.op.toString()+" {"+t.getFilters().map(mk).join(" ,")+"}"}(n):"Filter"}var sw=class extends Qe{constructor(e,t,r){super(e,t,r),this.key=K.fromName(r.referenceValue)}matches(e){let t=K.comparator(e.key,this.key);return this.matchesComparison(t)}},aw=class extends Qe{constructor(e,t){super(e,"in",t),this.keys=yk("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},cw=class extends Qe{constructor(e,t){super(e,"not-in",t),this.keys=yk("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function yk(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>K.fromName(r.referenceValue))}var uw=class extends Qe{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return VD(t)&&zu(t.arrayValue,this.value)}},lw=class extends Qe{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&zu(this.value.arrayValue,t)}},dw=class extends Qe{constructor(e,t){super(e,"not-in",t)}matches(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!zu(this.value.arrayValue,t)}},hw=class extends Qe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!VD(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>zu(this.value.arrayValue,r))}};var fw=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function lx(n,e=null,t=[],r=[],i=null,o=null,s=null){return new fw(n,e,t,r,i,o,s)}function jD(n){let e=X(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ow(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),og(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>wa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>wa(r)).join(",")),e.Ie=t}return e.Ie}function UD(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!hW(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!gk(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ux(n.startAt,e.startAt)&&ux(n.endAt,e.endAt)}function pw(n){return K.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Po=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function pW(n,e,t,r,i,o,s,a){return new Po(n,e,t,r,i,o,s,a)}function ag(n){return new Po(n)}function dx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function vk(n){return n.collectionGroup!==null}function Vu(n){let e=X(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new it(tn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Ta(o,r))}),t.has(tn.keyField().canonicalString())||e.Ee.push(new Ta(tn.keyField(),r))}return e.Ee}function nr(n){let e=X(n);return e.de||(e.de=gW(e,Vu(n))),e.de}function gW(n,e){if(n.limitType==="F")return lx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ta(i.field,o)});let t=n.endAt?new Da(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Da(n.startAt.position,n.startAt.inclusive):null;return lx(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function gw(n,e){let t=n.filters.concat([e]);return new Po(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function mw(n,e,t){return new Po(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cg(n,e){return UD(nr(n),nr(e))&&n.limitType===e.limitType}function _k(n){return`${jD(nr(n))}|lt:${n.limitType}`}function ha(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>mk(i)).join(", ")}]`),og(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>wa(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>wa(i)).join(",")),`Target(${r})`}(nr(n))}; limitType=${n.limitType})`}function ug(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):K.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Vu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let l=cx(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,Vu(r),i)||r.endAt&&!function(s,a,c){let l=cx(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,Vu(r),i))}(n,e)}function mW(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Ek(n){return(e,t)=>{let r=!1;for(let i of Vu(n)){let o=yW(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function yW(n,e,t){let r=n.field.isKeyField()?K.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?Ia(c,l):Q(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Q(19790,{direction:n.dir})}}var Br=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Mi(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return ik(this.inner)}size(){return this.innerSize}};var vW=new je(K.comparator);function $r(){return vW}var Ik=new je(K.comparator);function Fu(...n){let e=Ik;for(let t of n)e=e.insert(t.key,t);return e}function wk(n){let e=Ik;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function So(){return ju()}function Dk(){return ju()}function ju(){return new Br(n=>n.toString(),(n,e)=>n.isEqual(e))}var _W=new je(K.comparator),EW=new it(K.comparator);function pe(...n){let e=EW;for(let t of n)e=e.add(t);return e}var IW=new it(de);function wW(){return IW}function BD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$u(e)?"-0":e}}function Tk(n){return{integerValue:""+n}}function bk(n,e){return JG(e)?Tk(e):BD(n,e)}var ba=class{constructor(){this._=void 0}};function DW(n,e,t){return n instanceof xo?function(i,o){let s={fields:{[sk]:{stringValue:ok},[ck]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&OD(o)&&(o=sg(o)),o&&(s.fields[ak]=o),{mapValue:s}}(t,e):n instanceof ko?Sk(n,e):n instanceof Oo?Ak(n,e):function(i,o){let s=Ck(i,o),a=hx(s)+hx(i.Re);return iw(s)&&iw(i.Re)?Tk(a):BD(i.serializer,a)}(n,e)}function TW(n,e,t){return n instanceof ko?Sk(n,e):n instanceof Oo?Ak(n,e):t}function Ck(n,e){return n instanceof Fo?function(r){return iw(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var xo=class extends ba{},ko=class extends ba{constructor(e){super(),this.elements=e}};function Sk(n,e){let t=Rk(e);for(let r of n.elements)t.some(i=>or(i,r))||t.push(r);return{arrayValue:{values:t}}}var Oo=class extends ba{constructor(e){super(),this.elements=e}};function Ak(n,e){let t=Rk(e);for(let r of n.elements)t=t.filter(i=>!or(i,r));return{arrayValue:{values:t}}}var Fo=class extends ba{constructor(e,t){super(),this.serializer=e,this.Re=t}};function hx(n){return Pe(n.integerValue||n.doubleValue)}function Rk(n){return VD(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var Mp=class{constructor(e,t){this.field=e,this.transform=t}};function bW(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ko&&i instanceof ko||r instanceof Oo&&i instanceof Oo?_a(r.elements,i.elements,or):r instanceof Fo&&i instanceof Fo?or(r.Re,i.Re):r instanceof xo&&i instanceof xo}(n.transform,e.transform)}var yw=class{constructor(e,t){this.version=e,this.transformResults=t}},rr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ip(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ca=class{};function Nk(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new qu(n.key,rr.none()):new Lo(n.key,n.data,rr.none());{let t=n.data,r=en.empty(),i=new it(tn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new sr(n.key,r,new ln(i.toArray()),rr.none())}}function CW(n,e,t){n instanceof Lo?function(i,o,s){let a=i.value.clone(),c=px(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof sr?function(i,o,s){if(!Ip(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=px(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(Mk(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Uu(n,e,t,r){return n instanceof Lo?function(o,s,a,c){if(!Ip(o.precondition,s))return a;let l=o.value.clone(),h=gx(o.fieldTransforms,c,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof sr?function(o,s,a,c){if(!Ip(o.precondition,s))return a;let l=gx(o.fieldTransforms,c,s),h=s.data;return h.setAll(Mk(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Ip(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function SW(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=Ck(r.transform,i||null);o!=null&&(t===null&&(t=en.empty()),t.set(r.field,o))}return t||null}function fx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_a(r,i,(o,s)=>bW(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Lo=class extends Ca{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},sr=class extends Ca{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Mk(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function px(n,e,t){let r=new Map;we(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,TW(s,a,t[i]))}return r}function gx(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,DW(o,s,e))}return r}var qu=class extends Ca{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},vw=class extends Ca{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var _w=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&CW(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Uu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Uu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=Dk();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=Nk(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pe())}isEqual(e){return this.batchId===e.batchId&&_a(this.mutations,e.mutations,(t,r)=>fx(t,r))&&_a(this.baseMutations,e.baseMutations,(t,r)=>fx(t,r))}},Ew=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){we(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return _W}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var Iw=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ww=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var We,me;function AW(n){switch(n){case P.OK:return Q(64938);case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return Q(15467,{code:n})}}function Pk(n){if(n===void 0)return Vr("GRPC error has no .code"),P.UNKNOWN;switch(n){case We.OK:return P.OK;case We.CANCELLED:return P.CANCELLED;case We.UNKNOWN:return P.UNKNOWN;case We.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case We.INTERNAL:return P.INTERNAL;case We.UNAVAILABLE:return P.UNAVAILABLE;case We.UNAUTHENTICATED:return P.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case We.NOT_FOUND:return P.NOT_FOUND;case We.ALREADY_EXISTS:return P.ALREADY_EXISTS;case We.PERMISSION_DENIED:return P.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case We.ABORTED:return P.ABORTED;case We.OUT_OF_RANGE:return P.OUT_OF_RANGE;case We.UNIMPLEMENTED:return P.UNIMPLEMENTED;case We.DATA_LOSS:return P.DATA_LOSS;default:return Q(39323,{code:n})}}(me=We||(We={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";var mx=null;var RW=new Fr([4294967295,4294967295],0);function yx(n){let e=Hx().encode(n),t=new LI;return t.update(e),new Uint8Array(t.digest())}function vx(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Fr([t,r],0),new Fr([i,o],0)]}var Dw=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ao(`Invalid padding: ${t}`);if(r<0)throw new Ao(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ao(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ao(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Fr.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Fr.fromNumber(r)));return i.compare(RW)===1&&(i=new Fr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=yx(e),[r,i]=vx(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=yx(e),[r,i]=vx(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Ao=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Pp=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Gu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ie.min(),i,new je(de),$r(),pe())}},Gu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,pe(),pe(),pe())}};var ma=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},xp=class{constructor(e,t){this.targetId=e,this.Ce=t}},kp=class{constructor(e,t,r=wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Op=class{constructor(){this.Fe=0,this.Me=_x(),this.xe=wt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=pe(),t=pe(),r=pe();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Q(38017,{changeType:o})}}),new Gu(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=_x()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,we(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},Tw=class{constructor(e){this.ze=e,this.je=new Map,this.He=$r(),this.Je=yp(),this.Ye=yp(),this.Ze=new je(de)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(pw(o))if(r===0){let s=new K(o.path);this.tt(t,s,An.newNoDocument(s,ie.min()))}else we(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),c=a?this.lt(a,e,s):1;if(c!==0){this.st(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}mx?.ht(function(h,p,g,m,w){var A,R,k,H,q,ge;let $e={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},ve=p.unchangedNames;return ve&&($e.bloomFilter={applied:w===0,hashCount:(A=ve?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(H=(k=(R=ve?.bits)===null||R===void 0?void 0:R.bitmap)===null||k===void 0?void 0:k.length)!==null&&H!==void 0?H:0,padding:(ge=(q=ve?.bits)===null||q===void 0?void 0:q.padding)!==null&&ge!==void 0?ge:0,mightContain:T=>{var _;return(_=m?.mightContain(T))!==null&&_!==void 0&&_}}),$e}(s,e.Ce,this.ze.Pt(),a,c))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Ur(r).toUint8Array()}catch(c){if(c instanceof Sp)return va("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Dw(s,i,o)}catch(c){return va(c instanceof Ao?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&pw(a.target)){let c=new K(a.target.path);this.Et(c).has(s)||this.dt(s,c)||this.tt(s,c,An.newNoDocument(c,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=pe();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this._t(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new Pp(e,t,this.Ze,this.He,r);return this.He=$r(),this.Je=yp(),this.Ye=yp(),this.Ze=new je(de),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Op,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new it(de),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new it(de),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||B("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Op),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function yp(){return new je(K.comparator)}function _x(){return new je(K.comparator)}var NW={asc:"ASCENDING",desc:"DESCENDING"},MW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PW={and:"AND",or:"OR"},bw=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Cw(n,e){return n.useProto3Json||og(e)?e:{value:e}}function Fp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xk(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function xW(n,e){return Fp(n,e.toTimestamp())}function ir(n){return we(!!n,49232),ie.fromTimestamp(function(t){let r=jr(t);return new ct(r.seconds,r.nanos)}(n))}function $D(n,e){return Sw(n,e).canonicalString()}function Sw(n,e){let t=function(i){return new Oe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function kk(n){let e=Oe.fromString(n);return we(jk(e),10190,{key:e.toString()}),e}function Aw(n,e){return $D(n.databaseId,e.path)}function HI(n,e){let t=kk(e);if(t.get(1)!==n.databaseId.projectId)throw new $(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new K(Fk(t))}function Ok(n,e){return $D(n.databaseId,e)}function kW(n){let e=kk(n);return e.length===4?Oe.emptyPath():Fk(e)}function Rw(n){return new Oe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Fk(n){return we(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Ex(n,e,t){return{name:Aw(n,e),fields:t.value.mapValue.fields}}function OW(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(we(h===void 0||typeof h=="string",58123),wt.fromBase64String(h||"")):(we(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),wt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?P.UNKNOWN:Pk(l.code);return new $(h,l.message||"")}(s);t=new kp(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=HI(n,r.document.name),o=ir(r.document.updateTime),s=r.document.createTime?ir(r.document.createTime):ie.min(),a=new en({mapValue:{fields:r.document.fields}}),c=An.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new ma(l,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=HI(n,r.document),o=r.readTime?ir(r.readTime):ie.min(),s=An.newNoDocument(i,o),a=r.removedTargetIds||[];t=new ma([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=HI(n,r.document),o=r.removedTargetIds||[];t=new ma([],o,i,null)}else{if(!("filter"in e))return Q(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new ww(i,o),a=r.targetId;t=new xp(a,s)}}return t}function FW(n,e){let t;if(e instanceof Lo)t={update:Ex(n,e.key,e.value)};else if(e instanceof qu)t={delete:Aw(n,e.key)};else if(e instanceof sr)t={update:Ex(n,e.key,e.data),updateMask:qW(e.fieldMask)};else{if(!(e instanceof vw))return Q(16599,{ft:e.type});t={verify:Aw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof xo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ko)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Oo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Fo)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw Q(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:xW(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q(27497)}(n,e.precondition)),t}function LW(n,e){return n&&n.length>0?(we(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?ir(i.updateTime):ir(o);return s.isEqual(ie.min())&&(s=ir(o)),new yw(s,i.transformResults||[])}(t,e))):[]}function VW(n,e){return{documents:[Ok(n,e.path)]}}function jW(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Ok(n,i);let o=function(l){if(l.length!==0)return Vk(Rn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:fa(g.field),direction:$W(g.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=Cw(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:t,parent:i}}function UW(n){let e=kW(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){we(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let g=Lk(p);return g instanceof Rn&&pk(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(g=>function(w){return new Ta(pa(w.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,og(g)?null:g}(t.limit));let c=null;t.startAt&&(c=function(p){let g=!!p.before,m=p.values||[];return new Da(m,g)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let g=!p.before,m=p.values||[];return new Da(m,g)}(t.endAt)),pW(e,i,s,o,a,"F",c,l)}function BW(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Lk(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=pa(t.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=pa(t.unaryFilter.field);return Qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=pa(t.unaryFilter.field);return Qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=pa(t.unaryFilter.field);return Qe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(n):n.fieldFilter!==void 0?function(t){return Qe.create(pa(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Rn.create(t.compositeFilter.filters.map(r=>Lk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(t.compositeFilter.op))}(n):Q(30097,{filter:n})}function $W(n){return NW[n]}function HW(n){return MW[n]}function zW(n){return PW[n]}function fa(n){return{fieldPath:n.canonicalString()}}function pa(n){return tn.fromServerFormat(n.fieldPath)}function Vk(n){return n instanceof Qe?function(t){if(t.op==="=="){if(ax(t.value))return{unaryFilter:{field:fa(t.field),op:"IS_NAN"}};if(sx(t.value))return{unaryFilter:{field:fa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ax(t.value))return{unaryFilter:{field:fa(t.field),op:"IS_NOT_NAN"}};if(sx(t.value))return{unaryFilter:{field:fa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fa(t.field),op:HW(t.op),value:t.value}}}(n):n instanceof Rn?function(t){let r=t.getFilters().map(i=>Vk(i));return r.length===1?r[0]:{compositeFilter:{op:zW(t.op),filters:r}}}(n):Q(54877,{filter:n})}function qW(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jk(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Wu=class n{constructor(e,t,r,i,o=ie.min(),s=ie.min(),a=wt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Nw=class{constructor(e){this.wt=e}};function GW(n){let e=UW({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?mw(e,e.limit,"L"):e}var Lp=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Pe(e.integerValue));else if("doubleValue"in e){let r=Pe(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),$u(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=jr(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Ur(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?dk(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):lk(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):Q(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=Ea,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(Pe(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),K.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};Lp.Wt=new Lp;var Mw=class{constructor(){this.Cn=new Pw}addToCollectionParentIndex(e,t){return this.Cn.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(Mo.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(Mo.min())}updateCollectionGroup(e,t,r){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},Pw=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new it(Oe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(Oe.comparator)).toArray()}};var Koe=new Uint8Array(0);var Ix={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Uk=41943040,un=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(Uk,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);var Ku=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var wx="LruGarbageCollector",WW=1048576;function Dx([n,e],[t,r]){let i=de(n,t);return i===0?de(e,r):i}var xw=class{constructor(e){this.Er=e,this.buffer=new it(Dx),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();Dx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},kw=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){B(wx,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Pa(t)?B(wx,"Ignoring IndexedDB error during garbage collection: ",t):yield Ma(t)}yield this.mr(3e5)}))}},Ow=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return x.resolve(xD.le);let r=new xw(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(Ix)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ix):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,s,a,c,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),da()<=fe.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(l-c)+`ms
Total Duration: ${l-h}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function KW(n,e){return new Ow(n,e)}var Fw=class{constructor(){this.changes=new Br(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?x.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Lw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Vw=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Uu(r.mutation,i,ln.empty(),ct.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=pe()){let i=So();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Fu();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=So();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,pe()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=$r(),s=ju(),a=function(){return ju()}();return t.forEach((c,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof sr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Uu(h.mutation,l,h.mutation.getFieldMask(),ct.now())):s.set(l.key,ln.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new Lw(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=ju(),i=new je((s,a)=>s-a),o=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let h=r.get(c)||ln.empty();h=a.applyToLocalView(l,h),r.set(c,h);let p=(i.get(a.batchId)||pe()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,h=c.value,p=Dk();h.forEach(g=>{if(!o.has(g)){let m=Nk(t.get(g),r.get(g));m!==null&&p.set(g,m),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return K.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):x.resolve(So()),a=Bu,c=o;return s.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,pe())).next(h=>({batchId:a,changes:wk(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new K(t)).next(r=>{let i=Fu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Fu();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,c=>{let l=function(p,g){return new Po(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,An.newInvalidDocument(h)))});let a=Fu();return s.forEach((c,l)=>{let h=o.get(c);h!==void 0&&Uu(h.mutation,l,ln.empty(),ct.now()),ug(t,l)&&(a=a.insert(c,l))}),a})}};var jw=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return x.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ir(i.createTime)}}(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:GW(i.bundledQuery),readTime:ir(i.readTime)}}(t)),x.resolve()}};var Uw=class{constructor(){this.overlays=new je(K.comparator),this.Qr=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let r=So();return x.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),x.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),x.resolve()}getOverlaysForCollection(e,t,r){let i=So(),o=t.length+1,s=new K(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return x.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new je((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=So(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=So(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Iw(t,r));let o=this.Qr.get(t);o===void 0&&(o=pe(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}};var Bw=class{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,x.resolve()}};var Qu=class{constructor(){this.$r=new it(Ke.Ur),this.Kr=new it(Ke.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let r=new Ke(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Ke(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){let t=new K(new Oe([])),r=new Ke(t,e),i=new Ke(t,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new K(new Oe([])),r=new Ke(t,e),i=new Ke(t,e+1),o=pe();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ke(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ke=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return K.comparator(e.key,t.key)||de(e.Zr,t.Zr)}static Wr(e,t){return de(e.Zr,t.Zr)||K.comparator(e.key,t.key)}};var $w=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new it(Ke.Ur)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new _w(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new Ke(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,t){return x.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ti(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?kD:this.nr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ke(t,0),i=new Ke(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new it(de);return t.forEach(i=>{let o=new Ke(i,0),s=new Ke(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),x.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;K.isDocumentKey(o)||(o=o.child(""));let s=new Ke(new K(o),0),a=new it(de);return this.Xr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.Zr)),!0)},s),x.resolve(this.ni(a))}ni(e){let t=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){we(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return x.forEach(t.mutations,i=>{let o=new Ke(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){let r=new Ke(t,0),i=this.Xr.firstAfterOrEqual(r);return x.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Hw=class{constructor(e){this.ii=e,this.docs=function(){return new je(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return x.resolve(r?r.document.mutableCopy():An.newInvalidDocument(t))}getEntries(e,t){let r=$r();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():An.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=$r(),s=t.path,a=new K(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:h}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||QG(KG(h),r)<=0||(i.has(h.key)||ug(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Q(9500)}si(e,t){return x.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new zw(this)}getSize(e){return x.resolve(this.size)}},zw=class extends Fw{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),x.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var qw=class{constructor(e){this.persistence=e,this.oi=new Br(t=>jD(t),UD),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this._i=0,this.ai=new Qu,this.targetCount=0,this.ui=Ku.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),x.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new Ku(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.Tr(t),x.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let r=this.oi.get(t)||null;return x.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),x.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),x.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ai.Yr(t);return x.resolve(r)}containsKey(e,t){return x.resolve(this.ai.containsKey(t))}};var Vp=class{constructor(e,t){this.ci={},this.overlays={},this.li=new xD(0),this.hi=!1,this.hi=!0,this.Pi=new Bw,this.referenceDelegate=e(this),this.Ti=new qw(this),this.indexManager=new Mw,this.remoteDocumentCache=function(i){return new Hw(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Nw(t),this.Ei=new jw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Uw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new $w(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){B("MemoryPersistence","Starting transaction:",e);let i=new Gw(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return x.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}},Gw=class extends tw{constructor(e){super(),this.currentSequenceNumber=e}},Ww=class n{constructor(e){this.persistence=e,this.Vi=new Qu,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw Q(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),x.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),x.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.gi,r=>{let i=K.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,ie.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return x.or([()=>x.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},jp=class n{constructor(e,t){this.persistence=e,this.yi=new Br(r=>XG(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=KW(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return x.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return x.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?x.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ie.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),x.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),x.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=_p(e.data.value)),t}Dr(e,t,r){return x.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.yi.get(t);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Kw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=pe(),i=pe();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Qw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Yw=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return _M()?8:ZG(nt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ws(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Qw;return this.Ss(e,t,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,t,s,a.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(da()<=fe.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",ha(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),x.resolve()):(da()<=fe.DEBUG&&B("QueryEngine","Query:",ha(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(da()<=fe.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",ha(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(t))):x.resolve())}ws(e,t){if(dx(t))return x.resolve(null);let r=nr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=mw(t,null,"F"),r=nr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=pe(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.vs(t,a);return this.Cs(t,l,s,c.readTime)?this.ws(e,mw(t,null,"F")):this.Fs(e,l,t,c)}))})))}bs(e,t,r,i){return dx(t)||i.isEqual(ie.min())?x.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(t,o);return this.Cs(t,s,r,i)?x.resolve(null):(da()<=fe.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ha(t)),this.Fs(e,s,t,WG(i,Bu)).next(a=>a))})}vs(e,t){let r=new it(Ek(e));return t.forEach((i,o)=>{ug(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return da()<=fe.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",ha(t)),this.ys.getDocumentsMatchingQuery(e,t,Mo.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var HD="LocalStore",QW=3e8,Zw=class{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new je(de),this.Os=new Br(o=>jD(o),UD),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vw(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function YW(n,e,t,r){return new Zw(n,e,t,r)}function Bk(n,e){return v(this,null,function*(){let t=X(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=pe();for(let l of i){s.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(r,c).next(l=>({ks:l,removedBatchIds:s,addedBatchIds:a}))})})})}function ZW(n,e){let t=X(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){let p=l.batch,g=p.keys(),m=x.resolve();return g.forEach(w=>{m=m.next(()=>h.getEntry(c,w)).next(A=>{let R=l.docVersions.get(w);we(R!==null,48541),A.version.compareTo(R)<0&&(p.applyToRemoteDocument(A,l),A.isValidDocument()&&(A.setReadTime(l.commitVersion),h.addEntry(A)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=pe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function $k(n){let e=X(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function JW(n,e){let t=X(n),r=e.snapshotVersion,i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ti.addMatchingKeys(o,h.addedDocuments,p)));let m=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(wt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(p,m),function(A,R,k){return A.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=QW?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(g,m,h)&&a.push(t.Ti.updateTargetData(o,m))});let c=$r(),l=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(XW(o,s,e.documentUpdates).next(h=>{c=h.qs,l=h.Qs})),!r.isEqual(ie.min())){let h=t.Ti.getLastRemoteSnapshotVersion(o).next(p=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.xs=i,o))}function XW(n,e,t){let r=pe(),i=pe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=$r();return t.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ie.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):B(HD,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{qs:s,Qs:i}})}function e9(n,e){let t=X(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=kD),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function t9(n,e){let t=X(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new Wu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}function Jw(n,e,t){return v(this,null,function*(){let r=X(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Pa(s))throw s;B(HD,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function Tx(n,e,t){let r=X(n),i=ie.min(),o=pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,h){let p=X(c),g=p.Os.get(h);return g!==void 0?x.resolve(p.xs.get(g)):p.Ti.getTargetData(l,h)}(r,s,nr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:ie.min(),t?o:pe())).next(a=>(n9(r,mW(e),a),{documents:a,$s:o})))}function n9(n,e,t){let r=n.Ns.get(e)||ie.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}var Up=class{constructor(){this.activeTargetIds=wW()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Xw=class{constructor(){this.xo=new Up,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Up,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var eD=class{No(e){}shutdown(){}};var bx="ConnectivityMonitor",Bp=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){B(bx,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){B(bx,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var vp=null;function tD(){return vp===null?vp=function(){return 268435456+Math.round(2147483648*Math.random())}():vp++,"0x"+vp.toString(16)}var zI="RestConnection",r9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},nD=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Ap?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){let s=tD(),a=this.jo(e,t.toUriEncodedString());B(zI,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,o);let{host:l}=new URL(a),h=vi(l);return this.Jo(e,a,c,r,h).then(p=>(B(zI,`Received RPC '${e}' ${s}: `,p),p),p=>{throw va(zI,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,t,r,i,o,s){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Na}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){let r=r9[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}};var rD=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var Et="WebChannelConnection",iD=class extends nD{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=tD();return new Promise((a,c)=>{let l=new VI;l.setWithCredentials(!0),l.listenOnce(jI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ou.NO_ERROR:let p=l.getResponseJson();B(Et,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Ou.TIMEOUT:B(Et,`RPC '${e}' ${s} timed out`),c(new $(P.DEADLINE_EXCEEDED,"Request time out"));break;case Ou.HTTP_ERROR:let g=l.getStatus();if(B(Et,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let w=m?.error;if(w&&w.status&&w.message){let A=function(k){let H=k.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(H)>=0?H:P.UNKNOWN}(w.status);c(new $(A,w.message))}else c(new $(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new $(P.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{h_:e,streamId:s,P_:l.getLastErrorCode(),T_:l.getLastError()})}}finally{B(Et,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);B(Et,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}I_(e,t,r){let i=tD(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=$I(),a=BI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let h=o.join("");B(Et,`Creating RPC '${e}' stream ${i}: ${h}`,c);let p=s.createWebChannel(h,c);this.E_(p);let g=!1,m=!1,w=new rD({Zo:R=>{m?B(Et,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(g||(B(Et,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),B(Et,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Xo:()=>p.close()}),A=(R,k,H)=>{R.listen(k,q=>{try{H(q)}catch(ge){setTimeout(()=>{throw ge},0)}})};return A(p,la.EventType.OPEN,()=>{m||(B(Et,`RPC '${e}' stream ${i} transport opened.`),w.__())}),A(p,la.EventType.CLOSE,()=>{m||(m=!0,B(Et,`RPC '${e}' stream ${i} transport closed`),w.u_(),this.d_(p))}),A(p,la.EventType.ERROR,R=>{m||(m=!0,va(Et,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),w.u_(new $(P.UNAVAILABLE,"The operation could not be completed")))}),A(p,la.EventType.MESSAGE,R=>{var k;if(!m){let H=R.data[0];we(!!H,16349);let q=H,ge=q?.error||((k=q[0])===null||k===void 0?void 0:k.error);if(ge){B(Et,`RPC '${e}' stream ${i} received error:`,ge);let $e=ge.status,ve=function(I){let D=We[I];if(D!==void 0)return Pk(D)}($e),T=ge.message;ve===void 0&&(ve=P.INTERNAL,T="Unknown error status: "+$e+" with message "+ge.message),m=!0,w.u_(new $(ve,T)),p.close()}else B(Et,`RPC '${e}' stream ${i} received:`,H),w.c_(H)}}),A(a,UI.STAT_EVENT,R=>{R.stat===gp.PROXY?B(Et,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===gp.NOPROXY&&B(Et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.a_()},0),w}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}};function qI(){return typeof document<"u"?document:null}function lg(n){return new bw(n,!0)}var $p=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();let t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}};var Cx="PersistentStream",Hp=class{constructor(e,t,r,i,o,s,a,c){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new $p(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}stop(){return v(this,null,function*(){this.O_()&&(yield this.close(0))})}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}q_(){return v(this,null,function*(){if(this.N_())return this.close(0)})}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}close(e,t){return v(this,null,function*(){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(Vr(t.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}W_(){}auth(){this.state=1;let e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{let i=new $(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){let r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(()=>v(this,null,function*(){this.state=0,this.start()}))}j_(e){return B(Cx,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(B(Cx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},oD=class extends Hp{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();let t=OW(this.serializer,e),r=function(o){if(!("targetChange"in o))return ie.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ie.min():s.readTime?ir(s.readTime):ie.min()}(e);return this.listener.Y_(t,r)}Z_(e){let t={};t.database=Rw(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=pw(c)?{documents:VW(o,c)}:{query:jW(o,c).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=xk(o,s.resumeToken);let l=Cw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ie.min())>0){a.readTime=Fp(o,s.snapshotVersion.toTimestamp());let l=Cw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=BW(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){let t={};t.database=Rw(this.serializer),t.removeTarget=e,this.Q_(t)}},sD=class extends Hp{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return we(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){we(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();let t=LW(e.writeResults,e.commitTime),r=ir(e.commitTime);return this.listener.ra(r,t)}ia(){let e={};e.database=Rw(this.serializer),this.Q_(e)}ta(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>FW(this.serializer,r))};this.Q_(t)}};var aD=class{},cD=class extends aD{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new $(P.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,Sw(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(P.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,Sw(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(P.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}},uD=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Vr(t),this.ua=!1):B("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}};var Vo="RemoteStore",lD=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(s=>{r.enqueueAndForget(()=>v(this,null,function*(){Bo(this)&&(B(Vo,"Restarting streams for network reachability change."),yield function(c){return v(this,null,function*(){let l=X(c);l.da.add(4),yield rl(l),l.Va.set("Unknown"),l.da.delete(4),yield dg(l)})}(this))}))}),this.Va=new uD(r,i)}};function dg(n){return v(this,null,function*(){if(Bo(n))for(let e of n.Aa)yield e(!0)})}function rl(n){return v(this,null,function*(){for(let e of n.Aa)yield e(!1)})}function Hk(n,e){let t=X(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),WD(t)?GD(t):xa(t).N_()&&qD(t,e))}function zD(n,e){let t=X(n),r=xa(t);t.Ea.delete(e),r.N_()&&zk(t,e),t.Ea.size===0&&(r.N_()?r.k_():Bo(t)&&t.Va.set("Unknown"))}function qD(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xa(n).Z_(e)}function zk(n,e){n.ma.Ke(e),xa(n).X_(e)}function GD(n){n.ma=new Tw({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),xa(n).start(),n.Va.ca()}function WD(n){return Bo(n)&&!xa(n).O_()&&n.Ea.size>0}function Bo(n){return X(n).da.size===0}function qk(n){n.ma=void 0}function i9(n){return v(this,null,function*(){n.Va.set("Online")})}function o9(n){return v(this,null,function*(){n.Ea.forEach((e,t)=>{qD(n,e)})})}function s9(n,e){return v(this,null,function*(){qk(n),WD(n)?(n.Va.Pa(e),GD(n)):n.Va.set("Unknown")})}function a9(n,e,t){return v(this,null,function*(){if(n.Va.set("Online"),e instanceof kp&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ea.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ea.delete(a),i.ma.removeTarget(a))})}(n,e)}catch(r){B(Vo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield zp(n,r)}else if(e instanceof ma?n.ma.Xe(e):e instanceof xp?n.ma.ot(e):n.ma.nt(e),!t.isEqual(ie.min()))try{let r=yield $k(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.ma.It(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let h=o.Ea.get(l);h&&o.Ea.set(l,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let h=o.Ea.get(c);if(!h)return;o.Ea.set(c,h.withResumeToken(wt.EMPTY_BYTE_STRING,h.snapshotVersion)),zk(o,c);let p=new Wu(h.target,c,l,h.sequenceNumber);qD(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){B(Vo,"Failed to raise snapshot:",r),yield zp(n,r)}})}function zp(n,e,t){return v(this,null,function*(){if(!Pa(e))throw e;n.da.add(1),yield rl(n),n.Va.set("Offline"),t||(t=()=>$k(n.localStore)),n.asyncQueue.enqueueRetryable(()=>v(null,null,function*(){B(Vo,"Retrying IndexedDB access"),yield t(),n.da.delete(1),yield dg(n)}))})}function Gk(n,e){return e().catch(t=>zp(n,t,e))}function hg(n){return v(this,null,function*(){let e=X(n),t=Ri(e),r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:kD;for(;c9(e);)try{let i=yield e9(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,u9(e,i)}catch(i){yield zp(e,i)}Wk(e)&&Kk(e)})}function c9(n){return Bo(n)&&n.Ia.length<10}function u9(n,e){n.Ia.push(e);let t=Ri(n);t.N_()&&t.ea&&t.ta(e.mutations)}function Wk(n){return Bo(n)&&!Ri(n).O_()&&n.Ia.length>0}function Kk(n){Ri(n).start()}function l9(n){return v(this,null,function*(){Ri(n).ia()})}function d9(n){return v(this,null,function*(){let e=Ri(n);for(let t of n.Ia)e.ta(t.mutations)})}function h9(n,e,t){return v(this,null,function*(){let r=n.Ia.shift(),i=Ew.from(r,e,t);yield Gk(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield hg(n)})}function f9(n,e){return v(this,null,function*(){e&&Ri(n).ea&&(yield function(r,i){return v(this,null,function*(){if(function(s){return AW(s)&&s!==P.ABORTED}(i.code)){let o=r.Ia.shift();Ri(r).L_(),yield Gk(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield hg(r)}})}(n,e)),Wk(n)&&Kk(n)})}function Sx(n,e){return v(this,null,function*(){let t=X(n);t.asyncQueue.verifyOperationInProgress(),B(Vo,"RemoteStore received new credentials");let r=Bo(t);t.da.add(3),yield rl(t),r&&t.Va.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),yield dg(t)})}function p9(n,e){return v(this,null,function*(){let t=X(n);e?(t.da.delete(2),yield dg(t)):e||(t.da.add(2),yield rl(t),t.Va.set("Unknown"))})}function xa(n){return n.fa||(n.fa=function(t,r,i){let o=X(t);return o.oa(),new oD(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:i9.bind(null,n),n_:o9.bind(null,n),i_:s9.bind(null,n),Y_:a9.bind(null,n)}),n.Aa.push(e=>v(null,null,function*(){e?(n.fa.L_(),WD(n)?GD(n):n.Va.set("Unknown")):(yield n.fa.stop(),qk(n))}))),n.fa}function Ri(n){return n.ga||(n.ga=function(t,r,i){let o=X(t);return o.oa(),new sD(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:l9.bind(null,n),i_:f9.bind(null,n),na:d9.bind(null,n),ra:h9.bind(null,n)}),n.Aa.push(e=>v(null,null,function*(){e?(n.ga.L_(),yield hg(n)):(yield n.ga.stop(),n.Ia.length>0&&(B(Vo,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))}))),n.ga}var dD=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Sn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function KD(n,e){if(Vr("AsyncQueue",`${e}: ${n}`),Pa(n))return new $(P.UNAVAILABLE,`${e}: ${n}`);throw n}var qp=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||K.comparator(t.key,r.key):(t,r)=>K.comparator(t.key,r.key),this.keyedMap=Fu(),this.sortedSet=new je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Gp=class{constructor(){this.pa=new je(K.comparator)}track(e){let t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Q(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){let e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}},Sa=class n{constructor(e,t,r,i,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,qp.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var hD=class{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}},fD=class{constructor(){this.queries=Ax(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=X(t),o=i.queries;i.queries=Ax(),o.forEach((s,a)=>{for(let c of a.Sa)c.onError(r)})})(this,new $(P.ABORTED,"Firestore shutting down"))}};function Ax(){return new Br(n=>_k(n),cg)}function QD(n,e){return v(this,null,function*(){let t=X(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new hD,r=e.va()?0:1);try{switch(r){case 0:o.ba=yield t.onListen(i,!0);break;case 1:o.ba=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=KD(s,`Initialization of query '${ha(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&ZD(t)})}function YD(n,e){return v(this,null,function*(){let t=X(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function g9(n,e){let t=X(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.Sa)a.Ma(i)&&(r=!0);s.ba=i}}r&&ZD(t)}function m9(n,e,t){let r=X(n),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(t);r.queries.delete(e)}function ZD(n){n.Ca.forEach(e=>{e.next()})}var pD,Rx;(Rx=pD||(pD={})).xa="default",Rx.Cache="cache";var Yu=class{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Sa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;let r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;let t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==pD.Cache}};var Wp=class{constructor(e){this.key=e}},Kp=class{constructor(e){this.key=e}},gD=class{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=pe(),this.mutatedKeys=pe(),this.Za=Ek(e),this.Xa=new qp(this.Za)}get eu(){return this.Ha}tu(e,t){let r=t?t.nu:new Gp,i=t?t.Xa:this.Xa,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),m=ug(this.query,p)?p:null,w=!!g&&this.mutatedKeys.has(g.key),A=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),R=!1;g&&m?g.data.isEqual(m.data)?w!==A&&(r.track({type:3,doc:m}),R=!0):this.ru(g,m)||(r.track({type:2,doc:m}),R=!0,(c&&this.Za(m,c)>0||l&&this.Za(m,l)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),R=!0):g&&!m&&(r.track({type:1,doc:g}),R=!0,(c||l)&&(a=!0)),R&&(m?(s=s.add(m),o=A?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Xa:s,nu:r,Cs:a,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;let s=e.nu.wa();s.sort((h,p)=>function(m,w){let A=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{Vt:R})}};return A(m)-A(w)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),i=i!=null&&i;let a=t&&!i?this.su():[],c=this.Ya.size===0&&this.current&&!i?1:0,l=c!==this.Ja;return this.Ja=c,s.length!==0||l?{snapshot:new Sa(this.query,e.Xa,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Gp,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];let e=this.Ya;this.Ya=pe(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});let t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new Kp(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new Wp(r))}),t}au(e){this.Ha=e.$s,this.Ya=pe();let t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Sa.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}},JD="SyncEngine",mD=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},yD=class{constructor(e){this.key=e,this.cu=!1}},vD=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new Br(a=>_k(a),cg),this.Pu=new Map,this.Tu=new Set,this.Iu=new je(K.comparator),this.Eu=new Map,this.du=new Qu,this.Au={},this.Ru=new Map,this.Vu=Ku.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}};function y9(n,e,t=!0){return v(this,null,function*(){let r=eO(n),i,o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=yield Qk(r,e,t,!0),i})}function v9(n,e){return v(this,null,function*(){let t=eO(n);yield Qk(t,e,!0,!1)})}function Qk(n,e,t,r){return v(this,null,function*(){let i=yield t9(n.localStore,nr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield _9(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&Hk(n.remoteStore,i),a})}function _9(n,e,t,r,i){return v(this,null,function*(){n.fu=(p,g,m)=>function(A,R,k,H){return v(this,null,function*(){let q=R.view.tu(k);q.Cs&&(q=yield Tx(A.localStore,R.query,!1).then(({documents:T})=>R.view.tu(T,q)));let ge=H&&H.targetChanges.get(R.targetId),$e=H&&H.targetMismatches.get(R.targetId)!=null,ve=R.view.applyChanges(q,A.isPrimaryClient,ge,$e);return Mx(A,R.targetId,ve.ou),ve.snapshot})}(n,p,g,m);let o=yield Tx(n.localStore,e,!0),s=new gD(e,o.$s),a=s.tu(o.documents),c=Gu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,c);Mx(n,t,l.ou);let h=new mD(e,t,s);return n.hu.set(e,h),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),l.snapshot})}function E9(n,e,t){return v(this,null,function*(){let r=X(n),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!cg(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Jw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&zD(r.remoteStore,i.targetId),_D(r,i.targetId)}).catch(Ma))):(_D(r,i.targetId),yield Jw(r.localStore,i.targetId,!0))})}function I9(n,e){return v(this,null,function*(){let t=X(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),zD(t.remoteStore,r.targetId))})}function w9(n,e,t){return v(this,null,function*(){let r=R9(n);try{let i=yield function(s,a){let c=X(s),l=ct.now(),h=a.reduce((m,w)=>m.add(w.key),pe()),p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=$r(),A=pe();return c.Bs.getEntries(m,h).next(R=>{w=R,w.forEach((k,H)=>{H.isValidDocument()||(A=A.add(k))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,w)).next(R=>{p=R;let k=[];for(let H of a){let q=SW(H,p.get(H.key).overlayedDocument);q!=null&&k.push(new sr(H.key,q,hk(q.value.mapValue),rr.exists(!0)))}return c.mutationQueue.addMutationBatch(m,l,k,a)}).next(R=>{g=R;let k=R.applyToLocalDocumentSet(p,A);return c.documentOverlayCache.saveOverlays(m,R.batchId,k)})}).then(()=>({batchId:g.batchId,changes:wk(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.Au[s.currentUser.toKey()];l||(l=new je(de)),l=l.insert(a,c),s.Au[s.currentUser.toKey()]=l}(r,i.batchId,t),yield il(r,i.changes),yield hg(r.remoteStore)}catch(i){let o=KD(i,"Failed to persist write");t.reject(o)}})}function Yk(n,e){return v(this,null,function*(){let t=X(n);try{let r=yield JW(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?we(s.cu,14607):i.removedDocuments.size>0&&(we(s.cu,42227),s.cu=!1))}),yield il(t,r,e)}catch(r){yield Ma(r)}})}function Nx(n,e,t){let r=X(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.hu.forEach((o,s)=>{let a=s.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=X(s);c.onlineState=a;let l=!1;c.queries.forEach((h,p)=>{for(let g of p.Sa)g.Fa(a)&&(l=!0)}),l&&ZD(c)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function D9(n,e,t){return v(this,null,function*(){let r=X(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new je(K.comparator);s=s.insert(o,An.newNoDocument(o,ie.min()));let a=pe().add(o),c=new Pp(ie.min(),new Map,new je(de),s,a);yield Yk(r,c),r.Iu=r.Iu.remove(o),r.Eu.delete(e),XD(r)}else yield Jw(r.localStore,e,!1).then(()=>_D(r,e,t)).catch(Ma)})}function T9(n,e){return v(this,null,function*(){let t=X(n),r=e.batch.batchId;try{let i=yield ZW(t.localStore,e);Jk(t,r,null),Zk(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield il(t,i)}catch(i){yield Ma(i)}})}function b9(n,e,t){return v(this,null,function*(){let r=X(n);try{let i=yield function(s,a){let c=X(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return c.mutationQueue.lookupMutationBatch(l,a).next(p=>(we(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(l,p))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>c.localDocuments.getDocuments(l,h))})}(r.localStore,e);Jk(r,e,t),Zk(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield il(r,i)}catch(i){yield Ma(i)}})}function Zk(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function Jk(n,e,t){let r=X(n),i=r.Au[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function _D(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||Xk(n,r)})}function Xk(n,e){n.Tu.delete(e.path.canonicalString());let t=n.Iu.get(e);t!==null&&(zD(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),XD(n))}function Mx(n,e,t){for(let r of t)r instanceof Wp?(n.du.addReference(r.key,e),C9(n,r)):r instanceof Kp?(B(JD,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||Xk(n,r.key)):Q(19791,{pu:r})}function C9(n,e){let t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(B(JD,"New document in limbo: "+t),n.Tu.add(r),XD(n))}function XD(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){let e=n.Tu.values().next().value;n.Tu.delete(e);let t=new K(Oe.fromString(e)),r=n.Vu.next();n.Eu.set(r,new yD(t)),n.Iu=n.Iu.insert(t,r),Hk(n.remoteStore,new Wu(nr(ag(t.path)),r,"TargetPurposeLimboResolution",xD.le))}}function il(n,e,t){return v(this,null,function*(){let r=X(n),i=[],o=[],s=[];r.hu.isEmpty()||(r.hu.forEach((a,c)=>{s.push(r.fu(c,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Kw.Rs(c.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.lu.Y_(i),yield function(c,l){return v(this,null,function*(){let h=X(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,g=>x.forEach(g.ds,m=>h.persistence.referenceDelegate.addReference(p,g.targetId,m)).next(()=>x.forEach(g.As,m=>h.persistence.referenceDelegate.removeReference(p,g.targetId,m)))))}catch(p){if(!Pa(p))throw p;B(HD,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let m=h.xs.get(g),w=m.snapshotVersion,A=m.withLastLimboFreeSnapshotVersion(w);h.xs=h.xs.insert(g,A)}}})}(r.localStore,o))})}function S9(n,e){return v(this,null,function*(){let t=X(n);if(!t.currentUser.isEqual(e)){B(JD,"User change. New user:",e.toKey());let r=yield Bk(t.localStore,e);t.currentUser=e,function(o,s){o.Ru.forEach(a=>{a.forEach(c=>{c.reject(new $(P.CANCELLED,s))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield il(t,r.ks)}})}function A9(n,e){let t=X(n),r=t.Eu.get(e);if(r&&r.cu)return pe().add(r.key);{let i=pe(),o=t.Pu.get(e);if(!o)return i;for(let s of o){let a=t.hu.get(s);i=i.unionWith(a.view.eu)}return i}}function eO(n){let e=X(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D9.bind(null,e),e.lu.Y_=g9.bind(null,e.eventManager),e.lu.gu=m9.bind(null,e.eventManager),e}function R9(n){let e=X(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=b9.bind(null,e),e}var tO=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return v(this,null,function*(){this.serializer=lg(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),yield this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)})}vu(t,r){return null}Cu(t,r){return null}Du(t){return YW(this.persistence,new Yw,t.initialUser,this.serializer)}Su(t){return new Vp(Ww.fi,this.serializer)}bu(t){return new Xw}terminate(){return v(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),ED=class extends tO{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){we(this.persistence.referenceDelegate instanceof jp,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new kw(r,e.asyncQueue,t)}Su(e){let t=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new Vp(r=>jp.fi(r,t),this.serializer)}};var N9=(()=>{class n{initialize(t,r){return v(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Nx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=S9.bind(null,this.syncEngine),yield p9(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new fD}()}createDatastore(t){let r=lg(t.databaseInfo.databaseId),i=function(s){return new iD(s)}(t.databaseInfo);return function(s,a,c,l){return new cD(s,a,c,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new lD(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>Nx(this.syncEngine,r,0),function(){return Bp.C()?new Bp:new eD}())}createSyncEngine(t,r){return function(o,s,a,c,l,h,p){let g=new vD(o,s,a,c,l,h);return p&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var t,r;yield function(o){return v(this,null,function*(){let s=X(o);B(Vo,"RemoteStore shutting down."),s.da.add(5),yield rl(s),s.Ra.shutdown(),s.Va.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Zu=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Ni="FirestoreClient",ID=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=rt.UNAUTHENTICATED,this.clientId=Tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){B(Ni,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(B(Ni,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Sn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=KD(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function GI(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),B(Ni,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>v(null,null,function*(){r.isEqual(i)||(yield Bk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function Px(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield M9(n);B(Ni,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Sx(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Sx(e.remoteStore,i)),n._onlineComponents=e})}function M9(n){return v(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){B(Ni,"Using user provided OfflineComponentProvider");try{yield GI(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;va("Error using user provided cache. Falling back to memory cache: "+t),yield GI(n,new tO)}}else B(Ni,"Using default OfflineComponentProvider"),yield GI(n,new ED(void 0));return n._offlineComponents})}function nO(n){return v(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(B(Ni,"Using user provided OnlineComponentProvider"),yield Px(n,n._uninitializedComponentsProvider._online)):(B(Ni,"Using default OnlineComponentProvider"),yield Px(n,new N9))),n._onlineComponents})}function P9(n){return nO(n).then(e=>e.syncEngine)}function Qp(n){return v(this,null,function*(){let e=yield nO(n),t=e.eventManager;return t.onListen=y9.bind(null,e.syncEngine),t.onUnlisten=E9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=v9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=I9.bind(null,e.syncEngine),t})}function x9(n,e,t={}){let r=new Sn;return n.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return function(o,s,a,c,l){let h=new Zu({next:g=>{h.xu(),s.enqueueAndForget(()=>YD(o,p));let m=g.docs.has(a);!m&&g.fromCache?l.reject(new $(P.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&c&&c.source==="server"?l.reject(new $(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new Yu(ag(a.path),h,{includeMetadataChanges:!0,Qa:!0});return QD(o,p)}(yield Qp(n),n.asyncQueue,e,t,r)})),r.promise}function k9(n,e,t={}){let r=new Sn;return n.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return function(o,s,a,c,l){let h=new Zu({next:g=>{h.xu(),s.enqueueAndForget(()=>YD(o,p)),g.fromCache&&c.source==="server"?l.reject(new $(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new Yu(a,h,{includeMetadataChanges:!0,Qa:!0});return QD(o,p)}(yield Qp(n),n.asyncQueue,e,t,r)})),r.promise}function rO(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var xx=new Map;function iO(n,e,t){if(!t)throw new $(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function O9(n,e,t,r){if(e===!0&&r===!0)throw new $(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function kx(n){if(!K.isDocumentKey(n))throw new $(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ox(n){if(K.isDocumentKey(n))throw new $(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Q(12329,{type:typeof n})}function $t(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=fg(n);throw new $(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var oO="firestore.googleapis.com",Fx=!0,Yp=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oO,this.ssl=Fx}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Fx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Uk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WW)throw new $(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Aa=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new WI;switch(r.type){case"firstParty":return new ZI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=xx.get(t);r&&(B("ComponentProvider","Removing Datastore"),xx.delete(t),r.terminate())}(this),Promise.resolve()}};function sO(n,e,t,r={}){var i;n=$t(n,Aa);let o=vi(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(xf(`https://${c}`),kf("Firestore",!0)),s.host!==oO&&s.host!==c&&va("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!Zn(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=rt.MOCK_USER;else{h=fM(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new $(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new rt(g)}n._authCredentials=new KI(new wp(h,p))}}var jo=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},It=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Si=class n extends jo{constructor(e,t,r){super(e,t,ag(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new K(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function aO(n,e,...t){if(n=Me(n),iO("collection","path",e),n instanceof Aa){let r=Oe.fromString(e,...t);return Ox(r),new Si(n,null,r)}{if(!(n instanceof It||n instanceof Si))throw new $(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Oe.fromString(e,...t));return Ox(r),new Si(n.firestore,null,r)}}function eT(n,e,...t){if(n=Me(n),arguments.length===1&&(e=Tp.newId()),iO("doc","path",e),n instanceof Aa){let r=Oe.fromString(e,...t);return kx(r),new It(n,null,new K(r))}{if(!(n instanceof It||n instanceof Si))throw new $(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Oe.fromString(e,...t));return kx(r),new It(n.firestore,n instanceof Si?n.converter:null,new K(r))}}var Lx="AsyncQueue",Zp=class{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new $p(this,"async_queue_retry"),this.rc=()=>{let r=qI();r&&B(Lx,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;let t=qI();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;let t=qI();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});let t=new Sn;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}ac(){return v(this,null,function*(){if(this.Ju.length!==0){try{yield this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Pa(e))throw e;B(Lx,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}})}_c(e){let t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Vr("INTERNAL UNHANDLED ERROR: ",Vx(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);let i=dD.createAndSchedule(this,e,t,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&Q(47125,{cc:Vx(this.Xu)})}verifyOperationInProgress(){}lc(){return v(this,null,function*(){let e;do e=this.sc,yield e;while(e!==this.sc)})}hc(e){for(let t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){let t=this.Zu.indexOf(e);this.Zu.splice(t,1)}};function Vx(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function jx(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Nn=class extends Aa{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Zp,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Zp(e),this._firestoreClient=void 0,yield e}})}};function pg(n,e){let t=typeof n=="object"?n:Eo(),r=typeof n=="string"?n:e||Ap,i=na(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=hM("firestore");o&&sO(i,...o)}return i}function gg(n){if(n._terminated)throw new $(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||F9(n),n._firestoreClient}function F9(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,l,h){return new nw(a,c,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,rO(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new ID(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var Ju=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(wt.fromBase64String(e))}catch(t){throw new $(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ra=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Uo=class{constructor(e){this._methodName=e}};var Xu=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}};var el=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var L9=/^__.*__$/,wD=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new sr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lo(e,this.data,t,this.fieldTransforms)}},Jp=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new sr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function cO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{Ic:n})}}var DD=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return eg(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(cO(this.Ic)&&L9.test(e))throw this.gc('Document fields cannot begin and end with "__"')}},TD=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||lg(e)}bc(e,t,r,i=!1){return new DD({Ic:e,methodName:t,wc:r,path:tn.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function mg(n){let e=n._freezeSettings(),t=lg(n._databaseId);return new TD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function uO(n,e,t,r,i,o={}){let s=n.bc(o.merge||o.mergeFields?2:0,e,t,i);tT("Data must be an object, but it was:",s,r);let a=lO(r,s),c,l;if(o.merge)c=new ln(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=SD(e,p,t);if(!s.contains(g))throw new $(P.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);hO(h,g)||h.push(g)}c=new ln(h),l=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,l=s.fieldTransforms;return new wD(new en(a),c,l)}var Xp=class n extends Uo{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};var bD=class n extends Uo{_toFieldTransform(e){return new Mp(e.path,new xo)}isEqual(e){return e instanceof n}};var CD=class n extends Uo{constructor(e,t){super(e),this.Dc=t}_toFieldTransform(e){let t=new Fo(e.serializer,bk(e.serializer,this.Dc));return new Mp(e.path,t)}isEqual(e){return e instanceof n&&this.Dc===e.Dc}};function V9(n,e,t,r){let i=n.bc(1,e,t);tT("Data must be an object, but it was:",i,r);let o=[],s=en.empty();Mi(r,(c,l)=>{let h=nT(e,c,t);l=Me(l);let p=i.mc(h);if(l instanceof Xp)o.push(h);else{let g=ol(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new ln(o);return new Jp(s,a,i.fieldTransforms)}function j9(n,e,t,r,i,o){let s=n.bc(1,e,t),a=[SD(e,r,t)],c=[i];if(o.length%2!=0)throw new $(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(SD(e,o[g])),c.push(o[g+1]);let l=[],h=en.empty();for(let g=a.length-1;g>=0;--g)if(!hO(l,a[g])){let m=a[g],w=c[g];w=Me(w);let A=s.mc(m);if(w instanceof Xp)l.push(m);else{let R=ol(w,A);R!=null&&(l.push(m),h.set(m,R))}}let p=new ln(l);return new Jp(h,p,s.fieldTransforms)}function U9(n,e,t,r=!1){return ol(t,n.bc(r?4:3,e))}function ol(n,e){if(dO(n=Me(n)))return tT("Unsupported field value:",e,n),lO(n,e);if(n instanceof Uo)return function(r,i){if(!cO(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=ol(a,i.fc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Me(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ct.fromDate(r);return{timestampValue:Fp(i.serializer,o)}}if(r instanceof ct){let o=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fp(i.serializer,o)}}if(r instanceof Xu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ju)return{bytesValue:xk(i.serializer,r._byteString)};if(r instanceof It){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:$D(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof el)return function(s,a){return{mapValue:{fields:{[FD]:{stringValue:LD},[Ea]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.gc("VectorValues must only contain numeric values.");return BD(a.serializer,l)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${fg(r)}`)}(n,e)}function lO(n,e){let t={};return ik(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mi(n,(r,i)=>{let o=ol(i,e.Ac(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function dO(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ct||n instanceof Xu||n instanceof Ju||n instanceof It||n instanceof Uo||n instanceof el)}function tT(n,e,t){if(!dO(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=fg(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function SD(n,e,t){if((e=Me(e))instanceof Ra)return e._internalPath;if(typeof e=="string")return nT(n,e);throw eg("Field path arguments must be of type string or ",n,!1,void 0,t)}var B9=new RegExp("[~\\*/\\[\\]]");function nT(n,e,t){if(e.search(B9)>=0)throw eg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ra(...e.split("."))._internalPath}catch{throw eg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function eg(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new $(P.INVALID_ARGUMENT,a+n+c)}function hO(n,e){return n.some(t=>t.isEqual(e))}var tg=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new AD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(rT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},AD=class extends tg{data(){return super.data()}};function rT(n,e){return typeof e=="string"?nT(n,e):e instanceof Ra?e._internalPath:e._delegate._internalPath}function fO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new $(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var tl=class{},RD=class extends tl{};function pO(n,e,...t){let r=[];e instanceof tl&&r.push(e),r=r.concat(t),function(o){let s=o.filter(c=>c instanceof ND).length,a=o.filter(c=>c instanceof ng).length;if(s>1||s>0&&a>0)throw new $(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var ng=class n extends RD{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return mO(e._query,t),new jo(e.firestore,e.converter,gw(e._query,t))}_parse(e){let t=mg(e.firestore);return function(o,s,a,c,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new $(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Bx(p,h);let w=[];for(let A of p)w.push(Ux(c,o,A));g={arrayValue:{values:w}}}else g=Ux(c,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Bx(p,h),g=U9(a,s,p,h==="in"||h==="not-in");return Qe.create(l,h,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function gO(n,e,t){let r=e,i=rT("where",n);return ng._create(i,r,t)}var ND=class n extends tl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Rn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)mO(s,c),s=gw(s,c)}(e._query,t),new jo(e.firestore,e.converter,gw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function Ux(n,e,t){if(typeof(t=Me(t))=="string"){if(t==="")throw new $(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vk(e)&&t.indexOf("/")!==-1)throw new $(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Oe.fromString(t));if(!K.isDocumentKey(r))throw new $(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ox(n,new K(r))}if(t instanceof It)return ox(n,t._key);throw new $(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fg(t)}.`)}function Bx(n,e){if(!Array.isArray(n)||n.length===0)throw new $(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mO(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new $(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var MD=class{convertValue(e,t="none"){switch(Ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Mi(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ea].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Pe(s.doubleValue));return new el(o)}convertGeoPoint(e){return new Xu(Pe(e.latitude),Pe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=sg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Hu(e));default:return null}}convertTimestamp(e){let t=jr(e);return new ct(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Oe.fromString(e);we(jk(r),9688,{name:e});let i=new Rp(r.get(1),r.get(3)),o=new K(r.popFirst(5));return i.isEqual(t)||Vr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function yO(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ro=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},rg=class extends tg{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ya(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(rT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},ya=class extends rg{data(e={}){return super.data(e)}},ig=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ro(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ya(this._firestore,this._userDataWriter,r.key,r,new Ro(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new ya(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ro(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new ya(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ro(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:$9(a.type),doc:c,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function $9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:n})}}function vO(n){n=$t(n,It);let e=$t(n.firestore,Nn);return x9(gg(e),n._key).then(t=>DO(e,n,t))}var nl=class extends MD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ju(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,t)}};function _O(n){n=$t(n,jo);let e=$t(n.firestore,Nn),t=gg(e),r=new nl(e);return fO(n._query),k9(t,n._query).then(i=>new ig(e,r,n,i))}function EO(n,e,t){n=$t(n,It);let r=$t(n.firestore,Nn),i=yO(n.converter,e,t);return vg(r,[uO(mg(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,rr.none())])}function IO(n,e,t,...r){n=$t(n,It);let i=$t(n.firestore,Nn),o=mg(i),s;return s=typeof(e=Me(e))=="string"||e instanceof Ra?j9(o,"updateDoc",n._key,e,t,r):V9(o,"updateDoc",n._key,e),vg(i,[s.toMutation(n._key,rr.exists(!0))])}function wO(n){return vg($t(n.firestore,Nn),[new qu(n._key,rr.none())])}function yg(n,e){let t=$t(n.firestore,Nn),r=eT(n),i=yO(n.converter,e);return vg(t,[uO(mg(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,rr.exists(!1))]).then(()=>r)}function iT(n,...e){var t,r,i;n=Me(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||jx(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(jx(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,l,h;if(n instanceof It)l=$t(n.firestore,Nn),h=ag(n._key.path),c={next:p=>{e[s]&&e[s](DO(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=$t(n,jo);l=$t(p.firestore,Nn),h=p._query;let g=new nl(l);c={next:m=>{e[s]&&e[s](new ig(l,g,p,m))},error:e[s+1],complete:e[s+2]},fO(n._query)}return function(g,m,w,A){let R=new Zu(A),k=new Yu(m,R,w);return g.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return QD(yield Qp(g),k)})),()=>{R.xu(),g.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return YD(yield Qp(g),k)}))}}(gg(l),h,a,c)}function vg(n,e){return function(r,i){let o=new Sn;return r.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return w9(yield P9(r),i,o)})),o.promise}(gg(n),e)}function DO(n,e,t){let r=t.docs.get(e._key),i=new nl(n);return new rg(n,i,e._key,r,new Ro(t.hasPendingWrites,t.fromCache),e.converter)}function TO(){return new bD("serverTimestamp")}function bO(n){return new CD("increment",n)}(function(e,t=!0){(function(i){Na=i})(Ei),Tn(new At("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Nn(new QI(r.getProvider("auth-internal")),new JI(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new $(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rp(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ve(QP,YP,e),Ve(QP,YP,"esm2017")})();var _g=function(){return _g=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},_g.apply(this,arguments)};var q9={includeMetadataChanges:!1};function CO(n,e){return e===void 0&&(e=q9),new J(function(t){var r=iT(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function SO(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:_g(_g({},r),(t={},t[e.idField]=n.id,t))}function AO(n){return CO(n,{includeMetadataChanges:!0}).pipe(ne(function(e){return e.docs}))}function RO(n,e){return e===void 0&&(e={}),AO(n).pipe(ne(function(t){return t.map(function(r){return SO(r,e)})}))}var $o=class{constructor(e){return e}},NO="firestore",oT=class{constructor(){return ca(NO)}};var sT=new V("angularfire2.firestore-instances");function G9(n,e){let t=Mu(NO,n,e);return t&&new $o(t)}function W9(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new $o(r)}}var K9={provide:oT,deps:[[new St,sT]]},Q9={provide:$o,useFactory:G9,deps:[[new St,sT],Or]};function cae(n,...e){return Ve("angularfire",Ti.full,"fst"),Gt([Q9,K9,{provide:sT,useFactory:W9(n),multi:!0,deps:[he,ke,bi,bo,[new St,ku],[new St,ua],...e]}])}var uae=Ge(RO,!0);var lae=Ge(yg,!0,2);var Eg=Ge(aO,!0,2);var dae=Ge(wO,!0,2);var Ho=Ge(eT,!0,2);var Ig=Ge(vO,!0);var wg=Ge(_O,!0);var hae=Ge(pg,!0);var MO=Ge(bO,!0,2);var Dg=Ge(pO,!0,2);var sl=Ge(EO,!0,2);var al=Ge(IO,!0,2);var Tg=Ge(gO,!0,2);var PO=class n{constructor(e){this.firestore=e;GP(this._auth,t=>v(this,null,function*(){if(!t){this.userNameSubject.next(null),this.userRoleSubject.next(null);return}let r=t.uid,i=null;if(t.providerData[0]?.providerId==="google.com")i=t.displayName||t.email||null;else{let o=Ho(this.firestore,"usuarios",r),s=yield Ig(o);if(s.exists()){let a=s.data();i=a?.nombre||t.email||null,this.userRoleSubject.next(a?.role||"user")}}this.userNameSubject.next(i)}))}_auth=M(Co);roles="user";auth=Nu();userNameSubject=new He(null);userName$=this.userNameSubject.asObservable();userRoleSubject=new He(null);userRole$=this.userRoleSubject.asObservable();loadUserRole(e,t){return v(this,null,function*(){let r=Ho(this.firestore,"usuarios",e),o=(yield Ig(r)).data();if(o){this.userRoleSubject.next(o?.role||"user");let s=o?.nombre;this.userNameSubject.next(s&&s.trim()!==""?s:"USUARIO"),console.log("Usuario encontrado en usuarios:",e,s)}else if(t){let s=Ho(this.firestore,"numeros",t),a=yield Ig(s);if(a.exists()){let l=a.data()?.nombre||"USUARIO";this.userNameSubject.next(l),this.userRoleSubject.next("user"),console.log("Nombre encontrado en numeros:",l),yield sl(r,{nombre:l,role:"user",telefono:t,creadoEn:new Date})}else yield sl(s,{telefono:t,nombre:"USUARIOW",creadoEn:new Date}),this.userNameSubject.next("USUARIOW"),this.userRoleSubject.next("user"),yield sl(r,{nombre:"USUARIOW",role:"user",telefono:t,creadoEn:new Date}),console.log("Nuevo documento creado en numeros con nombre USUARIOW")}})}incrementarIntentosPorEmail(e){return v(this,null,function*(){let t=Eg(this.firestore,"usuarios"),r=Dg(t,Tg("email","==",e)),i=yield wg(r);if(i.empty)console.warn(`No se encontr\xF3 un usuario con el email: ${e}`);else{let o=i.docs[0],s=o.id,l=(o.data().intentos??0)+1;yield al(Ho(this.firestore,"usuarios",s),{intentos:l}),console.log(`Intentos para ${e}: ${l}`),l>=3&&alert("\xA1Este usuario ha superado el l\xEDmite de intentos!")}})}cambiarPassword(e,t){return v(this,null,function*(){try{let i=(yield Ru(this._auth,e.email,e.password)).user;yield cp(i,t),console.log("Contrase\xF1a actualizada correctamente.")}catch(r){throw console.error("Error al cambiar la contrase\xF1a:",r),r}})}updateUserName(e){let t=e?.displayName||e?.email||null;this.userNameSubject.next(t)}signUp(e){return v(this,null,function*(){let t=yield ap(this._auth,e.email,e.password);return this.updateUserName(t.user),yield sl(Ho(this.firestore,"usuarios",t.user.uid),{email:e.email,nombre:e.nombre,telefono:"",intentos:0,role:this.roles||"user"}),yield this.loadUserRole(t.user.uid),t})}signIn(e){return v(this,null,function*(){let t=Eg(this.firestore,"usuarios"),r=Dg(t,Tg("email","==",e.email)),i=yield wg(r);if(i.empty)throw new Error("Usuario no encontrado");let o=i.docs[0],s=o.data();if(s.intentos>=3)throw alert("Demasiados intentos, cambia tu clave para poder ingresar"),new Error("Demasiados intentos fallidos. Intenta m\xE1s tarde.");try{let a=yield Ru(this._auth,e.email,e.password);yield al(o.ref,{intentos:0});let c=s.nombre||a.user.email||null;return this.userNameSubject.next(c),this.userRoleSubject.next(s.role||"user"),a}catch{throw yield al(o.ref,{intentos:MO(1),ultimoIntento:TO()}),alert("datos incorrectos"),new Error("Correo o contrase\xF1a incorrectos")}})}signInWithGoogle(){return v(this,null,function*(){let e=new II,t=yield dp(this._auth,e),r=t.user;this.updateUserName(r),yield this.loadUserRole(r.uid);let i=pg(),o=Eg(i,"usuarios"),s=Dg(o,Tg("email","==",r.email)),a=yield wg(s);return a.empty?yield yg(o,{uid:r.uid,email:r.email,nombre:r.displayName||"",intentos:0,telefono:""}):a.forEach(c=>v(this,null,function*(){let l=Ho(i,"usuarios",c.id);yield al(l,{intentos:0})})),t})}cerrarSesion(){return up(this._auth).then(()=>{this.userNameSubject.next(null),console.log("Sesi\xF3n cerrada correctamente.")}).catch(e=>{console.error("Error al cerrar sesi\xF3n:",e)})}getCurrentUser(){return new Promise(e=>{let t=this.auth.onAuthStateChanged(r=>{t(),e(r)})})}static \u0275fac=function(t){return new(t||n)(G($o))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})};export{O as a,oe as b,Z9 as c,J9 as d,v as e,Le as f,J as g,es as h,Ae as i,He as j,ft as k,W as l,is as m,wm as n,ne as o,cc as p,os as q,Dm as r,Q1 as s,Y1 as t,Xe as u,Z1 as v,fr as w,J1 as x,pr as y,Jr as z,zb as A,Cm as B,eF as C,tF as D,cd as E,Mt as F,Sm as G,st as H,L as I,tv as J,j as K,Ot as L,V as M,G as N,M as O,Gt as P,RF as Q,et as R,Wt as S,IJ as T,wJ as U,$n as V,ke as W,iC as X,xe as Y,he as Z,Vn as _,yt as $,VL as aa,Tv as ba,ai as ca,DJ as da,Cv as ea,ZL as fa,Rv as ga,mn as ha,TJ as ia,EV as ja,IV as ka,bJ as la,CJ as ma,Xi as na,Is as oa,sn as pa,z as qa,Sr as ra,kJ as sa,rA as ta,Vt as ua,_e as va,Yv as wa,vt as xa,$2 as ya,n_ as za,_r as Aa,Ps as Ba,aU as Ca,_h as Da,LJ as Ea,VJ as Fa,jJ as Ga,UJ as Ha,BJ as Ia,_A as Ja,EA as Ka,r_ as La,IA as Ma,wA as Na,TU as Oa,$J as Pa,CU as Qa,zn as Ra,HJ as Sa,zJ as Ta,qJ as Ua,FU as Va,TA as Wa,bA as Xa,GJ as Ya,CA as Za,SA as _a,WJ as $a,KJ as ab,QJ as bb,YJ as cb,VU as db,AA as eb,jU as fb,UU as gb,ZJ as hb,BU as ib,HU as jb,an as kb,JJ as lb,XJ as mb,eX as nb,tX as ob,nX as pb,rX as qb,kA as rb,iX as sb,o_ as tb,ci as ub,s_ as vb,ui as wb,io as xb,UA as yb,oX as zb,Be as Ab,CB as Bb,XA as Cb,SB as Db,AB as Eb,RB as Fb,NB as Gb,MB as Hb,g_ as Ib,kB as Jb,QB as Kb,n$ as Lb,wR as Mb,b$ as Nb,C$ as Ob,Zt as Pb,Yn as Qb,K_ as Rb,wn as Sb,gf as Tb,n4 as Ub,o4 as Vb,s4 as Wb,f4 as Xb,jN as Yb,RN as Zb,Nr as _b,are as $b,cre as ac,F4 as bc,lu as cc,j4 as dc,lre as ec,B4 as fc,H4 as gc,q4 as hc,iM as ic,dre as jc,hre as kc,J4 as lc,ez as mc,fre as nc,pre as oc,gre as pc,Qie as qc,Yie as rc,Ru as sc,cp as tc,TI as uc,oI as vc,RP as wc,Nu as xc,Aoe as yc,Roe as zc,aO as Ac,eT as Bc,pg as Cc,pO as Dc,gO as Ec,_O as Fc,IO as Gc,$o as Hc,cae as Ic,uae as Jc,lae as Kc,Eg as Lc,dae as Mc,Ho as Nc,hae as Oc,al as Pc,PO as Qc};
